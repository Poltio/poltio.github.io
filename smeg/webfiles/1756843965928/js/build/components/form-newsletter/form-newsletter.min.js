var $newsletterContainer,$newsletterFormGroup,$newsletterEmailField,$newsletterCheckboxField,$newsletterSubmitButton,newsletterSubscriptionUrl;function validateFormAndSubscribe(){var e=$newsletterEmailField.val();e&&validateEmail(e)?($newsletterEmailField.removeClass("is-invalid"),$("#invalid-feedback-newsletter").removeClass("d-block").html(""),$newsletterCheckboxField.is(":checked")?($newsletterCheckboxField.removeClass("is-invalid"),$newsletterSubmitButton.prop("disabled",!0),$newsletterFormGroup.addClass("loading"),$.get(newsletterSubscriptionUrl,{email_address:e},showSubscriptionResult,"json"),window.connectif&&window.connectif.managed&&window.connectif.managed.isInitialized()&&window.connectif.managed.sendEvents([],{entityInfo:{primaryKey:e||""}})):($newsletterCheckboxField.addClass("is-invalid"),$("#invalid-feedback-newsletter").addClass("d-block").html(privacyPolicyMandatory))):($newsletterEmailField.addClass("is-invalid"),$("#invalid-feedback-newsletter").addClass("d-block").html(e?privacyPolicyEmailInvalid:privacyPolicyEmailMandatory))}function showSubscriptionResult(e){$newsletterSubmitButton.prop("disabled",!1),$newsletterFormGroup.removeClass("loading"),e.hasError?($newsletterContainer.find(".positive").hide(),$newsletterContainer.find(".subscriberExist").hide(),$newsletterContainer.find(".negative").show()):e.subscriberExist?($newsletterContainer.find(".positive").hide(),$newsletterContainer.find(".negative").hide(),$newsletterContainer.find(".subscriberExist").show()):($newsletterContainer.find(".positive").show(),$newsletterContainer.find(".negative").hide(),$newsletterContainer.find(".subscriberExist").hide())}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}$(document).ready(function(){$newsletterContainer=$(".footer__newsletter"),$newsletterFormGroup=$newsletterContainer.find("> .form-group"),$newsletterEmailField=$newsletterContainer.find("#subscribe"),$newsletterCheckboxField=$newsletterContainer.find("#gridCheck"),$newsletterSubmitButton=$newsletterContainer.find(".footer__submit"),newsletterSubscriptionUrl=$newsletterContainer.attr("data-target-url"),$newsletterSubmitButton.click(validateFormAndSubscribe)});
//# sourceMappingURL=form-newsletter.min.js.map