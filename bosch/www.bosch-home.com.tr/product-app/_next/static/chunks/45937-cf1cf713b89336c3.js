"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45937],{71:(e,t,r)=>{r.d(t,{_:()=>p});var a=r(41364),o=r(46739),l=r(5935),n=r(22414),d=r(13380),i=r(45299),c=r(12115);let u={sm:"3xs",md:"2xs",lg:"xs",xl:"sm"},s={drawer:(0,d.AH)("z-index:21;position:fixed;"),content:(e,t)=>(0,d.AH)("overflow-y:auto;display:'flex';flex:1;width:",t.wrapper.width["".concat(u[e])],";flex-shrink:0;")},p=(0,c.forwardRef)((e,t)=>{let{...r}=e,d=(0,l.c)(),{isOpen:c,size:u,content:p}=r,{refs:m,context:C}=(0,i.we)({open:c}),y=(0,n.WA)(u)||"sm";return(0,a.Y)(o._,{...r,ref:t,css:s.drawer,isOpen:c,content:e=>(0,a.Y)(i.s3,{context:C,disabled:!c,children:(0,a.Y)("div",{css:s.content(y,d),ref:m.setFloating,children:p})})})})},15706:(e,t,r)=>{r.d(t,{CartProvider:()=>w,useCart:()=>I});var a=r(41364),o=r(1523),l=r(78775),n=r(75894),d=r(59554),i=r(76716),c=r(12115);let u=async(e,t,r,a)=>(0,l.Nz)(t,e)?await a({productCode:e}):await r({productCode:e,quantity:1});var s=r(24736);let p=e=>{e&&v(e.product.productCode)},m=async(e,t,r)=>{if(e){let{status:a,product:o}=e;if("ADD_SUCCESS"===a)h(o,t,r);else if("ADD_ERROR"===a){let{errorMessage:a}=e;h(o,t,r,null!=a?a:"")}}},C=e=>{(0,s.Vy)((0,s.Zv)(e.productCode,e.kind),e.productCode)},y=(e,t,r,a)=>{if(t&&((null==t?void 0:t.status)==="ADD_SUCCESS"||(null==t?void 0:t.status)==="UPGRADE_SUCCESS")){let o=t.crossSelledProducts.find(t=>t.productCode===e);if(o){let{price:t,productName:l,productKind:n,availabilityStatus:d}=o;(0,s.Vy)((0,s.b6)({id:e,brand:r,availability:d,price:t,quantity:"1",category:a,promotionStatus:s.Ld.NOT_ON_PROMOTION,type:s.F0.STANDALONE,productTitle:{headline:l.join(" "),valueClass:""},productHierarchy:null,rating:null,productKind:n}),"crossSelling-".concat(e))}}},f=(e,t,r,a)=>{let{productCode:o,price:l,productName:n,availabilityStatus:d,rating:i}=t;(0,s.Vy)((0,s.b6)({id:o,brand:r,availability:d,price:l,quantity:"1",category:a,promotionStatus:s.Ld.NOT_ON_PROMOTION,type:s.F0.STANDALONE,productTitle:{headline:n.join(" "),valueClass:""},productHierarchy:null,rating:i,updatedFromProduct:e}),"upselling-".concat(o))},h=(e,t,r,a)=>{let o=e.productTracking,l={headline:e.productName.join(" "),valueClass:""};o?(0,s.vx)((0,s.GX)(o,o.rating,1,o.reviewsCount,null,l,(0,s.yx)(o)?o.questionsCount:void 0,a)):t&&r&&(0,s.vx)((0,s.b6)({id:e.productCode,brand:t,category:r,availability:null,price:null,quantity:"1",rating:null,promotionStatus:s.Ld.NOT_ON_PROMOTION,type:s.F0.STANDALONE,productHierarchy:null,productTitle:l,error:a}))},v=e=>{(0,s.vx)((0,s.qP)(e))},S=async(e,t,r)=>{let a,o;if(!e.upsellingProduct)throw Error("upsellingProduct is required");let n=(0,l.K1)(e.upsellingProduct.serviceVibs,e.addedServiceVibs);try{a=await t({productCode:e.upsellingProduct.productCode,quantity:1,services:(0,l.oB)(n)})}catch(t){return g(e)}if("ERROR"===a.responseType)return g(e);try{o=await r({productCode:e.product.productCode})}catch(t){return P(e.upsellingProduct,n,a)}return"ERROR"===o.responseType?P(e.upsellingProduct,n,a):P(e.upsellingProduct,n,a,o)},P=(e,t,r,a)=>{var o,l,n;return{addToCartConfirmation:{status:"UPGRADE_SUCCESS",product:{productCode:e.productCode,productName:e.productName,productImage:e.productImage,productImageSrcSet:e.productImageSrcSet},productRating:null!=(o=e.rating)?o:void 0,addedServiceVibs:t,upsellingProduct:null,crossSelledProducts:r.crossSelledProducts},cart:null!=(l=null==a?void 0:a.cart)?l:r.cart,addedCartEntries:null!=(n=null==a?void 0:a.addedCartEntries)?n:r.addedCartEntries}},g=e=>({addToCartConfirmation:{...e,status:"UPGRADE_ERROR"}});var b=r(77515);let E=()=>r.e(76998).then(r.bind(r,72784)),x=c.createContext({cart:{count:null},startAddToCartProcess:()=>{throw Error("Cart Manager not ready yet, this should never happen.")},addToCart:()=>{throw Error("Cart Manager not ready yet, this should never happen.")},handleCrossSelledProductsCartInteraction:()=>{throw Error("Cart Manager not ready yet, this should never happen.")},upgradeProduct:()=>{throw Error("Cart Manager not ready yet, this should never happen.")},serviceVibConfirmation:null,addToCartConfirmation:{status:"ADD_ERROR",product:{productName:["K\xfcchenmaschine","OptiMUM 1300 W Silber","Schwarz"],productCode:"MUM9D33S11",productImage:{id:"foo.id",category:"PRODUCT_SHOTS"},productImageSrcSet:"https://media3.bsh-group.com/Product_Shots/100x100/19336973_K1048_MUM9D33S11_STP_9201086_def.webp 1x, https://media3.bsh-group.com/Product_Shots/200x200/19336973_K1048_MUM9D33S11_STP_9201086_def.webp 2x"},errorMessage:null},clearCartConfirmationDrawer:()=>{throw Error("Cart Manager not ready yet, this should never happen.")},loading:""});function k(e){return new Promise(t=>{setTimeout(()=>t(e),0)})}let w=e=>{let{children:t}=e,[r,s]=(0,c.useState)({count:null}),[h,v]=(0,c.useState)(""),{getApolloClient:P}=(0,o.m)(),[g,w]=(0,c.useState)([]),[I,_]=(0,c.useState)(null),[A,O]=(0,c.useState)(null),[R,T]=(0,c.useState)(null),[L,D]=(0,c.useState)([]),{getConsumerPriceGroup:N}=(0,b.I)(),Y=N(),F=(0,n.rD)(),{brand:M,country:U,language:q,channel:B}=(0,i.useRoutingData)(),G=(0,d.Zm)(F,{brand:M,country:U,language:q,channel:B});(0,c.useEffect)(()=>{E()},[]),(0,c.useEffect)(()=>{k(null).then(E).then(k)},[P]);let j=e=>{null==e||e.forEach(e=>C(e))},z=c.useCallback((e,t,r,a)=>{y(e,t,r,a)},[]),W=c.useCallback(async(e,t,r,a,o)=>{var n;v(e.productCode);let d=await P(),{addProductToCartApi:i}=await E(),c=a&&a.filter(e=>"serviceVib"===e.kind).map(e=>e.productCode),u=a&&(null==(n=a.find(e=>"CEW"===e.kind))?void 0:n.productCode),p=[...(o||[]).map(e=>{let{productCode:t}=e;return{productId:t,quantity:1,services:[],warrantyExtension:""}})];return j(a),(0,l.Gl)({product:e,productRating:r,addedServiceVibs:null!=a?a:[],persist:t=>i({productId:e.productCode,quantity:t.quantity,services:c,warrantyExtension:u,apolloClient:d,includeProductQuery:!0,contentLocales:G,extraProductsEntries:p,brand:M,config:F,priceGroup:Y})}).then(e=>{let{cart:r,addToCartConfirmation:a,addedCartEntries:o}=e;return T(a),w(o),r&&s(r),m(a,M,t)}).finally(()=>v(""))},[P,G,M,F,Y]),V=c.useCallback(async(e,t,r,a,o,l)=>{_(r),o&&o.length>0?(O({product:e,productRating:a,availableServiceVibs:o}),p({product:e,productRating:a,availableServiceVibs:o})):await W(e,t,a,void 0,l)},[W]),H=c.useCallback(e=>("SUCCESS"===e.responseType&&(w(e.addedCartEntries),s(e.cart)),v(""),e.responseType),[]),K=c.useCallback(async(e,t)=>{v(e);let r=await P(),{addProductToCartApi:a,deleteCartEntryFromCartApi:o}=await E(),n=async t=>{let o=await a({productId:t.productCode,quantity:t.quantity,apolloClient:r,includeProductQuery:!1,contentLocales:null,brand:M,config:F,priceGroup:Y});return"SUCCESS"===o.responseType&&D(t=>[...t,e]),o},d=async t=>{let a=await o({entryId:(0,l.Nz)(g,t.productCode).entryId,apolloClient:r});return"SUCCESS"===a.responseType&&D(t=>t.filter(t=>t!==e)),a},i=await u(e,g,n,d);return M&&t&&z(e,R,M,t),H(i)},[g,P,H,z,R,M,F,Y]),X=c.useCallback(async e=>{var t;if((null==R?void 0:R.status)!=="ADD_SUCCESS")throw Error("Must be in status ADD_SUCCESS to upgrade a product");if(!(null==R?void 0:R.upsellingProduct))throw Error("Can not upgrade without a upsellingProduct");v(null==R||null==(t=R.upsellingProduct)?void 0:t.productCode),f(R.product.productCode,R.upsellingProduct,M,e);let r=await P(),{addProductToCartApi:a,deleteCartEntryFromCartApi:o}=await E(),n=await S(R,e=>a({productId:e.productCode,quantity:e.quantity,services:e.services,apolloClient:r,includeProductQuery:!0,contentLocales:null,crossSellingProductIdsFromSession:L,brand:M,config:F,priceGroup:Y}),e=>o({entryId:(0,l.Nz)(g,e.productCode).entryId,apolloClient:r}));T(n.addToCartConfirmation),n.cart&&s(n.cart),n.addedCartEntries&&w(n.addedCartEntries),v("")},[R,g,L,P,M,F,Y]);return(0,a.Y)(x.Provider,{value:{cart:r,startAddToCartProcess:V,addToCart:W,serviceVibConfirmation:A,addToCartConfirmation:R,handleCrossSelledProductsCartInteraction:K,upgradeProduct:X,clearCartConfirmationDrawer:()=>{var e;null==I||null==(e=I.current)||e.focus(),O(null),T(null),w([]),D([])},loading:h},children:t})},I=()=>c.useContext(x)},26646:(e,t,r)=>{r.r(t),r.d(t,{MAX_COMPARABLE_PRODUCTS:()=>n,ProductCompareCheckboxComponent:()=>x,ProductCompareStickyBar:()=>H,addProductToCompareSelection:()=>s,canCompareProductSelection:()=>y,comparisonPageUrl:()=>f,defaultState:()=>d,isCompareLocaleValid:()=>h,isDisabled:()=>C,isSelected:()=>m,productCompareReducer:()=>c,removeProductFromCompareSelection:()=>p,replaceCompareSelection:()=>u});var a=r(6768),o=r(79935),l=r(18920);let n=20,d={maxComparableProducts:Number.MAX_SAFE_INTEGER,selectedProductFamily:null,selectedProducts:{}},i=(e,t,r)=>{var a,o;let l={...e};return l[r]=null==(a=l[r])?void 0:a.filter(e=>e.productCode!==t),(null==(o=l[r])?void 0:o.length)===0&&delete l[r],l},c=(e,t)=>{switch(t.type){case"REPLACE_SELECTION":return{...e,selectedProductFamily:t.selectedProductFamily,selectedProducts:t.selectedProducts};case"ADD_TO_SELECTION":return{...e,selectedProductFamily:t.selectedProductFamily,selectedProducts:{...e.selectedProducts,[t.selectedProductFamily]:[...e.selectedProducts[t.selectedProductFamily]||[],{productCode:t.productCode,productName:t.productName,productImage:t.productImage}]}};case"REMOVE_FROM_SELECTION":return{...e,selectedProducts:i(e.selectedProducts,t.productCode,t.productFamily)};case"RESET_SELECTION":return d;default:(0,a.d)(t)}},u=(e,t)=>({type:"REPLACE_SELECTION",selectedProductFamily:t,selectedProducts:e}),s=(e,t,r,a)=>({type:"ADD_TO_SELECTION",productCode:e,selectedProductFamily:t,productImage:a,productName:r}),p=(e,t)=>({type:"REMOVE_FROM_SELECTION",productCode:e,productFamily:t}),m=(e,t,r)=>{let a=e.selectedProducts[r];return!!a&&a.some(e=>e.productCode===t)},C=(e,t,r)=>{let a=0;for(let t in e.selectedProducts)if(Object.prototype.hasOwnProperty.call(e.selectedProducts,t)){let r=e.selectedProducts[t];a+=null==r?void 0:r.length}return a>=e.maxComparableProducts&&!m(e,t,r)},y=e=>Object.values(e.selectedProducts).some(e=>e.length>=2),f=(e,t)=>{let r=t.join(",");return e.replace("{PRODUCTS}",r)},h=e=>{let t=[e.brand.toLocaleLowerCase(),e.language.toLocaleLowerCase(),e.country.toLocaleLowerCase()].join("-"),r=(0,l._S)(o.Jy);return null===r||r===t};var v=r(41364),S=r(33541),P=r(42023),g=r(88544);let b=e=>{let{onCompare:t,handleCheckboxChange:r,"data-testid":a,label:o,variant:l,checked:n,disabled:d,...i}=e;return(0,v.Y)(g.G,{...i,css:{width:"fit-content",cursor:"pointer"},variant:l||"default","data-testid":a||"compare-checkbox-component",onClick:e=>e.stopPropagation(),label:e=>(0,v.Y)(g.i,{...e,children:o}),checkbox:e=>(0,v.Y)(P.S,{...e,checked:n,"aria-checked":n,onClick:t,onChange:r,disabled:d,variant:"idle",type:"checkbox"})})};var E=r(46681);let x=e=>{let{productCode:t,productFamily:r,productFamilyReplacement:a,productName:o,productImage:l,onCompare:n,selected:d,...i}=e,{t:c}=(0,S.B)("common"),{handleCheckboxChange:u,productCompareState:s}=(0,E.f)(),p=null!=a?a:r;return(0,v.Y)(b,{...i,"data-testid":"product-compare-checkbox-component",label:c("compare.compare"),checked:d||m(s,t,p),onCompare:e=>null==n?void 0:n(e),handleCheckboxChange:e=>u(e.target.checked,t,p,o.join(" "),l,e.target),disabled:C(s,t,p)})};var k=r(13380),w=r(75894),I=r(96894),_=r(33098),A=r(76261),O=r(21583),R=r(5935),T=r(76716),L=r(58329),D=r(12115),N=r(45299),Y=r(58951),F=r(99639),M=r(60760),U=r(43779),q=r(97512),B=r(81071),G=r(29435),j=r(86523),z=r(50871);let W=e=>{let t=0,r=0;switch(e){case"mobile":default:r=t=50;break;case"tablet":r=81.5+(t=64);break;case"desktop":r=81.5+(t=120)}return{stickyBarInset:t,tooltipInset:r}},V={stickyBar:e=>(0,k.AH)("position:fixed;bottom:0px;z-index:",e,";width:",355,"px;max-width:100%;@media (max-width:",I.f.md,"px){inset-inline-start:",W("mobile").stickyBarInset,"%;transform:translate(-50%,0) !important;direction:ltr;inset-block-end:16px;}@media (min-width:",I.f.md,"px){inset-inline-end:",W("tablet").stickyBarInset,"px;}@media (min-width:",I.f.lg,"px){inset-inline-end:",W("desktop").stickyBarInset,"px;}"),header:(0,k.AH)("cursor:pointer;&:focus-visible{outline-offset:0;outline-style:auto;}"),tooltip:e=>(0,k.AH)("width:",192,"px;position:fixed;bottom:4rem;z-index:",e,";@media (max-width:",I.f.md,"px){inset-inline-start:",W("mobile").tooltipInset,"%;transform:translate(-50%,0);direction:ltr;inset-block-end:4.5rem;}@media (min-width:",I.f.md,"px){inset-inline-end:",W("tablet").tooltipInset,"px;}@media (min-width:",I.f.lg,"px){inset-inline-end:",W("desktop").tooltipInset,"px;}")},H=e=>{var t;let{isPDP:r=!1,forwardedRef:a}=e,{t:o}=(0,S.B)("common"),{language:l}=(0,T.useRoutingData)(),n=(0,j.t)(),{productsToCompare:d,removeProductFromComparisonList:i,resetComparisonList:c,state:u,productCompareFocus:s}=(0,E.Z)(),p=(0,w.rD)(),m=(0,R.c)(),C=(0,w.bE)(p,l,"general","productComparePage"),h=y(u),[P,g]=(0,D.useState)(!1),b="mobile"===n,x=(0,D.useRef)(null),{refs:W,context:H}=(0,N.we)({open:P});return((0,D.useEffect)(()=>{(null==s?void 0:s.shouldFocus)&&0!==d.length&&x.current&&x.current.focus()},[x,null==s?void 0:s.shouldFocus,d.length]),(0,z.A)({onEscape:()=>g(!1),attachListener:P,focusRef:null!=(t=null==s?void 0:s.lastFocusElement)?t:void 0}),0===d.length)?null:(0,v.FD)("div",{ref:a,"data-testid":"product-compare-sticky-bar",children:[(0,v.Y)(L.j,{condition:P,children:(0,v.Y)(B.Ay,{children:(0,v.Y)(O.h,{isOpen:P,emphasis:"subtle",style:{zIndex:19,overflow:"hidden"},onClick:()=>g(!1),"data-testid":"product-compare-sticky-bar-overlay"})})}),(0,v.Y)(L.j,{condition:!h&&!P&&(!r||!(b||"tablet"===n)),children:(0,v.Y)(q.m_,{role:"dialog","aria-modal":"true",css:V.tooltip(20),id:"product-compare-sticky-bar-tooltip","data-testid":"product-compare-sticky-bar-tooltip",content:e=>(0,v.Y)(q.Us,{...e,css:{maxWidth:"192px",textAlign:"center"},children:o("compare.pleaseSelectMore")}),arrow:e=>(0,v.Y)(q.PR,{...e,direction:"bottom",style:{insetBlockEnd:"calc( -8px)",insetInlineEnd:"calc( 50% - 8px)"},"data-testid":"tooltip-arrow"})})}),(0,v.Y)(M.N,{initial:!1,children:!P&&b?(0,v.Y)(A.f6,{as:U.m.button,initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:m.transition.spring.soft,"data-testid":"compare-modal-trigger-button",css:{position:"fixed",bottom:10,zIndex:16,insetInlineEnd:"calc( 50% - 24px)"},onClick:()=>g(!P),icon:e=>(0,v.Y)(A.iH,{...e,as:F.Gs})},"triggerButton"):(0,v.Y)(N.s3,{context:H,disabled:!P,returnFocus:!1,children:(0,v.Y)(A.hC,{"data-testid":"product-compare-sticky-bar-modal",size:{[I.f.xs]:"sm",[I.f.lg]:"lg"},css:{...V.stickyBar(20)},as:U.m.div,initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:m.transition.spring.soft,"aria-controls":"product-compare-sticky-bar-tooltip",expandButton:e=>(0,v.Y)(A.Lx,{...e,ref:x,css:V.header,"data-testid":"product-compare-sticky-bar-header",onClick:()=>g(!P),label:e=>(0,v.Y)(A.VK,{...e,children:o("compare.compareHeader",{numberOfSelectedProducts:d.length})}),icon:e=>(0,v.Y)(A.m2,{...e,as:P?F.rX:F.yQ})}),content:e=>(0,v.Y)(A.sg,{...e,ref:W.setFloating,"data-testid":"product-compare-sticky-bar-modal-content",as:U.m.div,animate:P?"open":"collapsed",initial:!1,transition:m.transition.spring.soft,exit:"collapsed",variants:{open:{height:"auto"},collapsed:{height:0}},scrollWrapper:e=>(0,v.Y)(A.ex,{...e,productList:e=>(0,v.Y)(A.NC,{"data-testid":"product-compare-sticky-bar-product-list",...e,items:e=>d.map(t=>(0,k.n)(Y.ld,{...e,key:t.productCode,content:r=>(0,v.Y)(Y.aK,{...r,productImage:e=>{var r;return(0,v.Y)("div",{style:{width:"100%",aspectRatio:16/9,maxWidth:"80px"},children:(0,v.Y)(Y.yc,{...e,as:_.I,sizes:{[I.f.xs]:80},style:{height:"100%"},alt:t.productName,compression:"lossless",displayMode:{type:"fill"},mediaImage:null!=(r=t.productImage)?r:null})})},information:e=>(0,v.Y)(Y.yp,{...e,alignment:"vertical",productTitle:e=>(0,v.Y)(G.G,{...e,headline:t.productName,subline:t.productCode})}),action:r=>(0,v.Y)(Y.Kz,{...r,variant:e.variant,tabIndex:P?0:-1,"data-testid":"product-compare-sticky-bar-remove-".concat(t.productCode),icon:F.ep,"aria-label":o("compare.removeProduct",{productIdForCompare:t.productCode}),onClick:()=>i(t.productCode)})})}))})}),footer:e=>(0,v.Y)(A.ZY,{...e,sticky:d.length>3,description:e=>(0,v.Y)(A.h2,{...e,"aria-label":o("compare.compareSelectedProducts",{numberOfSelectedProducts:d.length}),children:o("compare.compareSelectedProducts",{numberOfSelectedProducts:d.length})}),actions:e=>(0,v.Y)(A.g5,{...e,list:e=>[(0,k.n)(A.sL,{...e,tabIndex:P?0:-1,variant:"subtle",key:"product-compare-sticky-bar-reset","data-testid":"product-compare-sticky-bar-reset",onClick:c},o("compare.reset")),(0,k.n)(A.sL,{...e,tabIndex:P?0:-1,variant:"prominent",key:"product-compare-sticky-bar-compare","data-testid":"product-compare-sticky-bar-compare",...!h||!C?{as:"button",disabled:!0}:{as:"a",href:f(C,d.map(e=>e.productCode))}},o("compare.compare"))]})})})})})})]})}},29435:(e,t,r)=>{r.d(t,{G:()=>n});var a=r(41364),o=r(84087),l=r(33550);let n=e=>{let{subline:t,headline:r,valueClass:n,tabIndex:d,...i}=e;return(0,a.Y)(o.Gf,{"data-testid":"product-title",...i,headline:"function"==typeof r?r:e=>(0,a.Y)(l.i,{...e,"data-testid":"product-title-headline",valueClass:n,tabIndex:d,"aria-label":r,children:r}),subline:t?"function"==typeof t?t:e=>(0,a.Y)(o.om,{...e,"data-testid":"product-title-subline",tabIndex:d,"aria-label":t,children:t}):void 0})}},33550:(e,t,r)=>{r.d(t,{i:()=>l});var a=r(41364),o=r(84087);let l=(0,r(12115).forwardRef)((e,t)=>{let{children:r,tabIndex:l,ariaLabel:n,valueClass:d,...i}=e;return(0,a.Y)(o.i$,{"data-testid":"product-title-headline",ref:t,...i,tabIndex:l,"aria-label":n,valueClass:d?e=>(0,a.Y)(o.pk,{...e,"data-testid":"product-title-headline-value-class",children:d}):void 0,children:r})})},35926:(e,t,r)=>{r.d(t,{y:()=>p});var a=r(15933);function o(){let e=(0,a._)(["\n  query FeatureStories($featureStoryIds: [String!]!) {\n    featureStories(featureStoryIds: $featureStoryIds) {\n      id\n      texts {\n        type\n        title\n        headline\n        text\n        textLinks {\n          textLinksId\n          reference\n          relatedTo\n          text\n        }\n      }\n      mainFeature\n      uniqueSellingPoint\n      assets {\n        images {\n          category\n          changeDate\n          id\n          url\n        }\n      }\n    }\n  }\n"]);return o=function(){return e},e}let l=(0,r(36112).J1)(o());var n=r(2832),d=r(99546);let i=e=>(null!=e?e:[]).map(e=>{var t,r;if(!e)return null;let a=(null==(t=e.texts)?void 0:t.map(e=>{var t,r;if((null==e?void 0:e.text)===null)return null;let a=(0,n.$0)(e,["text"]);return a?((null==e?void 0:e.textLinks)&&(0,n.Wy)(a,(0,d.FC)(e.textLinks)),{type:null!=(t=null==e?void 0:e.type)?t:null,title:null!=(r=null==e?void 0:e.title)?r:null,text:a.text}):null}))||null,o=(null==(r=e.assets)?void 0:r.images)?{images:e.assets.images.filter(e=>null!==e).map(e=>({id:(null==e?void 0:e.id)||"",category:(null==e?void 0:e.category)||"",url:(null==e?void 0:e.url)||""}))}:null;return{id:e.id,texts:a,assets:o}}),c=async(e,t)=>{let{data:r,error:a,errors:o}=await e.query({query:l,variables:{featureStoryIds:t}});return a||o||!(null==r?void 0:r.featureStories)?{data:null,error:a||Error("Missing feature stories data.")}:{data:{featureStories:i(r.featureStories)},error:null}};var u=r(1523),s=r(12115);let p=(e,t)=>{let{getApolloClient:r}=(0,u.m)(),a=(0,s.useRef)(!0),[o,l]=(0,s.useState)(null),[n,d]=(0,s.useState)(!1),[i,p]=(0,s.useState)(!1),m=(0,s.useCallback)(async()=>{d(!0),p(!1);try{var t;let o=await r(),n=await c(o,e),d=(null==n||null==(t=n.data)?void 0:t.featureStories)||null;d&&d.length>0?(l(d),a.current=!1):p(!0)}catch(e){p(!0)}finally{d(!1)}},[JSON.stringify(e),r]);return(0,s.useEffect)(()=>{t&&a.current&&m()},[t,m]),{data:o,isLoading:n&&a.current,error:i}}},40272:(e,t,r)=>{r.d(t,{A:()=>d});var a=r(41364),o=r(12115),l=r(98195),n=r(58329);let d=o.memo(e=>{let{isSkeletonVisible:t,skeletonHeight:r,content:o}=e;return(0,a.FD)(a.FK,{children:[(0,a.Y)(n.j,{condition:t,children:(0,a.Y)(l.E,{height:r,variant:"default","data-testid":"popover-skeleton-loader"})}),(0,a.Y)(n.j,{condition:!t,children:o})]})})},46681:(e,t,r)=>{r.d(t,{ProductCompareProvider:()=>d,Z:()=>i,f:()=>c});var a=r(41364),o=r(12115),l=r(79935);let n=(0,o.createContext)(null),d=e=>{let{children:t,catalogType:r,pageContext:o,maxComparableProducts:d}=e,i=(0,l.GT)(r,o,d);return(0,a.Y)(n.Provider,{value:i,children:t})},i=()=>{let e=(0,o.useContext)(n);if(!e)throw Error("useProductCompareContext must be used within ProductCompareProvider");return e},c=()=>{let{handleCheckboxChange:e,state:t}=i();return{handleCheckboxChange:e,productCompareState:t}}},50871:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(12115);let o=e=>{let{onEscape:t,attachListener:r=!0,focusRef:o}=e;(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(e.preventDefault(),t(),o&&(o instanceof HTMLElement?o.focus():o.current&&o.current.focus()))};return r&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,r,o])}},58329:(e,t,r)=>{r.d(t,{j:()=>o});var a=r(41364);r(12115);let o=e=>{let{children:t,condition:r}=e;return r?(0,a.Y)(a.FK,{children:t}):null}},61906:(e,t,r)=>{r.d(t,{w:()=>o});var a=r(12115);let o=e=>{let{element:t,callback:r,timeout:o=150}=e,l=(0,a.useRef)(null),n=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;let a=t.current;if(!a)return;let d=null!=(e=a.clientWidth)?e:0;return l.current=new ResizeObserver(()=>{var e;let t=null!=(e=a.clientWidth)?e:0;d!==t&&(d=t,n.current&&clearTimeout(n.current),n.current=setTimeout(()=>r(),o))}),l.current.observe(a),()=>{var e;n.current&&clearTimeout(n.current),null==(e=l.current)||e.disconnect()}},[r,t,o])}},70063:(e,t,r)=>{r.d(t,{A:()=>s,e:()=>p});var a=r(41364),o=r(90686),l=r(71),n=r(21583),d=r(5373),i=r(45299),c=r(12115),u=r(50871);let s=e=>{let{isOpen:t,content:r,variant:s,size:p,closeDrawer:m,overlayEmphasis:C,loading:y="",doUseDefaultTheme:f=!1,...h}=e,v=(0,o.useDefaultThemeData)(),S=(0,o.useAlternateThemeData)(),P=(0,c.useRef)(null);return(0,c.useEffect)(()=>{(t||!y)&&P.current&&P.current.focus()},[y,t]),(0,u.A)({onEscape:m,attachListener:t,focusRef:P}),(0,a.Y)(i.XF,{children:(0,a.FD)(d.N,{theme:!0===f?v:S,children:[(0,a.Y)(l._,{ref:P,tabIndex:-1,...h,size:p,variant:s,isOpen:t,content:r}),(0,a.Y)(n.h,{"data-testid":"drawer-overlay",as:i.zR,lockScroll:!0,isOpen:t,emphasis:C,onClick:e=>{e.stopPropagation(),m()},style:{zIndex:20}})]})})},p=e=>{let[t,r]=(0,c.useState)(!1),a=(0,c.useCallback)(()=>{if(t){var a;null==e||null==(a=e.current)||a.focus()}r(e=>!e)},[e,t]);return{isOpen:t,toggle:a,close:(0,c.useCallback)(()=>{var t;r(!1),null==e||null==(t=e.current)||t.focus()},[e]),open:(0,c.useCallback)(()=>r(!0),[])}}},71587:(e,t,r)=>{r.d(t,{G:()=>n});var a=r(75894),o=r(80101);let l=e=>{var t,r,a,l;return null!=(l=(0,o.w)(e)&&(null==(a=e.product.crossAppsConfigurations)||null==(r=a.locationBasedFeatures)||null==(t=r.impactedFunctionality)?void 0:t.includes("STOCK")))&&l},n=()=>l((0,a.rD)())},78775:(e,t,r)=>{r.d(t,{Gl:()=>o,K1:()=>n,Nz:()=>d,fp:()=>a,oB:()=>l});let a=["PRODUCT_NOT_FOUND","PRODUCT_NOT_AVAILABLE","APPLIANCE_INFO_MISSING","APPLIANCE_TYPE_DISALLOWED","PRODUCT_MAX_QUANTITY_EXCEEDED","SUBSCRIPTION_MIXING_DISALLOWED","CARE_CONTRACT_MIXING_DISALLOWED","APPLIANCE_INFO_INVALID","CROSS_BRAND_DISALLOWED","GENERIC"],o=async e=>{let{product:t,productRating:r,addedServiceVibs:a,persist:o}=e,l=await o({productCode:t.productCode,quantity:1});return"ERROR"===l.responseType?{addToCartConfirmation:{status:"ADD_ERROR",product:t,errorMessage:l.errorMessage},addedCartEntries:[]}:{addToCartConfirmation:{status:"ADD_SUCCESS",product:t,productRating:r,addedServiceVibs:a,crossSelledProducts:l.crossSelledProducts,upsellingProduct:i(l.upsellingProducts)},addedCartEntries:l.addedCartEntries,cart:l.cart}},l=e=>e?e.map(e=>e.productCode):[],n=(e,t)=>{let r=l(t);return e.filter(e=>null==r?void 0:r.includes(e.productCode))},d=(e,t)=>e.find(e=>e.productIds.includes(t)),i=e=>{let t=e.filter(e=>!(null==e?void 0:e.availabilityStatus.includes("R"))).filter(e=>e.price&&e.price.amount>0);if(t.length>0)return t[0]}},79935:(e,t,r)=>{r.d(t,{GT:()=>s,Jy:()=>d});var a=r(12115),o=r(26646),l=r(18920),n=r(65684);let d="product-compare-current-locale",i="product-family",c="product-compare-mkt",u="product-compare-shop",s=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.MAX_COMPARABLE_PRODUCTS,s=(0,a.useMemo)(()=>"MARKETING"===e?c:u,[e]),p=(0,a.useCallback)(()=>{var e;return Array.isArray((0,l._S)(s))?{}:null!=(e=(0,l._S)(s))?e:{}},[s]),m=(0,a.useCallback)(()=>(0,l._S)(i),[]),[C,y]=(0,a.useState)(()=>{let e=p(),t=m();return{...o.defaultState,selectedProductFamily:t,maxComparableProducts:r,selectedProducts:e}}),[f,h]=(0,a.useState)({shouldFocus:!1,lastFocusElement:null}),v=(0,a.useCallback)(e=>{let{key:t}=e;(t===s||t===i)&&y(e=>(0,o.productCompareReducer)(e,(0,o.replaceCompareSelection)(p(),m())))},[s,p,m]);(0,a.useEffect)(()=>{let e="storage";return window.addEventListener(e,v),()=>window.removeEventListener(e,v)},[v]);let{selectedProducts:S}=C;(0,a.useEffect)(()=>{let e=p();y(t=>(0,n.a)(t.selectedProducts,e)?t:{...t,selectedProducts:e})},[s,p]);let P=(0,a.useMemo)(()=>{let e=[];for(let t in S)if(Object.prototype.hasOwnProperty.call(S,t)){let r=S[t];r&&e.push(...r)}return e},[S]),g=()=>{(0,l.AP)(d,[t.brand.toLocaleLowerCase(),t.language.toLocaleLowerCase(),t.country.toLocaleLowerCase()].join("-"))},b=()=>(0,l._S)(d),E=e=>{for(let r in S)if(Object.prototype.hasOwnProperty.call(S,r)){var t;let a=S[r];if(-1!==(null!=(t=null==a?void 0:a.findIndex(t=>t.productCode===e))?t:-1))return r}return null},x=()=>{y(e=>({...e,selectedProducts:{}})),(0,l.AP)(u,{}),(0,l.AP)(c,{})};return{productsToCompare:P,resetComparisonList:()=>{y(e=>({...e,selectedProducts:{}})),(0,l.AP)(s,{})},removeProductFromComparisonList:e=>{let t=E(e);if(!t)return;let r=(0,l._S)(s)||{},a={...r,[t]:(r[t]||[]).filter(t=>t.productCode!==e)};0===a[t].length&&delete a[t],(0,l.AP)(s,a);let n=(0,o.removeProductFromCompareSelection)(e,t);y(e=>{let t=(0,o.productCompareReducer)(e,n);return(0,l.AP)(i,t.selectedProductFamily),{...t,selectedProducts:a}})},productCompareFocus:f,state:C,handleCheckboxChange:(e,r,a,n,d,c)=>{if(r&&a&&n){let u=e?(0,o.addProductToCompareSelection)(r,a,n,d):(0,o.removeProductFromCompareSelection)(r,a),p=[t.brand.toLocaleLowerCase(),t.language.toLocaleLowerCase(),t.country.toLocaleLowerCase()].join("-");b()&&b()!==p&&x(),g(),y(e=>{let t=(0,o.productCompareReducer)(e,u);return(0,l.AP)(s,t.selectedProducts),(0,l.AP)(i,t.selectedProductFamily),t}),h({shouldFocus:e,lastFocusElement:null!=c?c:null})}}}}},86523:(e,t,r)=>{r.d(t,{p:()=>d,t:()=>n});var a=r(47780),o=r(96894),l=r(12115);let n=()=>{let e=(0,a.Ay)({maxWidth:o.f.md-1}),t=(0,a.Ay)({maxWidth:o.f.lg-1}),r=(0,a.Ay)({maxWidth:o.f.xl-1});return(0,l.useCallback)(()=>e?"mobile":t?"tablet":r?"desktop":"desktoplarge",[r,e,t])()},d=e=>"desktop"===e||"desktoplarge"===e},87657:(e,t,r)=>{r.d(t,{_:()=>a.useCart});var a=r(15706)},94440:(e,t,r)=>{r.d(t,{e:()=>a});let a=async e=>{let{query:t,variables:r,client:a}=e;return a.query({query:t,variables:r,errorPolicy:"all"})}}}]);
//# sourceMappingURL=45937-cf1cf713b89336c3.js.map