(window.webpackJsonp=window.webpackJsonp||[]).push([[297],{"../aosom-design/lib/web/checkbox.js":function(e,t,a){"use strict";a.r(t);var n=a("../aosom-design/utils/helper.js"),s={options:[]},c=a("../aosom-design/utils/is.js"),i=a("../aosom-design/lib/web/form.js");function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){this.defaultConfig=JSON.parse(JSON.stringify(s)),this.element=null,this.config=this.defaultConfig,this._value="",this.hashID=Object(n.c)(6)}var t,a,o,l=e.prototype;return l.getValue=function(){var e=document.getElementById(this.config.id);if(1===this.config.options.length)return e.querySelector(".ant-checkbox-wrapper").getAttribute("data-check-value");for(var t=e.querySelectorAll(".ant-checkbox-wrapper"),a=[],n=0;n<t.length;n++){var s=t[n];s.getAttribute("data-check-value")&&a.push(s.getAttribute("data-check-value"))}return a},l.buildInputRules=function(e,t){if(void 0===t&&(t={rules:"",name:"",ruleMessages:""}),t.rules&&e){var a=t.rules.split("|");if(a.forEach((function(t){var a=t.split(":");e.setAttribute("data-parsley-"+a[0],!a[1]||decodeURIComponent(a[1]))})),a.length){if(e.setAttribute("data-parsley-errors-container","#"+i.a.getInputPrefixCls("checkbox","form-"+t.name+"-error-"+this.hashID)),e.setAttribute("data-parsley-class-handler","#"+i.a.getInputPrefixCls("checkbox",t.name+"-"+this.hashID)),Object(c.g)(t.ruleMessages))for(var n in t.ruleMessages)t.ruleMessages[n]&&e.setAttribute("data-parsley-"+n+"-message",t.ruleMessages[n]);else Object(c.h)(t.ruleMessages)&&e.setAttribute("data-parsleye-error-message",t.ruleMessages);if(t.asyncRule){var s=t.asyncRule,r=s.name,o=s.message;e.setAttribute("data-parsleye-remote",!0),e.setAttribute("data-parsley-remote-validator",r),o&&e.setAttribute("data-parsley-remote-message",o)}}}},l.renderCheckItem=function(e){var t=this,a="";return e.options.forEach((function(n){var s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("class","ant-checkbox-input"),(n.disabled||e.disabled)&&s.setAttribute("disabled",!0),e.name&&s.setAttribute("name",e.name+(1==e.options.length?"":"[]")),n.value&&s.setAttribute("value",n.value),t.buildInputRules(s,e);var c='<label id="ant-checkbox-'+n.value+'" data-value="'+n.value+'" data-check-value="" class="ant-checkbox-wrapper '+(n.disabled?"ant-checkbox-wrapper-disabled":"")+'">\n        <span class="ant-checkbox '+(n.disabled?"ant-checkbox-disabled":"")+'">\n          '+s.outerHTML+'\n          <span class="ant-checkbox-inner"></span>\n        </span>\n        <span>'+n.label+"</span>\n      </label>";a+=c})),'<div class="ant-text-field-body">\n     <div class="flex items-center">\n      '+(this.config.title?'<div class="ant-checkbox-title">'+this.config.title+":</div>":"")+"\n      <div>"+a+"</div>\n      </div>\n      "+i.a.renderFormError("checkbox",i.a.getFormErrorId(this.config.name,this.hashID))+"\n    </div>"},l.renderSingleItem=function(e){var t=e.value,a=e.label,n=e.disabled,s=e.name,c=document.createElement("input");return c.setAttribute("type","checkbox"),c.setAttribute("class","ant-checkbox-input"),n&&c.setAttribute("disabled",!0),s&&c.setAttribute("name",s),t&&c.setAttribute("value",t),'<label id="ant-checkbox-'+t+'" data-value="'+t+'" data-check-value="" class="ant-checkbox-wrapper '+(n?"ant-checkbox-wrapper-disabled":"")+'">\n        <span class="ant-checkbox '+(n?"ant-checkbox-disabled":"")+'">\n          '+c.outerHTML+'\n          <span class="ant-checkbox-inner"></span>\n        </span>\n        <span>'+a+"</span>\n      </label>"},l.create=function(e){if(void 0===e&&(e={}),this.config=Object(n.f)({},this.defaultConfig,e),Object(c.b)(this.config.options))return{element:"",html:""};var t=document.createElement("div");return t.innerHTML=this.renderCheckItem(this.config),t.className="ant-checkbox-group "+(this.config.size?"ant-checkbox-size-"+this.config.size:""),t.id=i.a.getInputPrefixCls("checkbox",this.config.name+"-"+this.hashID),this.element=t,{element:t,html:t.outerHTML}},l.createSingle=function(e){return void 0===e&&(e={}),this.config=Object(n.f)({},this.defaultConfig,e),{html:this.renderSingleItem(this.config)}},e.init=function(){document._aosomCheckboxInit||(document._aosomCheckboxInit=!0,document.addEventListener("click",(function(e){var t=e.target;if(["input"].includes(t.tagName.toLowerCase())&&t.classList.contains("ant-checkbox-input")){var a=Object(n.b)(t,".ant-checkbox-wrapper ");a.getAttribute("data-check-value")?(a.setAttribute("data-check-value",""),a.querySelector(".ant-checkbox").classList.remove("ant-checkbox-checked")):(a.setAttribute("data-check-value",a.getAttribute("data-value")),a.querySelector(".ant-checkbox").classList.add("ant-checkbox-checked"))}})))},t=e,(a=[{key:"value",get:function(){return 1===this.config.options.length&&Object(c.a)(this._value)?this._value[0]||"":this._value},set:function(e){this._value=e;var t=document.getElementById(this.config.id);if(!Object(c.a)(e)&&1===this.config.options.length){var a=t.querySelector("#ant-checkbox-"+e);a.querySelector(".ant-checkbox").classList.add("ant-checkbox-checked"),a.setAttribute("data-check-value",e)}if(Object(c.a)(e))for(var n=t.querySelectorAll(".ant-checkbox-wrapper"),s=e.map((function(e){return"ant-checkbox-"+e})),i=0;i<n.length;i++){var r=n[i],o=r.querySelector(".ant-checkbox");s.includes(r.id)?(o.classList.add("ant-checkbox-checked"),r.setAttribute("data-check-value",r.getAttribute("data-value"))):(o.classList.remove("ant-checkbox-checked"),r.setAttribute("data-check-value",""))}}}])&&r(t.prototype,a),o&&r(t,o),e}();t.default=o}}]);