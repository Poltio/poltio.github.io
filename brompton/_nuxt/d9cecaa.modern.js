(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{1345:function(e,t,r){e.exports={}},1478:function(e,t,r){"use strict";r(1345)},1493:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(1),l=r(94),c=r(62),d=r(8),m=r(415),v=r(43),f=r(227),_=Object(n.b)({name:"MarketingSignUp",components:{ValidationProvider:l.b,ValidationObserver:l.a,BrButton:c.a},props:{heading:{type:String,required:!0},subtext:{type:String,required:!0},backgroundColor:{type:String,required:!0},inputBackgroundColor:{type:String,required:!0},ctaText:{type:String,required:!0}},setup(){var{$bigcommerce:{config:{storefrontConfig:e}}}=Object(n.u)(),{dataLayerPush:t}=Object(d.o)(),r=Object(n.n)(null),l=Object(n.n)(""),c=Object(n.n)(!1),_=Object(n.n)(!1),{loading:y,error:h,subscribe:C}=Object(d.m)(),{fireEmailCaptureEvent:k}=Object(d.v)(),S=Object(n.a)((()=>e.name===v.b.GLOBAL)),w=Object(n.n)(""),O=function(){var e=Object(o.a)((function*(){if(x(),yield C(l.value,"footer","Email sign up from the footer",w.value),h.value.subscribe)_.value=!0;else{var e=yield Object(m.a)(l.value);e&&"string"==typeof e&&(t({event:"signup_success",hashed_email:e}),k(e,"footer")),c.value=!0,l.value="",w.value="",Object(n.g)((()=>{r.value.reset(),setTimeout((()=>c.value=!1),5e3)}))}}));return function(){return e.apply(this,arguments)}}(),x=()=>{c.value&&(c.value=!1),_.value&&(_.value=!1)};return{observer:r,handleSubscription:O,emailField:l,showCountrySelector:S,countryField:w,countryListSorted:f.b,loading:y,showConfirmationMessage:c,showErrorMessage:_,resetAlerts:x}}}),y=_,h=(r(1478),r(2)),C=Object(h.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"marketing-banner",style:{"--marketing-banner-bg-color":e.backgroundColor,"--marketing-banner-input-bg-color":e.inputBackgroundColor}},[r("h3",{staticClass:"marketing-banner__heading"},[e._v(e._s(e.heading))]),e._v(" "),r("p",{staticClass:"marketing-banner__subtext"},[e._v(e._s(e.subtext))]),e._v(" "),r("ValidationObserver",{key:"subscription-form",ref:"observer",attrs:{slim:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit,o=t.validated;return[r("form",{staticClass:"subscription-form",class:{"subscription-form--lg":e.showCountrySelector},attrs:{autocomplete:"off",novalidate:"","data-testid":"subscription-form"},on:{submit:function(t){return t.preventDefault(),n(e.handleSubscription)}}},[e.showConfirmationMessage&&!o?r("div",{staticClass:"subscription-form__confirmation-message",attrs:{role:"alert"}},[r("span",[e._v(e._s(e.$t("Thank you for signing up")))])]):e._e(),e._v(" "),e.showErrorMessage?r("div",{staticClass:"subscription-form__error",attrs:{role:"alert"}},[r("span",[e._v(e._s(e.$t("An error occurred")))])]):e._e(),e._v(" "),r("div",{staticClass:"subscription-form__wrapper"},[r("ValidationProvider",{staticClass:"subscription-form__group",attrs:{rules:"required|email",tag:"div"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("div",{directives:[{name:"show",rawName:"v-show",value:n[0],expression:"errors[0]"}],staticClass:"subscription-form__error",attrs:{id:"subscription-form-email-error","aria-live":"assertive","data-testid":"subscription-form-email-error"}},[r("span",[e._v(e._s(n[0]))])]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.emailField,expression:"emailField"}],staticClass:"subscription-form__input",attrs:{name:"subscription-form-email",type:"email",placeholder:e.$t("Enter your email"),"aria-invalid":!!n[0]||null,"aria-describedby":n[0]?"subscription-form-email-error":null,"aria-label":e.$t("Email Address"),"data-testid":"subscription-form-email"},domProps:{value:e.emailField},on:{input:[function(t){t.target.composing||(e.emailField=t.target.value)},e.resetAlerts]}})]}}],null,!0)}),e._v(" "),e.showCountrySelector?r("ValidationProvider",{staticClass:"subscription-form__group",attrs:{rules:"required",tag:"div"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("div",{directives:[{name:"show",rawName:"v-show",value:n[0],expression:"errors[0]"}],staticClass:"subscription-form__error",attrs:{id:"subscription-form-country-error","aria-live":"assertive","data-testid":"subscription-form-country-error"}},[r("span",[e._v(e._s(n[0]))])]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.countryField,expression:"countryField"}],staticClass:"subscription-form__select",attrs:{name:"subscription-form-country","aria-invalid":!!n[0]||null,"aria-describedby":n[0]?"subscription-form-country-error":null,"data-testid":"subscription-form-country"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.countryField=t.target.multiple?r:r[0]},e.resetAlerts]}},[r("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[e._v(e._s(e.$t("Select your country")))]),e._v(" "),e._l(e.countryListSorted,(function(t){return r("option",{key:t.id,domProps:{value:t.name}},[e._v(e._s(t.name))])}))],2)]}}],null,!0)}):e._e(),e._v(" "),r("BrButton",{staticClass:"subscription-form__button",attrs:{disabled:e.loading,type:"submit","data-testid":"subscription-form-button"}},[e._v("\n          "+e._s(e.ctaText)+"\n        ")])],1)])]}}])})],1)}),[],!1,null,"6ec55b97",null).exports,k=Object(n.b)({name:"MarketingSignUpCMS",components:{MarketingSignUp:C},props:{heading:{type:String},subtextField:{type:String},backgroundColor:{type:String},inputBackgroundColor:{type:String},ctaText:{type:String}}}),S=Object(h.a)(k,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("MarketingSignUp",{attrs:{heading:e.heading,subtext:e.subtextField,"background-color":e.backgroundColor,"input-background-color":e.inputBackgroundColor,"cta-text":e.ctaText}})}),[],!1,null,null,null);t.default=S.exports;installComponents(S,{MarketingSignUp:r(1493).default})}}]);