(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{1019:function(t,e,r){"use strict";r.r(e);var n=r(8),o=r(0),c=r(6),l=r(333),d=r(67),f=r(102),y=r(167),v=r(66),h=r(20),m=r(910),O=r(871),P=r(879),C=r(83),j=r(340),w=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},T=class extends c.a{get product(){return new P.a(this)}get category(){return new y.a(this)}get infinityOptions(){return Object(C.a)(this.product)}onFetch(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.product.fetch(this.category.findItem.alias,t)}mounted(){this.onFetch()}},I=T=w([Object(o.a)({components:{ProductItem:j.a}})],T),_=r(5),D=Object(_.a)(I,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-list-section"},[r("div",{staticClass:"product-list-bar"},[t._v(t._s(t.category.findItem.title))]),t._v(" "),r("InfinityScroll",{staticClass:"product-list-box",attrs:{options:t.infinityOptions},on:{loadMore:t.onFetch}},t._l(t.product.items,(function(t,e){return r("ProductItem",{key:e,attrs:{product:t}})})),1)],1)}),[],!1,null,"b38efe9e",null).exports,E=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},R=class extends c.a{isTypeA(){return v.a.productPageType===h.b.TYPE_A}isTypeC(){return v.a.productPageType===h.b.TYPE_C}isTypeD(){return v.a.productPageType===h.b.TYPE_D}isTypeE(){return v.a.productPageType===h.b.TYPE_E}},S=R=E([Object(o.a)({components:{CategorySingleTemplateA:D,ProductsTemplateC:m.a,ProductsTemplateD:O.a}})],R),x=Object(_.a)(S,(function(){var t=this.$createElement,e=this._self._c||t;return this.isTypeC()?e("div",{staticClass:"products-page"},[e("client-only",[e("ProductsTemplateC")],1)],1):this.isTypeD()?e("div",{staticClass:"products-page"},[e("client-only",[e("ProductsTemplateD")],1)],1):this.isTypeE()?e("div",{staticClass:"products-page"},[e("client-only",[e("ProductsTemplateD",{attrs:{"show-brand-bar":!1}})],1)],1):e("div",{staticClass:"category-single-page"},[e("CategorySingleTemplateA")],1)}),[],!1,null,"0070492e",null).exports,$=r(9);class k{static getCategoryItemsByParent(t){return t?Object($.i)(t.parent)?[{name:t.title,to:"/categories/".concat(t.slug)}]:[...k.getCategoryItemsByParent(t.parent),{name:t.title,to:"/categories/".concat(t.slug)}]:[]}static getCategoryItemsByChild(t){return t?Object($.i)(t.child)?[{name:t.title,to:"/categories/".concat(t.slug)}]:[...k.getCategoryItemsByChild(t.child),{name:t.title,to:"/categories/".concat(t.slug)}].reverse():[]}}var A=r(58),B=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},F=class extends c.a{findCategoryPath(t,e){var path=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var r of t){var n=[...path,r];if(r.tag_id===e)return n;if(r.child&&r.child.length>0){var o=this.findCategoryPath(r.child,e,n);if(o)return o}}return null}waitUntilCategoryLoaded(){var t=arguments,e=this;return Object(n.a)((function*(){var r=t.length>0&&void 0!==t[0]?t[0]:100;return new Promise(t=>{var n=setInterval(()=>{e.$app.productCategoryRepo.items.length>0&&(clearInterval(n),t())},r)})}))()}trackCategoryViewed(){var t=this;return Object(n.a)((function*(){if("undefined"!=typeof window&&window.dataLayer){var e=new y.a(t);if(e.findItem){yield t.waitUntilCategoryLoaded();var path=t.findCategoryPath(t.$app.productCategoryRepo.items,e.findItem.tag_id);if(path.length>0){var r="",n="";path.length>0&&(n=path[0].alias),path.length>1&&(r=path[path.length-1].alias),A.a.productCategoryViewed(n,r)}}}}))()}mounted(){this.trackCategoryViewed()}},L=F=B([Object(o.a)({scrollToTop:!0,components:{CategorySingle:x},layout:l.a.default,validate:t=>Object(n.a)((function*(){var e=new y.a(t);return yield e.$get(encodeURIComponent(t.params.id)),!d.a.isNotFoundError(e.findStatus.errorData)}))(),fetch:t=>Object(n.a)((function*(){var e=new y.a(t);yield t.app.$app.updateDocMeta({title:e.findItem.title}),yield t.app.$app.updatePageMeta({title:e.findItem.title,breadcrumb:[f.a.menu().home,...k.getCategoryItemsByParent(e.findItem)]})}))()})],F),M=Object(_.a)(L,(function(){var t=this.$createElement;return(this._self._c||t)("CategorySingle")}),[],!1,null,"77e9bb35",null);e.default=M.exports},879:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));r(18),r(17),r(16),r(104);var n=r(3),o=r(26),c=r(534);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}class f extends o.a{constructor(){var t;super(...arguments),t=this,this.meta=c.productsCategoryStateMeta,this.fetch=function(e){var r,n,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.dispatch(new t.meta.actionTypes.GetAfterId(c,l,d(d({},null==f?void 0:f.params),{},{alias:e},(null===(r=null==f?void 0:f.params)||void 0===r?void 0:r.alias)&&{alias:(null===(n=null==f?void 0:f.params)||void 0===n?void 0:n.alias)&&[e,null===(o=null==f?void 0:f.params)||void 0===o?void 0:o.alias].toString()})))},this.fetchCache=function(e){var r,n,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.status.isLoaded?new Promise(t=>t):t.dispatch(new t.meta.actionTypes.GetAfterId(c,l,d(d({},null==f?void 0:f.params),{},{alias:e},(null===(r=null==f?void 0:f.params)||void 0===r?void 0:r.alias)&&{alias:(null===(n=null==f?void 0:f.params)||void 0===n?void 0:n.alias)&&[e,null===(o=null==f?void 0:f.params)||void 0===o?void 0:o.alias].toString()})))}}}}}]);