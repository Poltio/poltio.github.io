(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{458:function(n,e,t){"use strict";(function(n){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(n,e)};function o(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var r=function(){return(r=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)};function c(n,e,t,o){return new(t||(t=Promise))((function(i,a){function s(n){try{c(o.next(n))}catch(n){a(n)}}function r(n){try{c(o.throw(n))}catch(n){a(n)}}function c(n){n.done?i(n.value):new t((function(e){e(n.value)})).then(s,r)}c((o=o.apply(n,e||[])).next())}))}function l(n,e){function t(n){return function(e){return i([n,e])}}function i(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,s&&(o=2&t[0]?s.return:t[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,t[1])).done)return o;switch(s=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=0<o.length&&o[o.length-1])||6!==t[0]&&2!==t[0])){c=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){c.label=t[1];break}if(6===t[0]&&c.label<o[1]){c.label=o[1],o=t;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(t);break}o[2]&&c.ops.pop(),c.trys.pop();continue}t=e.call(n,c)}catch(n){t=[6,n],s=0}finally{a=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}var a,s,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}var d,h,m=function(){return window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},f=function(n,e){return fetch(n,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(n){if(n.ok)return n.json();throw new Error("Network response was not ok: "+n.status+" "+n.statusText)}))},v=function(n,e){return void 0===e&&(e={}),new Promise((function(t,o){var i=new XMLHttpRequest;i.open("GET",n+C(e)),i.addEventListener("load",(function(){var n=i.response,e=i.status;200<=e&&400>e?t(JSON.parse(n)):o(JSON.parse(n))})),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.withCredentials=!0;try{i.send()}catch(n){o(n)}}))},w=function(n){for(var e,t=n+"=",o=document.cookie.split(";"),a=0;a<o.length;a++){for(e=o[a];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},y=function(n,e,t){void 0===t&&(t=1825);var o=new Date;o.setTime(+o+864e5*t),window.document.cookie=n+"="+e+";expires="+o.toUTCString()+";SameSite=None;Secure;path=/"},x=function(n,e){if(n&&e){var t=n.className,o=t.indexOf(e);-1===o?t+=" "+e:t=t.substr(0,o)+t.substr(o+e.length),n.className=t}},_=function(){return window.document.location&&window.document.location.href},k=function(n,e,t){void 0===e&&(e={}),void 0===t&&(t="");var o=window.navigator.language,i=window.document.referrer,a=window.document.title,s=window.navigator.userAgent,r=window.screen.availWidth+"x"+window.screen.availHeight;return{event:n,page_language:o,page_referrer:i,page_title:a,page_url:decodeURI(_()),platform:s,resolution:r,dstags:t,form_fields:e}},C=function(n){return"?"+Object.keys(n).reduce((function(e,t){return e.push(t+"="+encodeURIComponent(n[t])),e}),[]).join("&")},E=function(){return window.localStorage.getItem("contact_id")},S=function(n,e){window.localStorage.setItem("contact_id",n),e===d.LOGIN?window.localStorage.setItem("login_contact_id",n):window.localStorage.setItem("public_contact_id",n)};(h=d||(d={})).LOGIN="LOGIN",h.PUBLIC="PUBLIC";var L,D=function(){return window.localStorage.getItem("db_type")||d.PUBLIC},T=function(n){return"true"===n},A=function(n){return c(void 0,void 0,void 0,(function(){return l(this,(function(){return[2,new Promise((function(e){return setTimeout((function(){return e()}),n)}))]}))}))},I=function(){function n(n){var e,t,o,i;this.consentManager=n,this.gaIds=null!==(i=null===(o=null===(t=null===(e=this.consentManager.consentMessage)||void 0===e?void 0:e.setting)||void 0===t?void 0:t.analytics_cookies)||void 0===o?void 0:o.tracking_collection.google_tag_id)&&void 0!==i?i:[]}return n.prototype.installScript=function(){if(this.gaIds.length){var n=window.document.getElementsByTagName("head");if(!n.length)throw new Error("no head element");var e=window.document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id="+this.gaIds[0];var t=window.document.createElement("script");t.innerText="window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); "+this.gaIds.map((function(n){return"gtag('config', '"+n+"'); "})),n[0].appendChild(e),n[0].appendChild(t)}},n.prototype.track=function(){var n,e;if(this.gaIds.length&&(null===(e=null===(n=this.consentManager.customerConsentDetail)||void 0===n?void 0:n.tracking_permission)||void 0===e?void 0:e.analytics_cookies))for(var t,o=0,i=this.gaIds;o<i.length;o++)t=i[o],gtag("config",t)},n}(),M=function(){function n(n){var e,t,o,i;this.consentManager=n,this.pixelIds=null!==(i=null===(o=null===(t=null===(e=this.consentManager.consentMessage)||void 0===e?void 0:e.setting)||void 0===t?void 0:t.social_media_cookies)||void 0===o?void 0:o.tracking_collection.facebook_pixel_id)&&void 0!==i?i:[]}return n.prototype.installScript=function(){if(this.pixelIds){var n=window.document.getElementsByTagName("head");if(!n.length)throw new Error("no head element");var e=window.document.createElement("script");e.innerText="!function(f,b,e,v,n,t,s) {if(f.fbq)return;n=f.fbq=function(){n.callMethod? n.callMethod.apply(n,arguments):n.queue.push(arguments)}; if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0'; n.queue=[];t=b.createElement(e);t.async=!0; t.src=v;s=b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t,s)}(window, document,'script', 'https://connect.facebook.net/en_US/fbevents.js');",n[0].appendChild(e);for(var t,o=0,i=this.pixelIds;o<i.length;o++)t=i[o],fbq("init",t);this.track()}},n.prototype.track=function(){var n,e;if(this.pixelIds&&(null===(e=null===(n=this.consentManager.customerConsentDetail)||void 0===n?void 0:n.tracking_permission)||void 0===e?void 0:e.social_media_cookies))for(var t,o=0,i=this.pixelIds;o<i.length;o++)t=i[o],fbq("trackSingle",t,"PageView")},n}(),R=function(){function n(){}return n.init=function(){window.addEventListener("message",(function(e){n.foundExtension||"pam-extension-hello"!==e.data.method||(n.foundExtension=!0,window.postMessage({method:"pam-client-hello"},window.location.origin),n.logHistory.forEach((function(e){n.sendLog(e.name,e.contactId,e.data)}))),"pam-extension-full-history"===e.data.method&&window.postMessage({method:"pam-client-full-history",history:n.logHistory},window.location.origin)}))},n.sendLog=function(n,e,t){window.postMessage({method:"pam-client-log",contactId:e,name:n,data:t},window.location.origin)},n.log=function(e,t,o){n.logHistory.push({name:e,contactId:t,data:o}),n.foundExtension&&n.sendLog(e,t,o)},n.foundExtension=!1,n.logHistory=[],n}(),P=function(){function n(){this.queue=[]}return Object.defineProperty(n.prototype,"isEmpty",{get:function(){return 0>=this.queue.length},enumerable:!0,configurable:!0}),n.prototype.enqueue=function(n){this.queue.push(n)},n.prototype.dequeue=function(){return this.queue.shift()},n}();!function(n){n[n.TrackerSingle=0]="TrackerSingle",n[n.TrackerBulk=1]="TrackerBulk"}(L||(L={}));var O,B,N=function(n,e){this.pubclitype=n,this.data=e},H=function(){function n(n,e,t,o,i){var a=this;this.ctx=n,this.service=e,this.attention=t,this.consentManager=o,this.eventQueue=i,this.contactID="",this.sentAutoTracking=!1,this.tags="",this.formFields={},this._onMessage=function(n){return c(a,void 0,void 0,(function(){var e=this;return l(this,(function(t){switch(t.label){case 0:return this.consentManager.isTrackingConsentRefreshing||this.consentManager.isFetching?[4,A(200)]:[3,2];case 1:return t.sent(),[3,0];case 2:return this.consentManager.isTrackingAllowed||this.ctx.config.enableSkipConsent?(this._setLocalCookie(this._readingIframeCookie(n)),this.ctx.config.autoTracking&&!this.sentAutoTracking&&(this.service.sendEvent("page_view",this.tags,this.formFields).then((function(){e.attention&&e.attention.startFetchInterval()})).catch(console.error),this.googleAnalytics&&this.googleAnalytics.track(),this.sentAutoTracking=!0),[2]):[2]}}))}))},this.iframeOrigin=this.ctx.config.baseApi+"/script",this.iframeSrcURL=this.iframeOrigin+'/xdomain_cookie.html#{"window_origin":"'+m()+'","iframe_origin":"'+this.iframeOrigin+'"}',this._initIFrame(),window.addEventListener("message",this._onMessage),this.startEventQueueManager(),this.setupThirdPartyTracker()}return n.prototype.getContactID=function(){return this.contactID},n.prototype.send=function(n,e,t,o){return void 0===o&&(o="AUTO"),c(this,void 0,void 0,(function(){var i,a,s,c,h;return l(this,(function(l){switch(l.label){case 0:return this.consentManager.isFetching?[4,A(200)]:[3,2];case 1:return l.sent(),[3,0];case 2:if(this.isTrackingEvent(n)&&!this.isAllowConsentFormField(t)&&!this.ctx.config.enableSkipConsent){if(!this.consentManager.isTrackingAllowed)throw R.log("Tracking is not Allow","",r({},k(n,t,e))),new Error("tracking is not allowed");t._consent_message_id=this.ctx.config.trackingConsentMessageId,t._version=this.consentManager.consentMessage.setting.version}t._database||(o===d.LOGIN||o===d.PUBLIC?t._database=this.ctx.config.loginDBAlias:t._database=D()===d.LOGIN?this.ctx.config.loginDBAlias:this.ctx.config.publicDBAlias),i=this.getObjectFromQuery(),a="",(null==i?void 0:i.contact_id)?a=null==i?void 0:i.contact_id:"AUTO"===o?a=E():o===d.LOGIN?a=window.localStorage.getItem("login_contact_id"):o===d.PUBLIC&&(a=window.localStorage.getItem("public_contact_id")),this.consentManager.hasLoggedIn&&this.consentManager.loginIdKey&&this.consentManager.loginId?t[this.consentManager.loginIdKey]=this.consentManager.loginId:a?t._contact_id=a:w("contact_id")&&(t._contact_id=w("contact_id")),w("_fbp")&&(t._fbp=w("_fbp")),w("_fbc")&&(t._fbc=w("_fbc")),s=r({},k(n,t,e)),l.label=3;case 3:return l.trys.push([3,7,,8]),[4,f(this.ctx.config.baseApi+"/trackers/events",s)];case 4:return c=l.sent(),this.contactID=c.contact_id,h={detail:{contact_id:c.contact_id,event:s}},y("contact_id",c.contact_id,1825),S(c.contact_id,D()),this._setXDomainCookie(c),c.contact_id&&(this.mustRefreshConsentEvent(n)||this.isAllowConsentFormField(t))?[4,this.consentManager.refreshTrackingConsentStatus()]:[3,6];case 5:l.sent(),l.label=6;case 6:return R.log("Send",c.contact_id,r({},s)),window.dispatchEvent(new CustomEvent("send_tracking",h)),[2,c];case 7:return[2,l.sent()];case 8:return[2]}}))}))},n.prototype.sendBulk=function(n){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return this.consentManager.isFetching?[4,A(200)]:[3,2];case 1:return t.sent(),[3,0];case 2:return t.trys.push([2,5,,6]),[4,f(this.ctx.config.baseApi+"/trackers/events",n)];case 3:return e=t.sent(),this.contactID=e.results[0].contact_id,y("contact_id",this.contactID,1825),S(this.contactID,D()),this._setXDomainCookie(e.results[0]),[4,this.consentManager.refreshTrackingConsentStatus()];case 4:return t.sent(),window.dispatchEvent(new CustomEvent("send_tracking",n)),[2,e.results];case 5:return[2,t.sent()];case 6:return[2]}}))}))},n.prototype._initIFrame=function(){if(!document.getElementById("xdomain_cookie_iframe")){var n=window.document.createElement("iframe");n.style.display="none",n.src=this.iframeSrcURL,n.id="xdomain_cookie_iframe",window.document.body.appendChild(n)}},n.prototype._readingIframeCookie=function(n){if(n.origin===this.iframeOrigin&&"string"==typeof n.data){var e=null;try{e=JSON.parse(n.data)}catch(n){e=null}return"object"!=typeof e||e instanceof Array?void 0:"msg_type"in e&&"xdomain_cookie_read"===e.msg_type?e.cookies:void 0}},n.prototype._setLocalCookie=function(n){for(var e in n)"function"!=typeof n[e]&&y(e,n[e])},n.prototype._setXDomainCookie=function(n){var e=window.document.getElementById("xdomain_cookie_iframe");e&&e.contentWindow&&e.contentWindow.postMessage(JSON.stringify({cookies:n,msg_type:"xdomain_cookie_write"}),this.iframeOrigin)},n.prototype.getObjectFromQuery=function(){var n=window.location.search;if(""===n)return{};var e=n.slice(1).split("&").map((function(n){var e;return(e={})[n.split("=")[0]]=n.split("=")[1],e})),t={};return e.forEach((function(n){Object.keys(n).forEach((function(e){var o;t=r(r({},t),((o={})[e]=n[e],o))}))})),t},n.prototype.isTrackingEvent=function(n){return!["allow_consent","register","register_success","login","logout","save_push"].includes(n)},n.prototype.mustRefreshConsentEvent=function(n){return["allow_consent"].includes(n)},n.prototype.isAllowConsentFormField=function(n){for(var e in n)if("_allow_consent"==e){var t=typeof n[e];if("string"==t)return T(""+n[e]);if("boolean"==t)return n[e];break}return!1},n.prototype.startEventQueueManager=function(){this.consumeEventQueue()},n.prototype.consumeEventQueue=function(){var n,e;return c(this,void 0,void 0,(function(){var t,o,a,s,i,r;return l(this,(function(c){switch(c.label){case 0:if(this.eventQueue.isEmpty)return[3,10];if((null==(t=this.eventQueue.dequeue())?void 0:t.pubclitype)!==L.TrackerSingle)return[3,5];if(null==(o=null==t?void 0:t.data))return[2,void 0];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.send(o.name,null!==(e=null===(n=o.tags)||void 0===n?void 0:n.join())&&void 0!==e?e:"",o.formFields,o.specificDatabase)];case 2:return i=c.sent(),o.resolve(i),[3,4];case 3:return a=c.sent(),o.reject(a),[3,4];case 4:return[3,9];case 5:if((null==t?void 0:t.pubclitype)!==L.TrackerBulk)return[3,9];if(null==(s=null==t?void 0:t.data))return[2,void 0];c.label=6;case 6:return c.trys.push([6,8,,9]),[4,this.sendBulk(s.data)];case 7:return i=c.sent(),s.resolve(i),[3,9];case 8:return r=c.sent(),s.reject(r),[3,9];case 9:return[3,0];case 10:return[4,A(200)];case 11:return c.sent(),this.consumeEventQueue(),[2]}}))}))},n.prototype.setupThirdPartyTracker=function(){return c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return this.consentManager.isFetching?[4,A(200)]:[3,2];case 1:return n.sent(),[3,0];case 2:return this.googleAnalytics=new I(this.consentManager),this.googleAnalytics.installScript(),this.facebookPixel=new M(this.consentManager),this.facebookPixel.installScript(),[2]}}))}))},n}(),F="User is subscribed",z="Push messaging is not supported",U="Service Worker Error",j="Cannot send subscription data to server",G="Cannot subscribe",K="We'd like to show you\n  notifications for the\n  latest news and updates",W="Subscribe",Q="#3d3d3d",V="#ffffff",Y="vertical",X="show",J="hide",$="subscribe",Z=function(){function n(){this.isRendered=!1}return n.prototype.render=function(){if(!this.isRendered){this.shadowHost=window.document.createElement("div");var n=window.document.querySelector("body");n.insertBefore(this.shadowHost,n.childNodes[0]||null),this.shadowRoot=this.shadowHost.attachShadow({mode:"open"}),this.isRendered=!0}},n.prototype.renderOnElement=function(n){this.shadowHost=window.document.createElement("div");var e=window.document.getElementById(n);if(!e)throw new Error("element id is not exists");e.contentDocument.getElementsByTagName("body")[0].appendChild(this.shadowHost),this.shadowRoot=this.shadowHost.attachShadow({mode:"open"}),this.isRendered=!0},n.prototype.setHTMLString=function(n){if(this.isRendered){var e=document.createElement("section");e.innerHTML=n,this.shadowRoot.appendChild(e)}},n.prototype.setDOM=function(n){var e=document.createElement("section");return e.appendChild(n),this.shadowRoot.appendChild(e),e},n.prototype.close=function(){this.isRendered&&(this.shadowHost.remove(),this.isRendered=!1)},n.bubblesEvent=function(n){return new CustomEvent(n,{bubbles:!0})},n}(),nn=function(){function n(n,e,t,o,i,a){void 0===t&&(t={}),this.shadowRoot=n,this.shadowHost=e,this.config=t,this.onSubscribe=o,this.onShow=i,this.onHide=a,this._render()}return n.prototype.close=function(){this.shadowHost&&(x(window.document.body,"pam-pusher-popup-open"),this.shadowHost.remove())},n.prototype._render=function(){var n=window.document.createElement("section");this._createElement(n),x(window.document.body,"pam-pusher-popup-open")},n.prototype._createElement=function(n){n.innerHTML=function(n){n.title;var e=n.message||K,t=n.button_text||W,a=(n.navigation_text,n.primary||Q),s=n.secondary||V,o=(n.primary_font,n.secondary_font||s),r=n.animate_type_btn||Y;return'\n    <div>\n      <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">\n      <style>\n        * {\n          box-sizing: border-box !important;\n          font-family: \'Kanit\', sans-serif;\n        }\n        body {\n          background: #000;\n        }\n        pre {\n          font-size: 16px;\n          margin: 0;\n          padding: 8px;\n          white-space: pre-wrap;\n        }\n        #noti-info-client.horizontal{\n          position: fixed;\n          right: 1%;\n          top: 2.6%;\n          z-index: 999999;\n          /*Absoluto*/\n          width: 330px; /* tamanho da notificação */\n          color: #5E7181;\n          font-size: 12px;\n        }\n        #noti-info-client.vertical{\n          position: fixed;\n          right: 5%;\n          top: 2.6%;\n          z-index: 999999;\n          /*Absoluto*/\n          width: 330px; /* tamanho da notificação */\n          color: #5E7181;\n          font-size: 12px;\n        }\n        #noti-info-client #panel{\n          z-index: 99;\n          display: block;\n          position: fixed;\n          background-color: '+a+";\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          bottom: 20px;\n          right: 20px;\n          margin: 10px 10px;\n          cursor: pointer;\n          -webkit-box-shadow: 0px 2px 3px 0px rgba(0,0,0,.4);\n          -moz-box-shadow: 0px 2px 3px 0px rgba(0,0,0,.4);\n          -ms-box-shadow: 0px 2px 3px 0px rgba(0,0,0,.4);\n          box-shadow: 0px 2px 3px 0px rgba(0,0,0,.4);\n        }\n        #noti-info-client #panel .icon {\n          display: inline-block;\n          width: 20px;\n          height: 20px;\n          stroke-width: 0;\n          stroke: currentColor;\n          fill: "+o+";\n          margin: auto;\n          position: absolute;\n          left: 0;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          transform-origin: 50% 0%;\n          -moz-transform-origin: 50% 0%;\n          -webkit-transform-origin: 50% 0%;\n          -ms-transform-origin: 50% 0%;\n        }\n        .bell-alert #panel::before{\n          /* Keyframe */\n          /* animation : sino-pulsa 1.2s infinite;\n          -webkit-animation : sino-pulsa 1.2s infinite;\n          -moz-animation : sino-pulsa 1.2s infinite;\n          -ms-animation : sino-pulsa 1.2s infinite; */\n        }\n        .bell-alert #panel{\n          /* background-color: \t"+a+" !important; */\n        }\n        .bell-alert .icon{\n          /* fill: #FBF9FC !important; */\n        }\n        .active-btn-to{\n          /*transform: translateX(-166px);*/\n          animation: 1s animate-btn-to-"+r+" ease-in-out !important;\n          -moz-animation: 1s animate-btn-to-"+r+" ease-in-out !important;\n          -webkit-animation: 1s animate-btn-to-"+r+" ease-in-out !important;\n          -ms-animation: 1s animate-btn-to-"+r+" ease-in-out !important;\n\n          animation-fill-mode: forwards !important;\n          -webkit-animation-fill-mode: forwards !important;\n          -moz-animation-fill-mode: forwards !important;\n          -ms-animation-fill-mode: forwards !important;\n        }\n\n        .active-btn-from{\n          animation: 1s animate-btn-from-"+r+" ease-in-out;\n          -webkit-animation: 1s animate-btn-from-"+r+" ease-in-out;\n          -moz-animation: 1s animate-btn-from-"+r+" ease-in-out;\n          -ms-animation: 1s animate-btn-from-"+r+" ease-in-out;\n\n          animation-fill-mode: forwards;\n          -webkit-animation-fill-mode: forwards;\n          -moz-animation-fill-mode: forwards;\n          -ms-animation-fill-mode: forwards;\n        }\n\n        @keyframes animate-btn-to-horizontal{\n          from, 10%{\n              right: 0;\n          }\n          20%,40%{\n              transform: rotate(-30deg);\n              -moz-transform: rotate(-30deg);\n              -webkit-transform: rotate(-30deg);\n              -ms-transform: rotate(-30deg);\n          }\n          60%{\n              transform: rotate(30deg);\n              -moz-transform: rotate(30deg);\n              -webkit-transform: rotate(30deg);\n              -ms-transform: rotate(30deg);\n          }\n          70%{\n              transform: rotate(0deg);\n              -moz-transform: rotate(0deg);\n              -webkit-transform: rotate(0deg);\n              -ms-transform: rotate(0deg);\n          }\n          80%{\n              transform: rotate(-20deg);\n              -moz-transform: rotate(-20deg);\n              -webkit-transform: rotate(-20deg);\n              -ms-transform: rotate(-20deg);\n          }\n          60%, to{\n              right: 147px;\n          }\n        }\n        @keyframes animate-btn-from-horizontal{\n          from, 10%{\n              right: 147px;\n          }\n          20%,40%{\n              transform: rotate(30deg);\n              -moz-transform: rotate(30deg);\n              -webkit-transform: rotate(30deg);\n              -ms-transform: rotate(30deg);\n          }\n          60%{\n              transform: rotate(-30deg);\n              -moz-transform: rotate(-30deg);\n              -webkit-transform: rotate(-30deg);\n              -ms-transform: rotate(-30deg);\n          }\n          70%{\n              transform: rotate(0deg);\n              -moz-transform: rotate(0deg);\n              -webkit-transform: rotate(0deg);\n              -ms-transform: rotate(0deg);\n          }\n          80%{\n              transform: rotate(20deg);\n              -moz-transform: rotate(20deg);\n              -webkit-transform: rotate(20deg);\n              -ms-transform: rotate(20deg);\n          }\n          60%, to{\n              right: 0;\n          }\n        }\n        @keyframes animate-into-desc-horizontal{\n          from, 50%{\n            opacity: 0;\n          }\n          70%, 100%{\n            opacity: 1;\n          }\n          30%{\n            transform: translateY(50px);\n          }\n        }\n        @keyframes animate-btn-to-vertical{\n          from, 10%{\n              bottom: 20px;\n          }\n          20%,40%{\n              transform: rotate(-30deg);\n              -moz-transform: rotate(-30deg);\n              -webkit-transform: rotate(-30deg);\n              -ms-transform: rotate(-30deg);\n          }\n          60%{\n              transform: rotate(30deg);\n              -moz-transform: rotate(30deg);\n              -webkit-transform: rotate(30deg);\n              -ms-transform: rotate(30deg);\n          }\n          70%{\n              transform: rotate(0deg);\n              -moz-transform: rotate(0deg);\n              -webkit-transform: rotate(0deg);\n              -ms-transform: rotate(0deg);\n          }\n          80%{\n              transform: rotate(-20deg);\n              -moz-transform: rotate(-20deg);\n              -webkit-transform: rotate(-20deg);\n              -ms-transform: rotate(-20deg);\n          }\n          60%, to{\n              bottom: 95px;\n          }\n        }\n        @keyframes animate-btn-from-vertical{\n          from, 10%{\n                bottom: 95px;\n            }\n            20%,40%{\n                transform: rotate(30deg);\n                -moz-transform: rotate(30deg);\n                -webkit-transform: rotate(30deg);\n                -ms-transform: rotate(30deg);\n            }\n            60%{\n                transform: rotate(-30deg);\n                -moz-transform: rotate(-30deg);\n                -webkit-transform: rotate(-30deg);\n                -ms-transform: rotate(-30deg);\n            }\n            70%{\n                transform: rotate(0deg);\n                -moz-transform: rotate(0deg);\n                -webkit-transform: rotate(0deg);\n                -ms-transform: rotate(0deg);\n            }\n            80%{\n                transform: rotate(20deg);\n                -moz-transform: rotate(20deg);\n                -webkit-transform: rotate(20deg);\n                -ms-transform: rotate(20deg);\n            }\n            60%, to{\n                bottom: 20px;\n            }\n        }\n        @keyframes animate-into-desc-vertical{\n            from, 50%{\n                opacity: 0;\n            }\n            70%, 100%{\n                opacity: 1;\n            }\n            30%{\n                transform: translateX(50px);\n            }\n        }\n        #noti-info-client #wrapper-noti-body.horizontal {\n          position: fixed;\n          width: auto;\n          bottom: 100px;\n          background: "+s+";\n          -webkit-box-shadow: 0px 3px 6px 0px rgba(235,235,235,.3);\n          -moz-box-shadow: 0px 3px 6px 0px rgba(235,235,235,.3);\n          -ms-box-shadow: 0px 3px 6px 0px rgba(235,235,235,.3);\n          box-shadow: 0px 3px 6px 0px rgba(235,235,235,.3);\n          border-radius: 4px;\n          display: none;\n          border: 1px solid #DDDDDD;\n        }\n        #noti-info-client #wrapper-noti-body.vertical {\n          position: fixed;\n          width: auto;\n          bottom: 55px;\n          background: #fff;\n          -webkit-box-shadow: 0px 3px 6px 0px rgba(235,235,235,.3);\n          -moz-box-shadow: 0px 3px 6px 0px rgba(235,235,235,.3);\n          -ms-box-shadow: 0px 3px 6px 0px rgba(235,235,235,.3);\n          box-shadow: 0px 3px 6px 0px rgba(235,235,235,.3);\n          border-radius: 4px;\n          display: none;\n          border: 1px solid #DDDDDD;\n        }\n        #noti-info-client #wrapper-noti-body #box {\n          min-height: 150px;\n          width: 300px;\n          text-align: center;\n          padding: 10px 20px 20px;\n        }\n        #noti-info-client #wrapper-noti-body #box #closeButton {\n          position: absolute;\n          top: 0;\n          right: 5px;\n          transform: rotate(0deg);\n          color:#3d3d3d;\n          opacity: 0.5;\n          transition: all 0.15s;\n          cursor: pointer;\n          font-size: 20px;\n        }\n        #noti-info-client #wrapper-noti-body #box #box-content{\n            letter-spacing: 1px;\n            padding-top: 10px !important;\n            min-height: 100px;\n        }\n        #noti-info-client #wrapper-noti-body #box #box-content p{\n          font-size: 16px;\n          margin: 0px;\n          padding-top: 8px;\n        }\n        #noti-info-client #wrapper-noti-body #box #btn-ok {\n          margin-top: 10px !important;\n          position: relative;\n        }\n        #submit-button:hover {\n          opacity: 0.3;\n        }\n        #noti-info-client #wrapper-noti-body #box #btn-ok button.btn {\n          background-color: "+a+";\n          padding: 10px 30px;\n          display: inline-block;\n          color: "+s+";\n          font-size: 14px;\n          text-align: center;\n          outline: 0;\n          cursor: pointer;\n          border-radius: 4px;\n          text-transform: none;\n        }\n        .active-body-desc{\n          display: block !important;\n            /* keyframe */\n          animation:  2s animate-into-desc-"+r+" !important;\n          -webkit-animation: 2s animate-into-desc-"+r+" !important;\n          -moz-animation: 2s animate-into-desc-"+r+" !important;\n          -ms-animation: 2s animate-into-desc-"+r+' !important;\n        }\n        #noti-info-client #wrapper-noti-body div {\n          list-style: none;\n          margin: 0 !important;\n        }\n        #noti-info-client #wrapper-noti-body.horizontal::after, #noti-info-client #wrapper-noti-body.horizontal::before {\n          top: 100%;\n          left: 50%;\n          border: solid transparent;\n          content: "";\n          height: 0;\n          width: 0;\n          position: absolute;\n          pointer-events: none;\n          border-top-color: #DDDDDD;\n        }\n        #noti-info-client #wrapper-noti-body.horizontal::after {\n          border-top-color: #fff;\n          border-width: 10px;\n          margin-left: -10px;\n        }\n        #noti-info-client #wrapper-noti-body.horizontal::before {\n            border-width: 12px;\n            margin-left: -12px;\n        }\n        #noti-info-client #wrapper-noti-body.vertical::after, #noti-info-client #wrapper-noti-body.vertical::before {\n          top: 50%;\n          left: 100%;\n          border: solid transparent;\n          content: "";\n          height: 0;\n          width: 0;\n          position: absolute;\n          pointer-events: none;\n          border-left-color: #DDDDDD;\n        }\n        #noti-info-client #wrapper-noti-body.vertical::after {\n          border-left-color: #fff;\n          border-width: 10px;\n          margin-top: 1px;\n        }\n        #noti-info-client #wrapper-noti-body.vertical::before {\n          border-width: 11px;\n          margin-top: 0px;\n        }\n      </style>\n      <div id="noti-info-client" class="'+r+' popup-container bell-alert">\n        <div id="panel" class="active-btn-to">\n          <span id="showButton">\n            <svg class="icon icon-notification">\n              <use xlink:href="#icon-notification">\n                <symbol id="icon-notification" viewBox="0 0 20 20">\n                  <path d="M4 8c0-0.001 0-0.002 0-0.003 0-2.608 1.664-4.827 3.988-5.654l0.042-0.013c-0.016-0.095-0.025-0.204-0.025-0.315 0-1.105 0.895-2 2-2s2 0.895 2 2c0 0.111-0.009 0.22-0.027 0.327l0.002-0.012c2.361 0.843 4.020 3.060 4.020 5.664 0 0.002 0 0.004 0 0.006v-0 6l3 2v1h-18v-1l3-2v-6zM12 18c0 1.105-0.895 2-2 2s-2-0.895-2-2v0h4z"></path>\n                </symbol>\n              </use>\n            </svg>\n          </span>\n        </div>\n        <div id="wrapper-noti-body" class="'+r+' active-body-desc">\n          <div id="box" >\n            <div id="closeButton">&times;</div>\n            <div id="box-content">\n              <pre>'+e+'</pre>\n            </div>\n            <div id="btn-ok" class="clearfix">\n              <button type="button" id="submit-button" class="btn model-close">'+t+"</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  "}(this.config),this.registerEventListeners(n),this.addEventDispatchers(n),this.shadowRoot.appendChild(n)},n.prototype.registerEventListeners=function(n){n.addEventListener(X,this.onShow),n.addEventListener(J,this.onHide),n.addEventListener($,this.onSubscribe)},n.prototype.addEventDispatchers=function(n){n.querySelector("#panel").onclick=function(){return n.dispatchEvent(Z.bubblesEvent(X))},n.querySelector("#showButton").onclick=function(){return n.dispatchEvent(Z.bubblesEvent(X))},n.querySelector("#closeButton").onclick=function(){return n.dispatchEvent(Z.bubblesEvent(J))},n.querySelector("button").onclick=function(){return n.dispatchEvent(Z.bubblesEvent($))}},n}();!function(n){n.PUSHER_STATE_SHOW="pusher_state_show",n.PUSHER_STATE_HIDE="pusher_state_hide"}(O||(O={})),function(n){n.DEFAULT="default",n.GRANTED="granted",n.DENIED="denied"}(B||(B={}));var en=function(n){function e(e){void 0===e&&(e="Click Allow to subscribe");var t=n.call(this)||this;return t.navigationText=e,t}return o(e,n),e.prototype.render=function(){n.prototype.render.call(this);var e='\n    <div>\n      <style>\n      .webpush-navigation {\n        position: fixed;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n        background-color: rgba(0, 0, 0, 0.6);\n        z-index: 999999;\n      }\n\n      .webpush-navigation svg {\n        width: 100px;\n        fill: #ffffff;\n      }\n\n      .webpush-navigation p {\n        font-size: 1.4em;\n        text-shadow: 2px 2px 5px #444444;\n      }\n\n      .wrapper {\n        position: relative;\n        text-align: left;\n        top: 150px;\n        left: 500px;\n        color: #ffffff;\n      }\n      </style>\n      <div class="webpush-navigation">\n        <div class="wrapper">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 869.58 1381.15">\n            <g id="Layer_2" data-name="Layer 2">\n              <g id="Draw_Layer" data-name="Draw Layer" transform="translate(20,2.5) rotate(10)">\n                <path class="cls-1" d="M31.15,27.47A16.25,16.25,0,0,0,25.33,49.7c.84,1.1,1.69,2.19,2.54,3.29A16.27,16.27,0,0,0,35,57.17q14.3,5.41,28.42,11.26A16.37,16.37,0,0,0,67.11,70C147.9,104.44,223.56,150,293.19,203.5,378,269.37,453.45,346.61,519.28,431.36c78.27,101.72,142.5,213.79,192.57,331.91a1632.82,1632.82,0,0,1,111.71,409.28q4.5,34,7.56,68.22v0a.28.28,0,0,1,0,.09q4.2,47.73,5.48,95.64.36,14.19.47,28.38a16.25,16.25,0,0,0,32.5,0q-.12-14.16-.47-28.33h0L869,1333c0-.15,0-.3,0-.45q-1.34-45.74-5.34-91.33s0-.09,0-.14,0-.08,0-.13a1638.1,1638.1,0,0,0-117.4-479,1570.43,1570.43,0,0,0-111.4-219.83,1441.5,1441.5,0,0,0-147-199.62q-40.35-45.9-84.92-87.8c-29.7-28-60.89-54.25-93.19-79.16-61-47-126.81-87.78-196.55-120.42-9.56-4.47-19.22-8.74-28.92-12.9l-.1-.06-3-1.26-3.76-1.59-1.61-.67h0q-6-2.51-12-4.93a16.63,16.63,0,0,0-3.58-1.47q-7.4-2.94-14.84-5.77l-.62-.24-1-.39-4.32-.58a16.21,16.21,0,0,0-8.21,2.22Z"/>\n                <path class="cls-1" d="M226.74,0,76.55,7.4,16.47,10.35a16.14,16.14,0,0,0-8.23,2.12,16.45,16.45,0,0,0-5.9,5.76C-.53,23-.95,29.82,2.15,34.63q45.71,70.92,91.44,141.82l25.55,39.62a16.92,16.92,0,0,0,9.62,7.59,16.27,16.27,0,0,0,20.13-11.11c1.15-4,.81-9-1.49-12.54L53.34,54.14l-8.2-12.72L176.74,35l49.34-2.43h.27c4.41-.21,8.33-1.47,11.55-4.62a16.25,16.25,0,0,0,.28-23A16.5,16.5,0,0,0,228.34.05a12.22,12.22,0,0,0-1.6,0Z"/>\n              </g>\n            </g>\n          </svg>\n          <p>'+this.navigationText+"</p>\n        </div>\n      </div>\n    </div>\n    ",t=document.createElement("section");t.innerHTML=e,this.shadowRoot.appendChild(t)},e}(Z),tn="undefined"==typeof globalThis?"undefined"==typeof window?void 0===n?"undefined"==typeof self?{}:self:n:window:globalThis;var on,sn,an,rn,cn=function(n,e){return n(e={exports:{}},e.exports),e.exports}((function(n){var e,t;e=tn,t=function(){function n(n){var e=[];if(0===n.length)return"";if("string"!=typeof n[0])throw new TypeError("Url must be a string. Received "+n[0]);if(n[0].match(/^[^/:]+:\/*$/)&&1<n.length){var t=n.shift();n[0]=t+n[0]}n[0]=n[0].match(/^file:\/\/\//)?n[0].replace(/^([^/:]+):\/*/,"$1:///"):n[0].replace(/^([^/:]+):\/*/,"$1://");for(var o,a=0;a<n.length;a++){if("string"!=typeof(o=n[a]))throw new TypeError("Url must be a string. Received "+o);""!==o&&(0<a&&(o=o.replace(/^[\/]+/,"")),o=a<n.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),e.push(o))}var s=e.join("/"),r=(s=s.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s=r.shift()+(0<r.length?"?":"")+r.join("&")}return function(){return n("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},n.exports?n.exports=t():e.urljoin=t()})),ln=function(n){function e(){var e=n.call(this)||this;return e.subscription=null,e.swRegistration=null,e.isSubscribed=!1,e.permission=Notification.permission,e}return o(e,n),e.prototype.init=function(n){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:this.ctx=n,t.label=1;case 1:return t.trys.push([1,4,,5]),[4,this._registerServiceWorker()];case 2:return t.sent(),[4,this._fetchConfig()];case 3:return(e=t.sent()).enableWebPushNavigation&&(this.pusherNavigation=e.navigation_text?new en(e.navigation_text):new en),[2,e];case 4:throw t.sent();case 5:return[2]}}))}))},e.prototype.subscribe=function(){var n=this;this.close(),this.permission===B.DEFAULT?(this.pusherNavigation&&this.showNavigation(),Notification.requestPermission().then((function(){n.pusherNavigation&&n.hideNavigation();var e=function(n){for(var e=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),t=window.atob(e),a=new Uint8Array(t.length),s=0;s<t.length;++s)a[s]=t.charCodeAt(s);return a}(n.ctx.config.webPushPublicKey);n.swRegistration&&n.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}).then((function(e){n.subscription=e,n._updateSubscriptionOnServer(e,n.ctx.config.pusherAlias).catch((function(n){window.console.error(j,n)}))})).catch((function(n){window.console.error(G,n)}))}))):this.swRegistration&&this.swRegistration.pushManager.getSubscription().then((function(e){e?(n._updateSubscriptionOnServer(e,n.ctx.config.pusherAlias).catch((function(n){window.console.error(j,n)})),n.subscription=e):window.console.error(G,e)})).catch((function(n){window.console.error(G,n)}))},e.prototype.render=function(e){var t=this;void 0===e&&(e={}),n.prototype.render.call(this),this.content=new nn(this.shadowRoot,this.shadowHost,e,(function(){return t.subscribe()}),(function(){return t.show()}),(function(){return t.hide()})),this.isShown()||this.hide()},e.prototype.close=function(){n.prototype.close.call(this)},e.prototype.show=function(){this.shadowRoot.querySelector(".popup-container").classList.add("bell-alert"),this.shadowRoot.querySelector("#panel").classList.remove("active-btn-form"),this.shadowRoot.querySelector("#panel").classList.add("active-btn-to"),this.shadowRoot.querySelector("#wrapper-noti-body").classList.add("active-body-desc"),this.setState("pusher_state_key",O.PUSHER_STATE_SHOW)},e.prototype.hide=function(){this.shadowRoot.querySelector(".popup-container").classList.remove("bell-alert"),this.shadowRoot.querySelector("#panel").classList.remove("active-btn-to"),this.shadowRoot.querySelector("#panel").classList.add("active-btn-from"),this.shadowRoot.querySelector("#wrapper-noti-body").classList.remove("active-body-desc"),this.setState("pusher_state_key",O.PUSHER_STATE_HIDE)},e.prototype.showNavigation=function(){this.pusherNavigation&&this.pusherNavigation.render()},e.prototype.hideNavigation=function(){this.pusherNavigation&&this.pusherNavigation.close()},e.prototype.isShown=function(){var n=this.getState("pusher_state_key");return!n||n===O.PUSHER_STATE_SHOW},e.prototype.setState=function(n,e){window.localStorage.setItem(n,e)},e.prototype.getState=function(n){return window.localStorage.getItem(n)?window.localStorage.getItem(n):null},e.prototype._registerServiceWorker=function(){var n=this;return new Promise((function(e,t){"serviceWorker"in navigator&&"PushManager"in window?navigator.serviceWorker.register(cn(m(),n.ctx.config.prefixPathWorkerScript,"pam-sw.js")).then((function(e){return n.swRegistration=e,n._notify()})).then((function(n){return e(n)})).catch((function(n){t(U+": "+n)})):t(z)}))},e.prototype._notify=function(){var n=this;return new Promise((function(e,t){n.swRegistration&&n.swRegistration.pushManager.getSubscription().then((function(o){n.subscription=o,n.isSubscribed=null!==o,n.isSubscribed?t(F):e(null)}))}))},e.prototype._updateSubscriptionOnServer=function(n,e){var t=this.ctx.config.baseApi+"/api/pub/contacts/"+w("contact_id")+"/webpush/"+e;return f(t,n.toJSON())},e.prototype._fetchConfig=function(){var n=this.ctx.config.baseApi+"/api/media/webpush/"+this.ctx.config.pusherAlias+"/config";return v(n)},e}(Z),dn=function(n){function e(e,t,o,i,a,s){void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===s&&(s=!1);var d=n.call(this)||this;return d.consentDetail=e,d.submitConsentPermission=t,d.immediatelySubmit=o,d.callback=i,d.previewMode=a,d.disableToggleOptions=s,d.trackingConsentDetailType={terms_and_conditions:{label:"Terms & Conditions",value:"terms_and_conditions",isAlwaysAccepted:!0},privacy_overview:{label:"Privacy Overview",value:"privacy_overview",isAlwaysAccepted:!0},necessary_cookies:{label:"Necessary Cookies",value:"necessary_cookies",isAlwaysAccepted:!0},preferences_cookies:{label:"Preferences Cookies",value:"preferences_cookies",isAlwaysAccepted:d.disableToggleOptions||!1},analytics_cookies:{label:"Analytics Cookies",value:"analytics_cookies",isAlwaysAccepted:d.disableToggleOptions||!1},marketing_cookies:{label:"Marketing Cookies",value:"marketing_cookies",isAlwaysAccepted:d.disableToggleOptions||!1},social_media_cookies:{label:"Social Media Cookies",value:"social_media_cookies",isAlwaysAccepted:d.disableToggleOptions||!1}},d.contactingTypeDetailOptions={terms_and_conditions:{label:"Terms & Conditions",value:"terms_and_conditions",isAlwaysAccepted:!0},privacy_overview:{label:"Privacy Overview",value:"privacy_overview",isAlwaysAccepted:!0},email:{label:"Email",value:"email",isAlwaysAccepted:d.disableToggleOptions||!1},sms:{label:"SMS",value:"sms",isAlwaysAccepted:d.disableToggleOptions||!1},line:{label:"LINE",value:"line",isAlwaysAccepted:d.disableToggleOptions||!1},facebook_messenger:{label:"Facebook Messenger",value:"facebook_messenger",isAlwaysAccepted:d.disableToggleOptions||!1},push_notification:{label:"Push Notification",value:"push_notification",isAlwaysAccepted:d.disableToggleOptions||!1}},d.consentDetailType="tracking_type"===d.consentDetail.consent_message_type?d.trackingConsentDetailType:d.contactingTypeDetailOptions,d.activeLanguage=d.consentDetail.setting.default_language.toLowerCase(),d.selectedConsentDetailTypeIdx=0,d.updatedConsentAcceptation={consent_message_id:d.consentDetail.consent_message_id,version:d.consentDetail.setting.version,permission:{}},d.template="\n    <div>\n        <style>\n            * {\n                box-sizing: border-box;\n            }\n            \n            body {\n                margin: 0;\n                background-color: indigo;\n            }\n            \n            #consent-noti {\n                position: fixed;\n                display: flex;\n                justify-content: center;\n                bottom: 0;\n                left: 0;\n                width: 100%;\n                z-index: 900001;\n                /* background color and opacity */\n                background-color: "+d.consentDetail.style_configuration.bar_background_color+";\n                opacity: "+d.consentDetail.style_configuration.bar_background_opacity_percentage/100+";\n            }\n            \n            .container {\n                display: flex;\n                align-content: center;\n                width: 100%;\n            }\n            \n            .container>div {\n                display: flex;\n                align-items: center;\n            }\n            \n            #consent-txt-container {\n                flex-grow: 1;\n                padding: 20px 20px 20px 40px;\n            }\n            \n            #consent-txt {\n                color: "+d.consentDetail.style_configuration.bar_text_color+";\n                font-size: 0.9rem;\n            }\n            \n            #consent-txt a:link,\n            #consent-txt a:visited,\n            #consent-txt a:active {\n                color: "+d.consentDetail.style_configuration.bar_text_color+";\n            }\n            \n            #consent-txt a:hover {\n                color: "+d.consentDetail.style_configuration.button_background_color+";\n            }\n            \n            #consent-noti-btn-container {\n                display: flex;\n                flex-direction: column;\n                align-items: flex-end;\n                justify-content: space-between;\n                padding: 15px;\n            }\n            \n            #language-btn-container {\n                color: "+d.consentDetail.style_configuration.bar_text_color+";\n                font-size: 0.8rem;\n                margin-bottom: 10px;\n            }\n            \n            #language-btn-container .language-btn {\n                cursor: pointer;\n            }\n            \n            #language-btn-container .active-language-btn {\n                color: "+d.consentDetail.style_configuration.consent_detail.primary_color+" !important;\n            }\n\n            #language-btn-container .select-language {\n              cursor: pointer;\n              border: none;\n              background: none;\n              color: white;\n              border-color: white;\n          }\n            \n            .accept-btn {\n                cursor: pointer;\n                /* btn color */\n                background-color: "+d.consentDetail.style_configuration.button_background_color+";\n                /* btn text color */\n                color: "+d.consentDetail.style_configuration.button_text_color+";\n                padding: 12px 48px;\n                border-radius: 6px;\n                font-size: 1rem;\n            }\n            \n            .accept-btn:hover {\n                opacity: 0.8;\n            }\n            \n            .more-info-link {\n                margin-left: 6px;\n                text-decoration: underline;\n                cursor: pointer;\n            }\n            \n            .more-info-link:hover {\n                color: "+d.consentDetail.style_configuration.button_background_color+";\n            }\n            \n            .notification-close-btn {\n                position: absolute;\n                top: 8px;\n                left: 8px;\n                height: 12px;\n                width: 12px;\n            }\n            \n            .close-btn {\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                cursor: pointer;\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"768px")+") {\n                .close-btn {\n                    justify-content: flex-start;\n                }\n            }\n            \n            .close-btn:hover {\n                opacity: 0.5;\n            }\n            \n            .notification-close-btn::before,\n            .notification-close-btn::after {\n                position: absolute;\n                content: '';\n                width: 100%;\n                height: 1px;\n                /* btn color */\n                background-color: "+d.consentDetail.style_configuration.button_background_color+";\n            }\n            \n            .close-btn::before {\n              \n            }\n            \n            .close-btn::after {\n               \n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"768px")+") {\n                .container {\n                    flex-direction: column;\n                }\n                #consent-txt-container {\n                    padding: 30px 15px 5px;\n                }\n                .accept-btn {\n                    text-align: center;\n                    width: 100%;\n                }\n            }\n            /* modal */\n            \n            .overlay {\n                position: fixed;\n                top: 0;\n                left: 0;\n                height: 100%;\n                width: 100%;\n                background-color: rgba(0, 0, 0, 0.5);\n                z-index: 900002;\n            }\n            \n            .consent-message-modal {\n                padding: 10px;\n                position: fixed;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                width: "+(d.previewMode?"calc((100vh / 3) * 4)":"800px")+";\n                max-width: "+(d.previewMode?"95%":"80%")+";\n                height: "+(d.previewMode?"95%":"90% !important")+";\n                max-height: 550px;\n                min-height: 280px;\n                background-color: #ffffff;\n                z-index: 900003;\n                border-radius: 7px;\n              \n                display: flex;\n                flex-direction: column;\n            }\n            \n            .consent-message-topic-container {\n                display: flex;\n                margin-bottom: 5px;\n            }\n            \n            .consent-message-topic {\n                display: flex;\n                align-items: center;\n            }\n            \n            .pop-up-main-icon-container {\n                display: flex;\n                align-items: center;\n                margin-right: 15px;\n                color: "+d.consentDetail.style_configuration.consent_detail.primary_color+";\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"768px")+") {\n                .consent-message-modal {\n                    padding: 10px;\n                }\n                .consent-message-topic {\n                    flex-direction: column;\n                    align-items: flex-start;\n                    flex-basis: 100%;\n                    margin-top: 0;\n                }\n                .pop-up-main-icon-container {\n                    margin-bottom: 10px;\n                    pop-up-main-icon-container\n                }\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"599px")+") {\n                .consent-message-modal {\n                    height: "+(d.previewMode?"95%":"70%")+";\n                }\n            }\n            \n            .pop-up-main-icon {\n                margin-right: 10px;\n                width:30px;\n                height:30px\n            }\n            \n            .consent-message-topic-container h2,\n            h3 {\n                margin: 0;\n            }\n            \n            .active-modal-language-btn {\n                box-shadow: 0px 0px 0px 1px "+d.consentDetail.style_configuration.consent_detail.primary_color+" inset;\n            }\n            \n            .inactive-language-btn {\n                background-color: #EBEBEB;\n            }\n            \n            .consent-message-container {\n                display: flex;\n                height: calc(80% - 55px);\n                flex-grow: 1;\n                border: 1px solid #C6C6C6;\n                flex-basis: 80%;\n                z-index: 2;\n                margin-bottom: auto;\n            }\n            \n            #consent-message-container {\n                border-radius: 8px;\n            }\n            \n            .consent-detail-title {\n                color: #303131;\n            }\n            \n            #consent-detail-type-tab-bar {\n                display: flex;\n                flex-direction: column;\n                flex-basis: 30%;\n                border-right: 1px solid #C6C6C6;\n                background-color: #EBEBEB;\n                border-radius: 8px 0px 0px 8px;\n                overflow-y: scroll;\n                -ms-overflow-style: none;\n                scrollbar-width: none;\n            }\n            \n            #consent-detail-type-tab-bar::-webkit-scrollbar {\n                display: none;\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"768px")+") {\n                #consent-message-container {\n                    display: none;\n                }\n            }\n            \n            .consent-detail-type-tab {\n                display: flex;\n                align-items: center;\n                padding: 15px;\n                cursor: pointer;\n                font-size: 0.9rem;\n            }\n            \n            .consent-detail-type-tab:first-of-type {\n                border-radius: 8px 0 0 0;\n            }\n            \n            .consent-detail-type {\n                color: #303131;\n                font-weight: 500;\n            }\n            \n            .active-consent-type-icon-container {\n                flex-basis: 24px;\n                margin-right: 10px;\n                height: 24px;\n            }\n            \n            .active-consent-type-icon-container svg {\n                width: 24px;\n                height: 24px;\n                color: #71D879;\n            }\n            \n            .modal-lang-and-close-btn {\n                margin-left: auto;\n                display: flex;\n            }\n            \n            #modal-language-btn-container {\n                display: flex;\n                align-items: center;\n                margin-right: 15px;\n            }\n\n            #modal-language-btn-container .select-language {\n              border: none;\n              background: #EBEBEB;\n              cursor: pointer;\n              padding: 5px;\n              border-radius: 4px;\n            }\n\n            .select-language:focus-visible {\n              outline: none;\n            }\n            \n            .modal-language-btn {\n                padding: 10px;\n                color: "+d.consentDetail.style_configuration.consent_detail.primary_color+";\n                font-size: 0.8rem;\n                height: 35px;\n                width: 40px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                cursor: pointer;\n            }\n            \n            .modal-language-btn:first-of-type {\n                border-radius: 8px 0px 0px 8px;\n            }\n            \n            .modal-language-btn:last-of-type {\n                border-radius: 0px 8px 8px 0px;\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"599px")+") {\n                .modal-lang-and-close-btn {\n                    top: 15px;\n                    right: 10px;\n                }\n                #modal-language-btn-container {\n                    margin-right: 5px;\n                }\n                .modal-language-btn {\n                    height: 25px;\n                    width: 30px;\n                    font-size: 10px;\n                }\n                .modal-language-btn:first-of-type {\n                    border-radius: 5px 0px 0px 5px;\n                }\n                .modal-language-btn:last-of-type {\n                    border-radius: 0px 5px 5px 0px;\n                }\n            }\n            \n            .modal-close-btn::after {\n                content: '\\00d7';\n                color: #9CACAC;\n                font-size:30px;\n                margin-top: -15px;\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"599px")+") {\n                .modal-close-btn::before,\n                .modal-close-btn::after {\n                    width: 70%;\n                }\n            }\n            \n            .modal-tab:hover {\n                background-color: #f1f1f1;\n            }\n            \n            .modal-tab-active {\n                background-color: #FFFFFF;\n            }\n            \n            .consent-message-content-container {\n                flex-basis: 75%;\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                padding: 15px 25px;\n            }\n            \n            .modal-content-topic-container {\n                margin-bottom: 15px;\n                max-height: 20%;\n                color: "+d.consentDetail.style_configuration.consent_detail.secondary_color+";\n            }\n            \n            #full-consent-message-container .modal-content-topic-container {\n                margin: 0px 0px 15px !important;\n            }\n            \n            #full-consent-message-container .consent-message-content-container {\n                flex-basis: 100%;\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"768px")+") {\n                #full-consent-message-container .consent-message-content-container {\n                    padding: 15px;\n                }\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"599px")+") {\n                #full-consent-message-container .consent-message-content-container {\n                    padding: 10px;\n                }\n                #modal-full-content-topic {\n                    font-size: 15px !important;\n                }\n            }\n            \n            .consent-message-description-container {\n                flex-basis: 80%;\n                overflow-y: scroll;\n                margin-bottom: auto;\n                max-height: 100%;\n            }\n            \n            #full-consent-message-container .consent-message-description-container {\n                flex-basis: 100%;\n            }\n            \n            .consent-message-description-container p {\n                font-size: 0.9rem;\n                color: "+d.consentDetail.style_configuration.consent_detail.text_color+";\n                margin: 0;\n            }\n            \n            #modal-content-topic,\n            #modal-full-content-topic,\n            .mobile-modal-content-topic {\n                margin: 0;\n                color: #5A5F5F;\n                font-size: 1.2rem;\n                font-weight: 500;\n            }\n            \n            .modal-content p {\n                font-size: 0.9rem;\n                font-weight: 500;\n                color: #303131;\n            }\n            \n            #modal-content-footer-container,\n            .mobile-modal-content-footer-container {\n                padding-top: 15px;\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n            }\n            \n            .mobile-modal-content-footer-container {\n                margin: 0 10px;\n            }\n            \n            #full-version-btn-container .modal-content-footer-text,\n            .mobile-full-version-btn-container>.modal-content-footer-text {\n                text-decoration: underline;\n                cursor: pointer;\n            }\n            \n            .modal-content-footer-text {\n                font-size: 0.8rem;\n                font-weight: 500;\n                color: "+d.consentDetail.style_configuration.consent_detail.text_color+";\n            }\n            \n            #accept-by-type-toggle-container {\n                display: flex;\n                align-items: center;\n            }\n            \n            #consent-message-modal-footer-container {\n                margin-top: 20px;\n            }\n            \n            #consent-message-modal-footer-container button {\n                color: "+d.consentDetail.style_configuration.consent_detail.button_text_color+";\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"599px")+") {\n                #consent-message-modal-footer-container {\n                    margin-top: 10px;\n                }\n            }\n            \n            #brief-description-consent-message-btn-container {\n                display: flex;\n                justify-content: flex-end;\n            }\n            \n            #full-description-consent-message-btn-container {\n                display: flex;\n                justify-content: space-between;\n            }\n            \n            .consent-message-save-button {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                background-color: "+d.consentDetail.style_configuration.consent_detail.primary_color+";\n                margin-right: 8px;\n                width: 150px;\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"599px")+") {\n                #full-description-consent-message-btn-container .consent-message-save-button {\n                    display: none !important;\n                }\n            }\n            \n            .consent-message-accept-button {\n                background-color: "+d.consentDetail.style_configuration.consent_detail.secondary_color+";\n                width: 150px;\n            }\n            \n            .consent-message-back-button {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                background-color: "+d.consentDetail.style_configuration.consent_detail.secondary_color+";\n            }\n            \n            .consent-message-btn-container button {\n                border: none;\n                border-radius: 7px;\n                padding: 10px 20px;\n                color: "+d.consentDetail.style_configuration.consent_detail.button_text_color+";\n                cursor: pointer;\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"599px")+') {\n                #brief-description-consent-message-btn-container {\n                    width: 70%;\n                    margin-left: auto;\n                }\n                #brief-description-consent-message-btn-container button {\n                    padding: 10px 5px;\n                    font-size: 10px;\n                }\n                #full-description-consent-message-btn-container button {\n                    padding: 10px;\n                }\n            }\n            \n            .btn-icon-img {\n                width: auto;\n                height: 15px;\n                filter: invert(100%);\n                -webkit-filter: invert(100%);\n                margin-right: 8px;\n            }\n            \n            ::-webkit-scrollbar {\n                -webkit-appearance: none;\n                width: 7px;\n            }\n            \n            ::-webkit-scrollbar-thumb {\n                border-radius: 4px;\n                background-color: rgba(0, 0, 0, .5);\n                box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n            }\n            /* The switch - the box around the slider */\n            \n            .accept-by-type-switch {\n                position: relative;\n                display: inline-block;\n                width: 30px;\n                height: 17px;\n                margin-right: 7px;\n            }\n            /* Hide default HTML checkbox */\n            \n            .accept-by-type-switch input {\n                opacity: 0;\n                width: 0;\n                height: 0;\n            }\n            /* The slider */\n            \n            .slider {\n                position: absolute;\n                cursor: pointer;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background-color: #EBEBEB;\n                -webkit-transition: .4s;\n                transition: .4s;\n            }\n            \n            .slider:before {\n                position: absolute;\n                content: "";\n                height: 13px;\n                width: 13px;\n                left: 2px;\n                bottom: 2px;\n                background-color: white;\n                -webkit-transition: .4s;\n                transition: .4s;\n            }\n            \n            input:checked+.slider {\n                background-color: #71D879;\n            }\n            \n            input:focus+.slider {\n                box-shadow: 0 0 1px #71D879;\n            }\n            \n            input:checked+.slider:before {\n                -webkit-transform: translateX(13px);\n                -ms-transform: translateX(13px);\n                transform: translateX(13px);\n            }\n            /* Rounded sliders */\n            \n            .slider.round {\n                border-radius: 34px;\n            }\n            \n            .slider.round:before {\n                border-radius: 50%;\n            }\n            \n            .hide-element {\n                display: none !important;\n            }\n            /* Mobile Reponsive Consent Message */\n            \n            #mobile-consent-message-container {\n                display: flex;\n                flex-direction: column;\n                height: 80%;\n                border: 1px solid #C6C6C6;\n                flex-basis: 80%;\n                z-index: 2;\n                margin-bottom: auto;\n                border-radius: 8px 8px 0 0;\n                overflow-y: scroll;\n                -ms-overflow-style: none;\n                scrollbar-width: none;\n            }\n            \n            #mobile-consent-message-container::-webkit-scrollbar {\n                display: none;\n            }\n            \n            @media only screen and (min-width: '+(d.previewMode?"376px":"769px")+") {\n                #mobile-consent-message-container {\n                    display: none;\n                }\n            }\n            \n            .mobile-consent-detail-type-tab,\n            .mobile-consent-message-content-container {\n                border-bottom: 1px solid #C6C6C6;\n            }\n            \n            .mobile-consent-detail-type {\n                margin-right: auto;\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"599px")+") {\n                .mobile-consent-detail-type {\n                    font-size: 12px !important;\n                }\n            }\n            \n            .arrow {\n                border: solid #C7C7C7;\n                border-width: 0 3px 3px 0;\n                display: inline-block;\n                padding: 3px;\n            }\n            \n            .down {\n                transform: rotate(45deg);\n                -webkit-transform: rotate(45deg);\n            }\n            \n            .mobile-consent-message-content-container {\n                transition: all 0.2s ease;\n                position: relative;\n                padding: 0px 10px;\n            }\n            \n            .mobile-consent-message-description-container {\n                flex-basis: 80%;\n                overflow-y: scroll;\n                margin-bottom: auto;\n                max-height: 100%;\n                height: 120px;\n                margin: 0 0 0 10px;\n            }\n            \n            .mobile-consent-message-description {\n                font-size: 0.9rem;\n                color: #000;\n                margin: 0;\n                font-weight: 500;\n            }\n            \n            .mobile-accept-by-type-toggle-container {\n                display: flex;\n                align-items: center;\n            }\n            \n            .is-expanded .mobile-consent-message-content-container {\n                max-height: 1000px;\n                min-height: 200px;\n                overflow: visible;\n                padding: 15px 10px 20px;\n                opacity: 1;\n            }\n            \n            .is-collapsed .mobile-consent-message-content-container {\n                max-height: 0;\n                min-height: 0;\n                overflow: hidden;\n                opacity: 0;\n            }\n            \n            #full-consent-message-container {\n                border-radius: 8px;\n            }\n            \n            .highlight-mobile-type-tab {\n                box-shadow: 0px 8px 15px #0000002c;\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"768px")+") {\n                .modal-content-topic-container {\n                    margin: 0 10px 10px;\n                }\n            }\n            \n            @media only screen and (max-width: "+(d.previewMode?"375px":"599px")+' {\n                .consent-message-topic h3 {\n                    font-size: 13px;\n                }\n                #mobile-consent-message-container h4 {\n                    font-size: 13px;\n                }\n                #mobile-consent-message-container p {\n                    font-size: 13px;\n                }\n                .is-expanded .mobile-consent-message-content-container {\n                    padding: 10px;\n                }\n                .modal-content-topic-container {\n                    margin: 0 0 10px;\n                }\n                .mobile-consent-message-description-container {\n                    margin: 0px;\n                }\n                .mobile-modal-content-footer-container {\n                    margin: 0px;\n                }\n            }\n        </style>\n\n        <div id="consent-noti">\n            <div class="notification-close-btn close-btn"></div>\n            <div class="container">\n                <div id="consent-txt-container">\n                    <div id="consent-txt">\n                        \x3c!-- consent text --\x3e\n                    </div>\n                </div>\n                <div id="consent-noti-btn-container">\n                    <div id="language-btn-container"></div>\n                    <div class="accept-btn">\n                        \x3c!-- button text --\x3e\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="overlay" id="overlay"></div>\n\n        <div class="consent-message-modal" id="modal">\n            <div class="consent-message-topic-container">\n                <div class="consent-message-topic">\n                    <div class="pop-up-main-icon-container">\n                        <svg class="pop-up-main-icon" viewBox="0 0 30 30">\n                            <path fill="currentColor" d="M21,11C21,16.55 17.16,21.74 12,23C6.84,21.74 3,16.55 3,11V5L12,1L21,5V11M12,21C15.75,20 19,15.54 19,11.22V6.3L12,3.18V21Z" />\n                        </svg>\n                        <h2>'+d.consentDetail.style_configuration.consent_detail.popup_main_icon.toUpperCase()+'</h2>\n                    </div>\n                    <div class="consent-detail-title">\n                        <h3>\n                            \x3c!-- consent detail title --\x3e\n                        </h3>\n                    </div>\n                </div>\n                <div class="modal-lang-and-close-btn">\n                    <div id="modal-language-btn-container"></div>\n                    <div id="modal-close-btn" class="modal-close-btn close-btn"></div>\n                </div>\n            </div>\n            <div class="consent-message-container" id="consent-message-container">\n                <div id="consent-detail-type-tab-bar"></div>\n                <div class="consent-message-content-container">\n                    <div class="modal-content-topic-container">\n                        <h4 id="modal-content-topic"></h4>\n                    </div>\n                    <div class="consent-message-description-container" id="modal-content-list"></div>\n                    <div id="modal-content-footer-container">\n                        <div id="full-version-btn-container">\n                            <span class="modal-content-footer-text">\n                                \x3c!-- full version btn --\x3e\n                            </span>\n                        </div>\n                        <div id="accept-by-type-toggle-container">\n                            \x3c!-- Accept btn --\x3e\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="consent-message-container hide-element" id="full-consent-message-container">\n                <div class="consent-message-content-container">\n                    <div class="modal-content-topic-container">\n                        <h4 id="modal-full-content-topic"></h4>\n                    </div>\n                    <div class="consent-message-description-container" id="modal-full-content-list">\n                        \x3c!-- Full Description --\x3e\n                    </div>\n                </div>\n            </div>\n            <div id="mobile-consent-message-container">\n                \x3c!-- Mobile Consent Message Body --\x3e\n            </div>\n            <div id="consent-message-modal-footer-container">\n                <div class="consent-message-btn-container" id="brief-description-consent-message-btn-container">\n                    <button class="consent-message-save-button">Save Setting</button>\n                    <button class="consent-message-accept-button">Accept All</button>\n                </div>\n                <div class="consent-message-btn-container hide-element" id="full-description-consent-message-btn-container">\n                    <button class="consent-message-back-button"><img class="btn-icon-img" src="https://static.thenounproject.com/png/2916775-200.png" alt="go-back-icon" />Back</button>\n                    \x3c!-- <button class="consent-message-save-button"><img class="btn-icon-img" src="https://icon-library.com/images/icon-download-png/icon-download-png-20.jpg" alt="download-icon" />Download</button> --\x3e\n                </div>\n            </div>\n        </div>\n    </div>',d.init=function(n){d.languageButton(),d.generateConsentTextForMobile(),d.displayConsentBar(n),d.generateConsentText(),d.generateConsentDetailTypeTab(),d.generateFullVersionButton(),d.generateFullVersionButtonForMobile(),d.generateAgreeToggleByType(),d.generateAgreeToggleByTypeForMobile(),d.changeLanguage(d.activeLanguage),d.changeTab(0,!1),d.updateConsentAcceptationValue(),d.setButtonEvent(),d.closeModal()},d.setButtonEvent=function(){d.shadowRoot.querySelector("#full-version-btn-container").getElementsByClassName("modal-content-footer-text")[0].onclick=d.showFullDescriptionToggle,d.shadowRoot.querySelector("#full-description-consent-message-btn-container").getElementsByClassName("consent-message-back-button")[0].onclick=d.showFullDescriptionToggle;var i=d.shadowRoot.querySelector("#overlay");if(d.previewMode?i.classList.add("hide-element"):i.onclick=d.closeModal,!d.previewMode){d.shadowRoot.querySelector("#modal-close-btn").onclick=d.closeModal,d.shadowRoot.querySelectorAll(".notification-close-btn")[0].onclick=d.closeNotiBar;var n=d.shadowRoot.querySelector("#brief-description-consent-message-btn-container");n.querySelectorAll(".consent-message-save-button")[0].onclick=d.immediatelySubmit?d.submitConsent:d.closeModal,n.querySelectorAll(".consent-message-accept-button")[0].onclick=function(){return d.acceptAllConsent(d.immediatelySubmit,d.closeModal)},d.shadowRoot.querySelector("#consent-noti-btn-container").querySelectorAll(".accept-btn")[0].onclick=function(){return d.acceptAllConsent(!0)}}},d.expandConsentBox=function(n,e){for(var t=d.shadowRoot.querySelectorAll(".mobile-consent-detail-type-tab"),o=d.shadowRoot.querySelectorAll(".mobile-consent-detail-container"),a=0;a<o.length;a++)a==n?e?(t[a].classList.toggle("highlight-mobile-type-tab"),o[a].classList.toggle("is-expanded"),o[a].classList.toggle("is-collapsed")):(t[a].classList.toggle("highlight-mobile-type-tab"),o[a].classList.add("is-expanded"),o[a].classList.remove("is-collapsed")):(t[a].classList.remove("highlight-mobile-type-tab"),o[a].classList.add("is-collapsed"),o[a].classList.remove("is-expanded"));e&&d.changeTab(n,!0)},d.languageButton=function(){if(!(1>=d.consentDetail.setting.available_languages.length)){var n=d.shadowRoot.querySelector("#language-btn-container"),e=d.shadowRoot.querySelector("#modal-language-btn-container");if(n&&e){var t=0;if(4<d.consentDetail.setting.available_languages.length){var o=document.createElement("select");o.options.selectedIndex=0,o.id="select_lang_bar",o.name="select_lang_bar",o.classList.add("select-language");for(var a=0,s=d.consentDetail.setting.available_languages;a<s.length;a++){var r=s[a];(h=document.createElement("option")).value=r.toLowerCase(),h.text=r.toUpperCase(),o.appendChild(h)}o.onchange=function(){return d.changeLanguage(o.options[o.selectedIndex].value.toLowerCase())},n.appendChild(o);var c=document.createElement("select");c.options.selectedIndex=0,c.id="select_lang_modal",c.name="select_lang_modal",c.classList.add("select-language");for(var p=0,g=d.consentDetail.setting.available_languages;p<g.length;p++){r=g[p];(h=document.createElement("option")).value=r.toLowerCase(),h.text=r.toUpperCase(),c.appendChild(h)}c.onchange=function(){return d.changeLanguage(c.options[c.selectedIndex].value.toLowerCase())},e.appendChild(c)}else if(2<d.consentDetail.setting.available_languages.length){var l=document.createElement("select");l.options.selectedIndex=0,l.id="select_lang_modal",l.name="select_lang_modal",l.classList.add("select-language");for(var u=0,b=d.consentDetail.setting.available_languages;u<b.length;u++){var h;r=b[u];(h=document.createElement("option")).value=r.toLowerCase(),h.text=r.toUpperCase(),l.appendChild(h)}l.onchange=function(){return d.changeLanguage(l.options[l.selectedIndex].value.toLowerCase())},e.appendChild(l);for(var m=function(e){var o=document.createElement("span");if(o.innerHTML=e.toUpperCase(),o.onclick=function(){return d.changeLanguage(e.toLowerCase())},o.classList.add("language-btn"),e==d.consentDetail.setting.default_language&&o.classList.add("active-language-btn"),n.appendChild(o),1<d.consentDetail.setting.available_languages.length-t){var i=document.createElement("span");i.innerHTML="&nbsp;&nbsp;|&nbsp;&nbsp;",n.appendChild(i)}t+=1},f=0,v=d.consentDetail.setting.available_languages;f<v.length;f++)m(r=v[f])}else for(var w=function(o){var i=document.createElement("span");if(i.innerHTML=o.toUpperCase(),i.onclick=function(){return d.changeLanguage(o.toLowerCase())},i.classList.add("language-btn"),o==d.consentDetail.setting.default_language&&i.classList.add("active-language-btn"),n.appendChild(i),1<d.consentDetail.setting.available_languages.length-t){var a=document.createElement("span");a.innerHTML="&nbsp;&nbsp;|&nbsp;&nbsp;",n.appendChild(a)}var s=document.createElement("div");s.classList.add("modal-language-btn"),s.onclick=function(){return d.changeLanguage(o.toLowerCase())},s.innerHTML=o.toUpperCase(),e.appendChild(s),t+=1},y=0,x=d.consentDetail.setting.available_languages;y<x.length;y++)w(r=x[y])}}},d.generateConsentTextForMobile=function(){var n=d.shadowRoot.querySelector("#mobile-consent-message-container");if(n){var e=0,t=function(t){if(d.consentDetail.setting[t].is_enabled){var o=e,i=document.createElement("div");i.classList.add("mobile-consent-detail-container"),i.classList.add("is-collapsed");var a=document.createElement("div");a.classList.add("consent-detail-type-tab"),a.classList.add("mobile-consent-detail-type-tab"),a.onclick=function(){return d.expandConsentBox(o,!0)};var s=document.createElement("div");s.classList.add("active-consent-type-icon-container");var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.classList.add("active-consent-type-icon"),r.setAttributeNS(null,"viewBox","0 0 24 24");var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d","M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"),c.setAttribute("fill","currentColor"),r.appendChild(c),s.appendChild(r);var l=document.createElement("span");l.classList.add("consent-detail-type"),l.classList.add("mobile-consent-detail-type"),l.innerHTML=d.consentDetailType[t].label;var p=document.createElement("div"),g=document.createElement("i");g.classList.add("arrow"),g.classList.add("down"),p.appendChild(g),a.appendChild(s),a.appendChild(l),a.appendChild(p),i.appendChild(a);var h=document.createElement("div");h.classList.add("mobile-consent-message-content-container");var u=document.createElement("div");u.classList.add("modal-content-topic-container");var b=document.createElement("h4");b.classList.add("mobile-modal-content-topic"),b.innerHTML=d.consentDetailType[t].label,u.appendChild(b);var m=document.createElement("div");m.classList.add("mobile-consent-message-description-container");var f=document.createElement("p");f.classList.add("mobile-consent-message-description"),f.innerHTML=d.consentDetail.setting[t].brief_description[d.activeLanguage]||"",m.appendChild(f);var v=document.createElement("div");v.classList.add("mobile-modal-content-footer-container");var w=document.createElement("div");w.classList.add("mobile-full-version-btn-container");var y=document.createElement("div");y.classList.add("mobile-accept-by-type-toggle-container"),v.appendChild(w),v.appendChild(y),h.appendChild(u),h.appendChild(m),h.appendChild(v),i.appendChild(h),n.appendChild(i),e+=1}};for(var o in d.consentDetailType)t(o)}},d.generateMobileConsentBriefDescriptionByLang=function(){var n=d.shadowRoot.querySelectorAll(".mobile-consent-message-description"),e=0;for(var t in d.consentDetailType)d.consentDetail.setting[t].is_enabled&&(n[e].innerHTML=d.consentDetail.setting[t].brief_description[d.activeLanguage]||"",e+=1)},d.displayConsentBar=function(n){var e=d.shadowRoot.querySelector("#consent-noti");n&&e.classList.add("hide-element")},d.generateConsentText=function(){var n=d.shadowRoot.querySelector("#consent-txt"),e=d.shadowRoot.querySelector("#consent-noti-btn-container").querySelectorAll(".accept-btn"),t=d.shadowRoot.querySelectorAll(".consent-detail-title");n.innerHTML=d.consentDetail.setting.display_text[d.activeLanguage],e[0].innerHTML=d.consentDetail.setting.accept_button_text[d.activeLanguage],t[0].getElementsByTagName("h3")[0].innerHTML=d.consentDetail.setting.consent_detail_title[d.activeLanguage];var a=document.createElement("span");a.innerHTML=d.consentDetail.setting.more_info.display_text[d.activeLanguage]||"More Info",a.classList.add("more-info-link");var s=document.createElement("a");d.consentDetail.setting.more_info.is_custom_url_enabled?(s.href=d.consentDetail.setting.more_info.custom_url[d.activeLanguage]||"#",s.target="_blank",s.appendChild(a),n.appendChild(s)):(a.onclick=d.openModal,n.appendChild(a))},d.generateConsentDetailTypeTab=function(){return c(d,void 0,void 0,(function(){var n,e,t,o,a,s=this;return l(this,(function(){for(a in n=this.shadowRoot.querySelector("#consent-detail-type-tab-bar"),e=0,t=function(t){if(o.consentDetail.setting[t].is_enabled){var i=e,a=document.createElement("div");a.classList.add("consent-detail-type-tab"),a.onclick=function(){return s.changeTab(i,!1)};var r=document.createElement("div");r.classList.add("active-consent-type-icon-container");var c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.classList.add("active-consent-type-icon"),c.setAttributeNS(null,"viewBox","0 0 24 24");var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d","M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"),l.setAttribute("fill","currentColor"),c.appendChild(l);var d=document.createElement("span");d.classList.add("consent-detail-type"),d.innerHTML=o.consentDetailType[t].label,r.appendChild(c),a.appendChild(r),a.appendChild(d),n.appendChild(a),e+=1}},o=this,this.consentDetailType)t(a);return[2]}))}))},d.generateFullVersionButton=function(){var n=d.shadowRoot.querySelector("#full-version-btn-container").getElementsByClassName("modal-content-footer-text");n[0].onclick=d.showFullDescriptionToggle;var e=0;for(var t in d.consentDetailType)if(d.consentDetail.setting[t].is_enabled){if(d.selectedConsentDetailTypeIdx==e){d.consentDetail.setting[t].is_full_description_enabled?(n[0].innerHTML="Full Version",n[0].style.display="block"):(n[0].innerHTML="",n[0].style.display="none");break}e+=1}},d.generateFullVersionButtonForMobile=function(){var n=d.shadowRoot.querySelectorAll(".mobile-full-version-btn-container"),e=0;for(var t in d.consentDetailType)if(d.consentDetail.setting[t].is_enabled){var o=document.createElement("span");o.classList.add("modal-content-footer-text"),d.consentDetail.setting[t].is_full_description_enabled?(o.innerHTML="Full Version",o.onclick=d.showFullDescriptionToggle):(o.innerHTML="",o.style.display="none"),n[e].appendChild(o),e+=1}},d.generateAgreeToggleByType=function(){var n=d.shadowRoot.querySelector("#accept-by-type-toggle-container"),e=0,t=function(t){if(d.consentDetail.setting[t].is_enabled){var o=e,i=document.createElement("input");i.type="checkbox",i.id="checkbox_"+t,i.name="test-input-group",i.value=""+t,i.classList.add("accept-by-type-toggle"),i.checked=!0,i.onclick=function(){return d.acceptToggle(o,t)};var a=document.createElement("label");a.classList.add("accept-by-type-switch"),a.style.display=d.selectedConsentDetailTypeIdx==o?"block":"none";var s=document.createElement("span");s.classList.add("slider"),s.classList.add("round"),a.appendChild(i),a.appendChild(s),n.appendChild(a),e+=1}};for(var o in d.consentDetailType)t(o);var a=document.createElement("span");a.innerHTML="Accept",a.classList.add("modal-content-footer-text"),n.appendChild(a)},d.generateAgreeToggleByTypeForMobile=function(){var n=d.shadowRoot.querySelectorAll(".mobile-accept-by-type-toggle-container"),e=0,t=function(t){if(d.consentDetail.setting[t].is_enabled){var o=e,i=document.createElement("input");i.type="checkbox",i.id="mobile_checkbox_"+t,i.name="mobile_"+t,i.value=""+t,i.classList.add("accept-by-type-toggle"),i.checked=!0,i.onclick=function(){return d.acceptToggle(o,t)};var a=document.createElement("label");a.classList.add("accept-by-type-switch");var s=document.createElement("span");s.classList.add("slider"),s.classList.add("round"),a.appendChild(i),a.appendChild(s),n[o].appendChild(a);var r=document.createElement("span");r.innerHTML="Accept",r.classList.add("modal-content-footer-text"),n[o].appendChild(r),d.consentDetailType[t].isAlwaysAccepted&&(n[o].style.display="none"),e+=1}};for(var o in d.consentDetailType)t(o)},d.generateConsentDetailByType=function(){var n=d.shadowRoot.querySelector("#modal-content-list");if(n){for(;n.firstChild;)n.removeChild(n.firstChild);var e=0;for(var t in d.consentDetailType)if(d.consentDetail.setting[t].is_enabled){var o=document.createElement("div");o.classList.add("modal-content"),o.style.display=d.selectedConsentDetailTypeIdx==e?"block":"none";var a=document.createElement("p");a.innerHTML=d.consentDetail.setting[t].brief_description[d.activeLanguage]||"",o.appendChild(a),n.appendChild(o),e+=1}}},d.generateConsentFullDetailByType=function(){var n=d.shadowRoot.querySelector("#modal-full-content-list");if(n){for(;n.firstChild;)n.removeChild(n.firstChild);var e=0;for(var t in d.consentDetailType)if(d.consentDetail.setting[t].is_enabled){var o=document.createElement("div");o.classList.add("full-modal-content"),o.style.display=d.selectedConsentDetailTypeIdx==e?"block":"none";var a=document.createElement("p");a.innerHTML=d.consentDetail.setting[t].full_description[d.activeLanguage]||"",o.appendChild(a),n.appendChild(o),e+=1}}},d.changeLanguage=function(n){var e=d.shadowRoot.querySelectorAll(".language-btn"),t=d.shadowRoot.querySelectorAll(".modal-language-btn");d.activeLanguage=n;for(var o,a=0;a<e.length;a++)o=e[a].innerHTML.trim().toLowerCase(),n.toLowerCase()==o?(e[a].classList.add("active-language-btn"),3>e.length&&(t[a].classList.add("active-modal-language-btn"),t[a].classList.remove("inactive-language-btn"))):(e[a].classList.remove("active-language-btn"),3>e.length&&(t[a].classList.remove("active-modal-language-btn"),t[a].classList.add("inactive-language-btn")));d.generateConsentText(),d.generateConsentDetailByType(),d.generateMobileConsentBriefDescriptionByLang(),d.generateConsentFullDetailByType()},d.changeTab=function(n,e){var t=d.shadowRoot.querySelectorAll(".consent-detail-type-tab"),o=d.shadowRoot.querySelectorAll(".consent-detail-type"),a=d.shadowRoot.querySelectorAll(".modal-content"),s=d.shadowRoot.querySelectorAll(".full-modal-content"),r=d.shadowRoot.querySelector("#modal-content-topic"),c=d.shadowRoot.querySelector("#modal-full-content-topic"),l=d.shadowRoot.querySelector("#accept-by-type-toggle-container"),p=l.getElementsByClassName("accept-by-type-switch");d.selectedConsentDetailTypeIdx=n;for(var g=0;g<a.length;g++)if(g===n){r.innerHTML=o[g].innerHTML,c.innerHTML=o[g].innerHTML,t[g].classList.add("modal-tab-active"),a[g].style.display="block",s[g].style.display="block";var h=0;for(var u in d.consentDetailType)if(d.consentDetail.setting[u].is_enabled){if(h==n){l.style.display=d.consentDetailType[u].isAlwaysAccepted?"none":"flex";break}h+=1}p[g].style.display="block"}else t[g].classList.remove("modal-tab-active"),a[g].style.display="none",s[g].style.display="none",p[g].style.display="none";d.generateFullVersionButton(),e||d.expandConsentBox(n,!1)},d.showFullDescriptionToggle=function(){var n=d.shadowRoot.querySelector("#consent-message-container"),e=d.shadowRoot.querySelector("#full-consent-message-container"),t=d.shadowRoot.querySelector("#brief-description-consent-message-btn-container"),o=d.shadowRoot.querySelector("#full-description-consent-message-btn-container");d.shadowRoot.querySelector("#mobile-consent-message-container").classList.toggle("hide-element"),null==n||n.classList.toggle("hide-element"),null==e||e.classList.toggle("hide-element"),null==t||t.classList.toggle("hide-element"),null==o||o.classList.toggle("hide-element")},d.acceptToggle=function(n,e){var t=d.shadowRoot.querySelector("#consent-detail-type-tab-bar"),o=d.shadowRoot.querySelector("#mobile-consent-message-container"),i=t.querySelectorAll(".active-consent-type-icon"),a=o.querySelectorAll(".active-consent-type-icon");i[n].classList.toggle("hide-element"),a[n].classList.toggle("hide-element"),d.shadowRoot.querySelector("#checkbox_"+e).checked=!i[n].classList.contains("hide-element"),d.shadowRoot.querySelector("#mobile_checkbox_"+e).checked=!a[n].classList.contains("hide-element"),d.callbackTriggering()},d.acceptAllConsent=function(n,e){var t=0,o=d.shadowRoot.querySelector("#consent-detail-type-tab-bar"),a=d.shadowRoot.querySelector("#mobile-consent-message-container"),s=o.querySelectorAll(".active-consent-type-icon"),r=a.querySelectorAll(".active-consent-type-icon");for(var c in d.consentDetailType)if(d.consentDetail.setting[c].is_enabled){var l=t;s[l].classList.remove("hide-element"),r[l].classList.remove("hide-element"),d.shadowRoot.querySelector("#checkbox_"+c).checked=!0,d.shadowRoot.querySelector("#mobile_checkbox_"+c).checked=!0,t+=1}d.callbackTriggering(),n&&d.submitConsent(),e&&e()},d.unAcceptAllConsent=function(){var n=0,e=d.shadowRoot.querySelector("#consent-detail-type-tab-bar"),t=d.shadowRoot.querySelector("#mobile-consent-message-container"),o=e.querySelectorAll(".active-consent-type-icon"),a=t.querySelectorAll(".active-consent-type-icon");for(var s in d.consentDetailType)if(d.consentDetail.setting[s].is_enabled){var r=n;o[r].classList.add("hide-element"),a[r].classList.add("hide-element"),d.shadowRoot.querySelector("#checkbox_"+s).checked=!1,d.shadowRoot.querySelector("#mobile_checkbox_"+s).checked=!1,n+=1}d.callbackTriggering()},d.acceptSpecificConsent=function(n){var e=d.shadowRoot.querySelector("#consent-detail-type-tab-bar"),t=d.shadowRoot.querySelector("#mobile-consent-message-container"),o=e.querySelectorAll(".active-consent-type-icon"),a=t.querySelectorAll(".active-consent-type-icon");for(var s in n){var r=0;for(var c in d.consentDetailType)if(d.consentDetail.setting[c].is_enabled){var l=r;if(s==c){n[s]?(o[l].classList.remove("hide-element"),a[l].classList.remove("hide-element")):(o[l].classList.add("hide-element"),a[l].classList.add("hide-element")),d.shadowRoot.querySelector("#checkbox_"+c).checked=!!n[s],d.shadowRoot.querySelector("#mobile_checkbox_"+c).checked=!!n[s];break}r+=1}}d.callbackTriggering()},d.updateConsentAcceptationValue=function(){for(var n in d.consentDetailType)d.consentDetail.setting[n].is_enabled&&d.assign(d.updatedConsentAcceptation.permission,[n],d.shadowRoot.querySelector("#checkbox_"+n).checked)},d.submitConsent=function(){return c(d,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:if(this.previewMode)return[3,5];this.closeModal(),this.closeNotiBar(),void 0,n.label=1;case 1:return n.trys.push([1,4,,5]),this.submitConsentPermission?[4,this.submitConsentPermission(this.updatedConsentAcceptation)]:[3,3];case 2:return[2,n.sent()];case 3:return[3,5];case 4:throw n.sent();case 5:return[2,null]}}))}))},d.callbackTriggering=function(){var n={consent_message_id:d.updatedConsentAcceptation.consent_message_id,version:d.updatedConsentAcceptation.version,permission:r({},d.updatedConsentAcceptation.permission)};d.updateConsentAcceptationValue();var e={consent_message_id:d.updatedConsentAcceptation.consent_message_id,version:d.updatedConsentAcceptation.version,permission:r({},d.updatedConsentAcceptation.permission)};d.callback&&d.callback(n,e)},d.openModal=function(){d.shadowRoot.querySelector("#overlay").style.display="block",d.shadowRoot.querySelector("#modal").style.display="flex"},d.closeModal=function(){d.shadowRoot.querySelector("#overlay").style.display="none",d.shadowRoot.querySelector("#modal").style.display="none"},d.closeNotiBar=function(){d.shadowRoot.querySelector("#consent-noti").style.display="none"},d.removePopup=function(){d.close()},d.assign=function(n,e,t){for(var o,a=e.length-1,s=0;s<a;++s)(o=e[s])in n||(n[o]={}),n=n[o];n[e[a]]=t},d}return o(e,n),e.prototype.render=function(){n.prototype.render.call(this);var e=document.createElement("template");e.innerHTML=this.template.trim(),this.setDOM(e.content.firstChild),this.init(!1)},e.prototype.renderOnElement=function(e){n.prototype.renderOnElement.call(this,e);var t=document.createElement("template");t.innerHTML=this.template.trim(),this.setDOM(t.content.firstChild),this.init(!0),this.openModal()},e.prototype.renderOnlyPopup=function(e){if(void 0===e&&(e=!1),this.isRendered)this.openModal();else{n.prototype.render.call(this);var t=document.createElement("template");t.innerHTML=this.template.trim(),this.setDOM(t.content.firstChild),this.init(!0),e&&this.openModal()}},e}(Z),pn=function(n,e){var t=this;this.consentDetail=n,this.submitConsentPermission=e,this.consentMessageID="",this.permission={},this.trackingConsentDetailType={termsAndConditions:{nameStr:"Terms & Conditions",key:"terms_and_conditions",allow:!1},privacyOverview:{nameStr:"Privacy Overview",key:"privacy_overview",allow:!1},necessaryCookies:{nameStr:"Necessary Cookies",key:"necessary_cookies",allow:!1},preferencesCookies:{nameStr:"Preferences Cookies",key:"preferences_cookies",allow:!1},analyticsCookies:{nameStr:"Analytics Cookies",key:"analytics_cookies",allow:!1},marketingCookies:{nameStr:"Marketing Cookies",key:"marketing_cookies",allow:!1},socialMediaCookies:{nameStr:"Social Media Cookies",key:"social_media_cookies",allow:!1}},this.contactingTypeDetailOptions={termsAndConditions:{nameStr:"Terms & Conditions",key:"terms_and_conditions",allow:!1},privacyOverview:{nameStr:"Privacy Overview",key:"privacy_overview",allow:!1},email:{nameStr:"Email",key:"email",allow:!1},sms:{nameStr:"SMS",key:"sms",allow:!1},line:{nameStr:"LINE",key:"line",allow:!1},facebookMessenger:{nameStr:"Facebook Messenger",key:"facebook_messenger",allow:!1},pushNotification:{nameStr:"Push Notification",key:"push_notification",allow:!1}},this.consentAcceptation={consent_message_id:this.consentDetail.consent_message_id,version:this.consentDetail.setting.version,permission:{}},this.init=function(){t.consentMessageID=t.consentDetail.consent_message_id;var n="tracking_type"===t.consentDetail.consent_message_type?t.trackingConsentDetailType:t.contactingTypeDetailOptions;for(var e in n)t.consentDetail.setting[n[e].key].is_enabled&&(t.permission[e]=r({},n[e]))},this.setPermission=function(n,e){for(var o in t.permission){var i=t.permission[o];o==n&&t.consentDetail.setting[i.key].is_enabled&&(i.allow=e)}},this.allowAll=function(){for(var n in t.permission){var e=t.permission[n];t.consentDetail.setting[e.key].is_enabled&&(e.allow=!0)}},this.disallowAll=function(){for(var n in t.permission){var e=t.permission[n];t.consentDetail.setting[e.key].is_enabled&&(e.allow=!1)}},this.submitConsent=function(){return c(t,void 0,void 0,(function(){var n,e,t;return l(this,(function(a){switch(a.label){case 0:for(e in n={},this.permission)t=this.permission[e],n[t.key]=t.allow;this.consentAcceptation.permission=n,a.label=1;case 1:return a.trys.push([1,4,,5]),this.submitConsentPermission?[4,this.submitConsentPermission(this.consentAcceptation)]:[3,3];case 2:return[2,a.sent()];case 3:return[3,5];case 4:throw a.sent();case 5:return[2]}}))}))},this.init()},un=function(){function n(n,e){var t,o=this;this.ctx=n,this.service=e,this.NUMBER_OF_MINUTES_TO_CHECK_POPUP_PERMISSION=1,this.NUMBER_OF_HOUR_TO_GET_CONSENT_API=1,this.HAS_LOGGEDIN_KEY="pam_has_loggedin",this.LOGIN_ID_KEY="pam_login_id",this.submitConsentToPublicDatabase=function(n,e){return void 0===e&&(e={}),c(o,void 0,void 0,(function(){var t,o,i,a,s,c,h;return l(this,(function(){if(t=this.ctx.config.publicDBAlias,n.database&&(t=n.database),o=r({_consent_message_id:n.consent_message_id,_version:n.version,_database:t},e),this.hasLoggedIn&&this.loginIdKey&&this.loginId&&(o[this.loginIdKey]=this.loginId),n.permission)for(i=0,a=Object.entries(n.permission);i<a.length;i++)s=a[i],c=s[0],h=s[1],o["_allow_"+c]=h;return[2,this.service.sendEvent("allow_consent","",r({},o),d.PUBLIC)]}))}))},this.submitMultipleConsent=function(n){return c(o,void 0,void 0,(function(){var e,t,s,o,r,c,g,h,u,b,m,a;return l(this,(function(i){switch(i.label){case 0:for(m in e=[],t=D()===d.LOGIN?this.ctx.config.loginDBAlias:this.ctx.config.publicDBAlias,n){for(o in a=n[m],(s={})._consent_message_id=a.consentAcceptation.consent_message_id,s._version=a.consentAcceptation.version,s._database=t,a.permission)r=a.permission[o],s["_allow_"+r.key]=r.allow;c=k("allow_consent",s),e.push(c)}return g={_use_first_contact_id_for_all_events:!0,events:e},[4,this.service.sendBulkEvent(g)];case 1:for(m in h=i.sent(),u={},b=0,n)a=n[m],u[a.consentMessageID]=h[b],b++;return[2,u]}}))}))},this.submitConsent=function(n,e){return void 0===e&&(e={}),c(o,void 0,void 0,(function(){var t,o,i,a,s,c,h;return l(this,(function(){if(t=D()===d.LOGIN?this.ctx.config.loginDBAlias:this.ctx.config.publicDBAlias,n.database&&(t=n.database),o=r({_consent_message_id:n.consent_message_id,_version:n.version,_database:t},e),this.hasLoggedIn&&this.loginIdKey&&this.loginId&&(o[this.loginIdKey]=this.loginId),n.permission)for(i=0,a=Object.entries(n.permission);i<a.length;i++)s=a[i],c=s[0],h=s[1],o["_allow_"+c]=h;return[2,this.service.sendEvent("allow_consent","",r({},o))]}))}))},this.submitConsentAndRefreshStatus=function(n,e){return void 0===e&&(e={}),c(o,void 0,void 0,(function(){var t;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.submitConsent(n,e)];case 1:return t=i.sent(),[4,this.refreshTrackingConsentStatus()];case 2:return i.sent(),[2,t];case 3:throw i.sent();case 4:return[2]}}))}))},this.displayConsentMessageModal=function(n){return c(o,void 0,void 0,(function(){var e,t;return l(this,(function(o){switch(o.label){case 0:return[4,this.service.fetchConsentMessage(n)];case 1:return e=o.sent(),t=new dn(e,this.submitConsent,!0),this.notificationPopups.push(t),t.renderOnlyPopup(),[2]}}))}))},this.createPopup=function(n,e,t,i){return void 0===i&&(i=!1),c(o,void 0,void 0,(function(){var o,a;return l(this,(function(s){switch(s.label){case 0:return[4,this.service.fetchConsentMessage(n)];case 1:return o=s.sent(),a=new dn(o,this.submitConsent,e,t,!1,i),this.notificationPopups.push(a),[2,a]}}))}))},this.loadConsentDetails=function(n){return c(o,void 0,void 0,(function(){var e,t,o;return l(this,(function(i){switch(i.label){case 0:e={},t=0,i.label=1;case 1:return t<n.length?[4,this.service.fetchConsentMessage(n[t])]:[3,4];case 2:o=i.sent(),e[n[t]]=new pn(o,this.submitConsent),i.label=3;case 3:return t++,[3,1];case 4:return[2,e]}}))}))},this.customerConsentDetail=null,this.notificationPopups=[],this._hasLoggedIn=T(null!==(t=window.localStorage.getItem(this.HAS_LOGGEDIN_KEY))&&void 0!==t?t:""),this.loginIdKey=this.ctx.config.loginKey,this.loginId=window.localStorage.getItem(this.LOGIN_ID_KEY),this._isFetching=!1,this._isTrackingConsentRefreshing=!1,this.NUMBER_OF_HOUR_TO_GET_CONSENT_API=void 0===n.config.consentRenewalPeriodDays?720:24*n.config.consentRenewalPeriodDays}return Object.defineProperty(n.prototype,"isFetching",{get:function(){return this._isFetching},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isTrackingConsentRefreshing",{get:function(){return this._isTrackingConsentRefreshing},enumerable:!0,configurable:!0}),n.prototype.start=function(){return c(this,void 0,void 0,(function(){var n,e;return l(this,(function(i){switch(i.label){case 0:if(this._isFetching=!0,!this.ctx.config.trackingConsentMessageId)return console.error("PAM tracking consent message id must be provided"),this._isFetching=!1,[2];i.label=1;case 1:return i.trys.push([1,3,,4]),n=this,[4,this.service.fetchConsentMessage()];case 2:return n.consentMessage=i.sent(),[3,4];case 3:return e=i.sent(),console.error(e),this._isFetching=!1,[2];case 4:if(!E())return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.refreshTrackingConsentStatus()];case 6:return i.sent(),[3,8];case 7:return i.sent(),this._isFetching=!1,[3,8];case 8:return this.ctx.config.disableInstantPopupUI?[3,10]:[4,this.getShowConsentPopup()];case 9:i.sent(),i.label=10;case 10:return this._isFetching=!1,[2]}}))}))},n.prototype.getShowConsentPopup=function(){return c(this,void 0,void 0,(function(){var n=this;return l(this,(function(e){switch(e.label){case 0:return[4,this.setIsShowConsentPopup(!1)];case 1:return e.sent(),setInterval((function(){return n.setIsShowConsentPopup()}),60*this.NUMBER_OF_MINUTES_TO_CHECK_POPUP_PERMISSION*1e3),[2]}}))}))},n.prototype.setIsShowConsentPopup=function(n){var e;return void 0===n&&(n=!1),c(this,void 0,void 0,(function(){var t,o,i,a,r,c,d,s;return l(this,(function(g){switch(g.label){case 0:if(t=this.isLastPopupMoreThanHours(this.NUMBER_OF_HOUR_TO_GET_CONSENT_API),n&&(t=!0),!t)return[3,13];if(!(o=E()))return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.refreshTrackingConsentStatus()];case 2:return g.sent(),[3,4];case 3:return i=g.sent(),console.error(i),[2];case 4:if(a=[],o&&this.customerConsentDetail&&!this.customerConsentDetail.need_consent_review||(s=new dn(this.consentMessage,this.submitConsentAndRefreshStatus,!0),this.notificationPopups.push(s),a.push(s)),!o||!this.ctx.config.contactingConsentMessageIds)return[3,12];r=0,c=this.ctx.config.contactingConsentMessageIds,g.label=5;case 5:if(!(r<c.length))return[3,12];d=c[r],g.label=6;case 6:return g.trys.push([6,10,,11]),[4,this.service.getCustomerConsentDetail(o,d)];case 7:return g.sent().need_consent_review?[4,this.createPopup(d,!0)]:[3,9];case 8:s=g.sent(),a.push(s),g.label=9;case 9:return[3,11];case 10:return g.sent(),[3,11];case 11:return r++,[3,5];case 12:for(;a.length;)null===(e=a.pop())||void 0===e||e.render();window.localStorage.setItem("latest_get_customer_consent",(new Date).toISOString()),g.label=13;case 13:return[2]}}))}))},n.prototype.isLastPopupMoreThanHours=function(n){var e=window.localStorage.getItem("latest_get_customer_consent");return!e||((new Date).getTime()-new Date(e).getTime())/36e5>n},Object.defineProperty(n.prototype,"isTrackingAllowed",{get:function(){var n,e;return null!==(e=null===(n=this.customerConsentDetail)||void 0===n?void 0:n.tracking_permission)&&void 0!==e&&e.preferences_cookies&&!!E()},enumerable:!0,configurable:!0}),n.prototype.refreshTrackingConsentStatus=function(){return c(this,void 0,void 0,(function(){var n,e,t;return l(this,(function(o){switch(o.label){case 0:if(this._isTrackingConsentRefreshing=!0,!(n=E()))throw this._isTrackingConsentRefreshing=!1,new Error("contact_id is not defined");o.label=1;case 1:return o.trys.push([1,3,,4]),e=this,[4,this.service.getCustomerConsentDetail(n,this.ctx.config.trackingConsentMessageId)];case 2:return e.customerConsentDetail=o.sent(),[3,4];case 3:if(t=o.sent(),this.customerConsentDetail=null,"NOT_FOUND"===t.code)return this._isTrackingConsentRefreshing=!1,[2];throw this._isTrackingConsentRefreshing=!1,t;case 4:return this._isTrackingConsentRefreshing=!1,[2]}}))}))},n.prototype.clear=function(){for(var n=0,e=this.notificationPopups;n<e.length;n++)e[n].close();this.notificationPopups=[]},n.prototype.setLoginState=function(n){if(n.hasLoggedIn){if(this.loginId=window.localStorage.getItem(this.LOGIN_ID_KEY),!this.loginIdKey)return void console.error("login_id key must be provided");var e=n.loginId||this.loginId;if(!e)return void console.log("login_id must be provided");this._hasLoggedIn=!0,window.localStorage.setItem(this.HAS_LOGGEDIN_KEY,"true"),window.localStorage.setItem(this.LOGIN_ID_KEY,e),window.localStorage.setItem("db_type",d.LOGIN)}else this._hasLoggedIn=!1,this.loginId=null,window.localStorage.setItem(this.HAS_LOGGEDIN_KEY,"false"),window.localStorage.setItem("db_type",d.PUBLIC)},n.prototype.userLogin=function(n){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(i){switch(i.label){case 0:this.clear(),(t={_database:this.ctx.config.loginDBAlias})[this.loginIdKey]=n,e=t,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this.service.sendEvent("login","",e)];case 2:return i.sent(),this._hasLoggedIn=!0,this.loginId=n,window.localStorage.setItem(this.HAS_LOGGEDIN_KEY,"true"),window.localStorage.setItem(this.LOGIN_ID_KEY,n),window.localStorage.setItem("db_type",d.LOGIN),[4,this.setIsShowConsentPopup(!0)];case 3:return i.sent(),[3,5];case 4:throw i.sent();case 5:return[2]}}))}))},n.prototype.userLogout=function(){var n;return c(this,void 0,void 0,(function(){var e,t,i;return l(this,(function(a){switch(a.label){case 0:if(this.clear(),!this.loginIdKey)throw new Error("login_id key must be provided");if(!this.loginId)throw new Error("login_id must be provided");(i={_database:this.ctx.config.loginDBAlias})[this.loginIdKey]=this.loginId,e=i,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,this.service.sendEvent("logout","",e)];case 2:return a.sent(),this._hasLoggedIn=!1,this.loginId=null,window.localStorage.setItem(this.HAS_LOGGEDIN_KEY,"false"),t=null!==(n=w(this.ctx.config.publicDBAlias+"_contact_id"))&&void 0!==n?n:"",window.localStorage.setItem(this.LOGIN_ID_KEY,t),window.localStorage.setItem("db_type",d.PUBLIC),[4,this.setIsShowConsentPopup(!0)];case 3:return a.sent(),[3,5];case 4:throw a.sent();case 5:return[2]}}))}))},Object.defineProperty(n.prototype,"hasLoggedIn",{get:function(){return this._hasLoggedIn},enumerable:!0,configurable:!0}),n.prototype.getCustomerConsentDetail=function(n){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(i){switch(i.label){case 0:this._isFetching=!0,e={},i.label=1;case 1:return i.trys.push([1,4,5,6]),(t=E())?[4,this.service.getCustomerConsentDetail(t,n)]:[3,3];case 2:return[2,e=i.sent()];case 3:return[3,6];case 4:return i.sent(),[3,6];case 5:return this._isFetching=!1,[7];case 6:return[2,e]}}))}))},n}();!function(n){n.SM="SM",n.MD="MD",n.LG="LG",n.FULL="FULL",n.CUSTOM="CUSTOM"}(on||(on={})),function(n){n.SM="small",n.MD="medium",n.LG="large",n.FULL="full",n.CUSTOM="custom"}(sn||(sn={})),function(n){n.TIME_SPEND="TIME_SPEND",n.PAGE_SCROLLING="PAGE_SCROLLING"}(an||(an={})),function(n){n.BAR="BAR",n.POPUP="POPUP",n.CORNER="CORNER",n.REPLACE="REPLACE",n.PREPEND="PREPEND",n.APPEND="APPEND"}(rn||(rn={}));var hn="300px",gn="500px",mn="700px",fn="1200px",bn="500px",vn=function(){function n(n,e,t,o,i){var a=this;this.ctx=n,this.shadow=e,this.shadowHost=t,this.attentionItem=o,this.onClose=i,this.close=function(){a.shadowHost&&(x(window.document.body,"pam-attention-popup-open"),a.shadowHost.remove())},this._render()}return n.prototype._render=function(){return c(this,void 0,void 0,(function(){var n,e;return l(this,(function(){return(n=window.document.createElement("style")).innerHTML=".pam-attention-popup-open {overflow: hidden !important;}",document.body.insertBefore(n,document.body.firstChild),e=window.document.createElement("section"),this._createElement(e,this.attentionItem),x(window.document.body,"pam-attention-popup-open"),(this.attentionItem.options.allow_backdrop_click||!1)&&(this.shadow.querySelectorAll(".attention-popup-backdrop")[0].onclick=this.onClose),this.shadow.querySelectorAll(".attention-popup-close")[0].onclick=this.onClose,[2]}))}))},n.prototype._createElement=function(e,t){e.innerHTML=function(n){var e=n.html,t=n.width,o=n.backdropOpacity,i=n.isBorderless;return'<div>\n    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"/>\n    <style>\n\n    .popup {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: fixed;\n      z-index: 2147483647; /* Sit on top */\n      left: 0;\n      top: 0;\n      padding: 50px 50px;\n      width: 100%; /* Full width */\n      height: 100%; /* Full height */\n      overflow: auto; /* Enable scroll if needed */\n    }\n\n    .popup-content {\n      z-index: 2;\n      position: relative;\n      background-color: #fefefe;\n      width: '+t+"; /* Could be more or less, depending on screen size */\n      outline: 0;\n      max-width: 92%;\n      overflow-x: hidden;\n      overflow-y: auto;\n      max-height: 100%;\n      -ms-overflow-style: none;  /* IE and Edge */\n    }\n\n    .body {\n      padding: "+(i?0:"20px")+";\n      border-radius: 5px;\n      outline: 0;\n    }\n\n    @media (max-width: 575px) {\n      .popup-content {\n        width: 100%;\n      }\n      .popup {\n        padding: "+(i?0:"50px 15px")+";\n      }\n    }\n\n    .attention-popup-backdrop {\n      overflow: hidden;\n      background-color: rgba(0, 0, 0, "+o/100+');\n      width: 100vw;\n      height: 100vh;\n      position: fixed;\n      left: 0;\n      top: 0;\n      z-index: 1;\n      visibility: visible;\n      transition: opacity 0.2s ease-in;\n    }\n\n    .attention-popup-close {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      background-color: #ffffff;\n      border-radius: 50%;\n      width: 20px;\n      height: 20px;\n      right: 6px;\n      top: 6px;\n      z-index: 2001;\n      margin: 0;\n      padding: 0;\n      cursor: pointer\n    }\n    </style>\n    <div class="popup">\n      <div\n        class="attention-popup-backdrop"\n      ></div>\n      <div class="popup-content">\n        <div class="attention-popup-close">\n          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="8px" height="8px" viewBox="0 0 348.333 348.334" style="enable-background:new 0 0 348.333 348.334;" xml:space="preserve" class="">\n            <g>\n              <path d="M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85   c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563   c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85   l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554   L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#000000"/>\n            </g>\n          </svg>\n        </div>\n        '+e+"\n      </div>\n    </div>\n  </div>"}({html:t.html,width:n._getPopupSize(t.options.size),backdropOpacity:null===t.options.backdrop_opacity?.6:t.options.backdrop_opacity,isBorderless:t.options.is_borderless||!1}),this.shadow.appendChild(e)},n._getPopupSize=function(n){switch(n.type){case sn.SM:case on.SM:return hn;case sn.MD:case on.MD:return gn;case sn.LG:case on.LG:return mn;case sn.FULL:case on.FULL:return fn;case sn.CUSTOM:case on.CUSTOM:return n.width?n.width+"px":bn;default:return bn}},n}(),wn=function(){function n(n,e){this.ctx=n,this.attentionItem=e,this.close=function(){console.log("")},this._render()}return n.prototype._render=function(){return c(this,void 0,void 0,(function(){var n,e,t,o,i;return l(this,(function(){if(this.attentionItem.options.container_id)if(null!=(n=window.document.getElementById(this.attentionItem.options.container_id))){switch(this.attentionItem.options.type){case rn.REPLACE:n.innerHTML=this.attentionItem.html;break;case rn.PREPEND:n.innerHTML=this.attentionItem.html+n.innerHTML;break;case rn.APPEND:n.innerHTML+=this.attentionItem.html;break;default:console.error("Attention's type is not found")}e=window.document.createElement("script"),t=window.document.createTextNode(this.attentionItem.js),e.appendChild(t),n.appendChild(e),o=window.document.createElement("style"),i=this.attentionItem.css,this.attentionItem.custom_css&&(i+=this.attentionItem.custom_css.replace("\n","")),o.innerHTML=i,n.appendChild(o)}else console.error("Web-attention container's ID '"+this.attentionItem.options.container_id+"' is not found!");else console.error("Web-attention container's id is invalid!");return[2]}))}))},n}(),yn=function(){function n(n){var e=this;this.ctx=n,this.isRendered=!1,this.totalSeconds=0,this.firstFetchIntervalPeriod=5,this.fetchIntervalPeriod=30,this._onScroll=function(){var n=e.attention.options.display_after.percent||0;(function(){var n=document.documentElement,e=document.body,t="scrollTop",o="scrollHeight";return n&&e?(n[t]||e[t])/((n[o]||e[o])-n.clientHeight)*100:0})()>=n&&!e.isRendered&&e._show()},this._show=function(){if(e.attention.options.type===rn.POPUP){e.shadowHost=window.document.createElement("div"),e.shadowHost.id="pam_attention";var n=window.document.querySelector("body");n.insertBefore(e.shadowHost,n.childNodes[0]||null),e.shadow=e.shadowHost.attachShadow({mode:"open"});var t=window.document.createElement("style"),o=e.attention.css;if(e.attention.custom_css&&(o+=e.attention.custom_css.replace("\n","")),t.innerHTML=o,e.shadow.appendChild(t),e.content=new vn(e.ctx,e.shadow,e.shadowHost,e.attention,(function(){return e.close()})),e.attention.js){var i=window.document.createElement("script"),a=window.document.createTextNode(e.attention.js);i.appendChild(a),n.appendChild(i)}window.dispatchEvent(new Event("pam-wa:open",{bubbles:!0,composed:!0}))}else{if(e.attention.options.type!==rn.REPLACE&&!rn.PREPEND&&!rn.APPEND)return;e.content=new wn(e.ctx,e.attention)}e.isRendered||(e.isRendered=!0)},this._fetchAndCount=this._fetchAndCount.bind(this)}return n.prototype.render=function(n){var e=Math.max,t=this;if(!this.isRendered){if(this.attention=n,n.options.display_after.type===an.PAGE_SCROLLING)return void window.addEventListener("scroll",this._onScroll,!0);var o=0;if(n.options.display_after.type===an.TIME_SPEND){var i=n.options.display_after.second;if(i)o=1e3*e(i-this.totalSeconds,0);this.isRendered=!0}setTimeout((function(){t._show()}),o)}},n.prototype._createEvent=function(n,e){return new CustomEvent(n,{bubbles:!0,composed:!0,detail:e})},n.prototype.submit=function(n,e){return c(this,void 0,void 0,(function(){var t,o,i,a,s,c,d;return l(this,(function(l){switch(l.label){case 0:t=n.querySelector('button[type="submit"]'),o="",t&&(o=t.getAttribute("data-tags")||""),i=r(r({},function(n){var e={};return n.querySelectorAll("input, select, textarea").forEach((function(n){var t=n.name,o=n.value;t&&(e[t]=o)})),e}(n)),{_campaign:e,tags:o}),a=k("form_submit",i),l.label=1;case 1:return l.trys.push([1,3,4,5]),t.dispatchEvent(this._createEvent("pam-submit:request",{id:t.id,data:a})),[4,f(this.ctx.config.baseApi+"/trackers/events",a)];case 2:return s=l.sent(),t.dispatchEvent(this._createEvent("pam-submit:success",{id:t.id,data:a,response:s})),[3,5];case 3:return c=l.sent(),t.dispatchEvent(this._createEvent("pam-submit:error",{id:t.id,data:a,error:c})),[3,5];case 4:return this.close(),(d=t.getAttribute("data-href"))&&(window.location.href=d),[7];case 5:return[2]}}))}))},n.prototype.tag=function(n,e){return c(this,void 0,void 0,(function(){var t,i,a,s,o;return l(this,(function(r){switch(r.label){case 0:t=n.getAttribute("data-tags")||"",i=k("attention_tag",{_campaign:e,tags:t}),r.label=1;case 1:if(r.trys.push([1,3,4,5]),n.dispatchEvent(this._createEvent("pam-tag:request",{id:n.id,data:i})),!t)throw new Error("tags is empty");return[4,f(this.ctx.config.baseApi+"/trackers/events",i)];case 2:return a=r.sent(),n.dispatchEvent(this._createEvent("pam-tag:success",{id:n.id,data:i,response:a})),[3,5];case 3:return s=r.sent(),n.dispatchEvent(this._createEvent("pam-tag:error",{id:n.id,data:i,error:s})),[3,5];case 4:return(o=n.getAttribute("data-href"))&&(window.location.href=o),[7];case 5:return[2]}}))}))},n.prototype.close=function(){this.attention.options.type===rn.POPUP&&(window.removeEventListener("scroll",this._onScroll,!0),this.content.close(),window.dispatchEvent(new Event("pam-wa:close",{bubbles:!0,composed:!0})))},n.prototype.startFetchInterval=function(){return c(this,void 0,void 0,(function(){var n,e=this;return l(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return n=t.sent(),Object.keys(n).length?(this.render(n),[2]):(setTimeout((function(){e._fetchAndCount(e.firstFetchIntervalPeriod),e.intervalInstance=setInterval((function(){e._fetchAndCount()}),1e3*e.fetchIntervalPeriod)}),1e3*this.firstFetchIntervalPeriod),[2])}}))}))},n.prototype.stopFetchInterval=function(){this.intervalInstance&&clearInterval(this.intervalInstance)},n.prototype._fetchAndCount=function(n){return void 0===n&&(n=this.fetchIntervalPeriod),c(this,void 0,void 0,(function(){var e,t;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.fetch()];case 1:return e=o.sent(),Object.keys(e).length&&(this.render(e),this.stopFetchInterval()),this.totalSeconds+=n,[3,3];case 2:return t=o.sent(),console.error(t),[3,3];case 3:return[2]}}))}))},n.prototype.fetch=function(){var n,e=null!==(n=w("contact_id"))&&void 0!==n?n:"";return f(this.ctx.config.baseApi+"/attention",{page_url:decodeURI(_()),_contact_id:e})},n}(),xn=function(){function n(n){this.ctx=n,this.hasAlreadyInitialzed=!1}return n.prototype.init=function(){return c(this,void 0,void 0,(function(){var n,e;return l(this,(function(t){switch(t.label){case 0:if(this.hasAlreadyInitialzed)throw new Error("facebook ads instance has already initialized");t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.fetchEvents()];case 2:return n=t.sent().events,this.installScript(),this.initAndTrackFacebookEvent(n),this.hasAlreadyInitialzed=!0,[3,4];case 3:return e=t.sent(),console.error(e),[3,4];case 4:return[2]}}))}))},n.prototype.fetchEvents=function(){return v(this.ctx.config.baseApi+"/audiences/events")},n.prototype.installScript=function(){var n=window.document.getElementsByTagName("head");if(!n.length)throw new Error("no head element");var e=window.document.createElement("script");e.innerText="!function(f,b,e,v,n,t,s)\n        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n        n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n        n.queue=[];t=b.createElement(e);t.async=!0;\n        t.src=v;s=b.getElementsByTagName(e)[0];\n        s.parentNode.insertBefore(t,s)}(window, document,'script',\n        'https://connect.facebook.net/en_US/fbevents.js');",n[0].appendChild(e)},n.prototype.initAndTrackFacebookEvent=function(n){Array.from(new Set(n.map((function(n){return n.pixel_id})))).forEach((function(n){window.fbq("init",n)})),n.forEach((function(n){window.fbq("trackSingleCustom",n.pixel_id,"Other",{name:"PamSegment",value:n.segment})}))},n}(),_n=function(){},kn=function(n){function e(e,t,o,i,a,s){void 0===s&&(s="AUTO");var r=n.call(this)||this;return r.name=e,r.formFields=t,r.resolve=o,r.reject=i,r.tags=a,r.specificDatabase=s,r}return o(e,n),e}(_n),Cn=function(n){function e(e,t,o){var i=n.call(this)||this;return i.data=e,i.resolve=t,i.reject=o,i}return o(e,n),e}(_n),En=function(){function n(n,e){this.ctx=n,this.eventQueue=e}return n.prototype.sendBulkEvent=function(n){return c(this,void 0,void 0,(function(){var e,t,o,i,a,s;return l(this,(function(r){switch(r.label){case 0:o=new Promise((function(n,o){e=n,t=o})),i=new Cn(n,e,t),a=new N(L.TrackerBulk,i),this.eventQueue.enqueue(a),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o];case 2:return s=r.sent(),y("contact_id",s[0].contact_id,1825),S(s[0].contact_id,D()),[2,s];case 3:return[2,r.sent()];case 4:return[2]}}))}))},n.prototype.sendEvent=function(n,e,t,o){return void 0===e&&(e=""),void 0===t&&(t={}),void 0===o&&(o="AUTO"),c(this,void 0,void 0,(function(){var i,a,s,r,c,d;return l(this,(function(p){switch(p.label){case 0:s=new Promise((function(n,e){i=n,a=e})),r=new kn(n,t,i,a,e.split(","),o),c=new N(L.TrackerSingle,r),this.eventQueue.enqueue(c),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,s];case 2:return d=p.sent(),y("contact_id",d.contact_id,1825),S(d.contact_id,D()),[2,d];case 3:return[2,p.sent()];case 4:return[2]}}))}))},n.prototype.fetchConsentMessage=function(n){void 0===n&&(n=this.ctx.config.trackingConsentMessageId);var e=this.ctx.config.baseApi+"/consent-message/"+n;return v(e)},n.prototype.getCustomerConsentDetail=function(n,e){return v(this.ctx.config.baseApi+"/contacts/"+n+"/consents/"+e)},n}(),Sn=function(){function n(n){var e=this;this.pusher=null,!n.baseApi&&n.trackerApi&&(n.baseApi=n.trackerApi.replace("/trackers/events","")),void 0===n.enableFacebookTracking&&(n.enableFacebookTracking=!1),void 0===n.disableWebAttention&&(n.disableWebAttention=!1),void 0===n.disableInstantPopupUI&&(n.disableInstantPopupUI=!1),void 0===n.enableSkipConsent&&(n.enableSkipConsent=!1),n.publicDBAlias||(n.publicDBAlias="default",console.warn("publicDBAlias is not defined, use default")),n.loginDBAlias||(n.loginDBAlias="default",console.warn("logigDBAlias is not defined, use default")),n.prefixPathWorkerScript=n.prefixPathWorkerScript||"",this.ctx={config:n},this.eventQueue=new P,this.service=new En(this.ctx,this.eventQueue),this.consentManager=new un(this.ctx,this.service),n.disableWebAttention||(this.attention=new yn(this.ctx)),n.enableSkipConsent||this.consentManager.start(),this.tracker=new H(this.ctx,this.service,this.attention,this.consentManager,this.eventQueue),n.enableFacebookTracking&&window.addEventListener("send_tracking",(function(){e.facebookAds=new xn(e.ctx),e.facebookAds.init()}),{once:!0}),"PushManager"in window&&n.webPushPublicKey&&this.initPusher(),R.init(),R.log("Pam Start",this.getContactID(),r({},n)),setTimeout((function(){window.dispatchEvent(new Event("pam-ready"))}),100)}return n.prototype.trackToPublicDatabase=function(n,e,t){return void 0===t&&(t=[]),c(this,void 0,void 0,(function(){return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.tracker.send(n,t.join(","),e,d.PUBLIC)];case 1:return[2,i.sent()];case 2:return[2,{error:i.sent()+""}];case 3:return[2]}}))}))},n.prototype.track=function(n,e,t){return void 0===t&&(t=[]),c(this,void 0,void 0,(function(){return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.tracker.send(n,t.join(","),e)];case 1:return[2,i.sent()];case 2:return[2,{error:i.sent()+""}];case 3:return[2]}}))}))},n.prototype.send=function(n,e,t){return c(this,void 0,void 0,(function(){return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.tracker.send(n,e,t)];case 1:return[2,i.sent()];case 2:return[2,{error:i.sent()+""}];case 3:return[2]}}))}))},n.prototype.getContactID=function(){return this.tracker.getContactID()},n.prototype.initPusher=function(){var n=this;this.pusher=new ln,this.pusher.init(this.ctx).then((function(e){var t,o,i;e.autoSubscribe?null===(t=n.pusher)||void 0===t||t.subscribe():e.enableWebPushPopup&&(null===(o=n.pusher)||void 0===o?void 0:o.permission)===B.DEFAULT&&(null===(i=n.pusher)||void 0===i||i.render(e))})).catch((function(n){n!==F&&window.console.error(n)}))},n}();e.a=Sn}).call(this,t(61))}}]);