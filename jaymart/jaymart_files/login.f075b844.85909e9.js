(window.webpackJsonp=window.webpackJsonp||[]).push([[69,47],{1013:function(t,e,o){"use strict";o.r(e);var n=o(8),r=o(0),c=o(6),l=o(102),d=o(816),h=o(333),v=o(66),_=o(20),f=o(968),m=o(971),C=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},y=class extends c.a{get currentComponent(){switch(v.a.registerPageType){case _.b.TYPE_A:return{component:f.a};case _.b.TYPE_B:return{component:m.a};default:return{component:f.a}}}},$=y=C([Object(r.a)({components:{RegisterTemplateA:f.a,RegisterTemplateB:m.a}})],y),O=o(5),k=Object(O.a)($,(function(){var t=this.$createElement;return(this._self._c||t)(this.currentComponent.component,{tag:"component"})}),[],!1,null,null,null).exports,j=o(24),w=o(4),S=o(855),L=o(854),I=o(815),D=(o(104),o(1)),B=o(859),P=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},E=class extends c.a{login(){var t={response_type:"code",response_mode:"form_post",client_id:D.a.config.APPLE_CLIENT_ID,state:Math.random().toString(32).substring(2),redirect_uri:"".concat(D.a.config.BASE_URL).concat(D.a.config.APPLE_CALLBACK_URI),scope:"email name"};window.location.href="".concat(D.a.config.APPLE_AUTHORIZE_API,"?").concat(B.stringify(t))}},A=E=P([r.a],E),W=Object(O.a)(A,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"btn btn-apple",attrs:{type:"button"},on:{click:t.login}},[o("img",{staticClass:"icon",attrs:{src:"/social/apple.png"}}),t._v(" "),o("span",{staticClass:"desktop"},[t._v(t._s(t.$t("authen.login_with_apple")))]),t._v(" "),o("span",{staticClass:"mobile"},[t._v(t._s(t.$t("authen.apple")))])])}),[],!1,null,"5c79c20c",null).exports,R=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},F=class extends c.c{get formOptions(){return[{type:j.b.TEXT,props:{testId:"email",label:this.$t("authen.email_label"),placeholder:this.$t("authen.email_placeholder"),name:"email",rules:"required"}},{type:j.b.PASSWORD_WITH_EYE,props:{testId:"password",label:this.$t("authen.password_label"),placeholder:this.$t("authen.password_placeholder"),name:"password",rules:"required"}}]}get redirect(){var t;return(null===(t=this.$app.route.query)||void 0===t?void 0:t.redirect)?decodeURIComponent(this.$app.route.query.redirect):"/"}onFacebookLogged(t){var{authResponse:e}=t;(null==e?void 0:e.accessToken)&&this.$auth.loginWithFacebook(e.accessToken)}mounted(){this.$auth.resetLogin()}onSubmit(data){this.$auth.login(data.email,data.password)}onIsLoginSuccessChanged(t,e){Object(w.o)(t,e)&&this.$router.push({path:this.redirect})}onIsLoginWithFacebookSuccessChanged(t,e){Object(w.o)(t,e)&&this.$router.push({path:this.redirect})}onLoginError(t,e){var o;Object(w.o)(t,e)&&"INVALID_PARAMS"!==this.$auth.loginStatus.errorData.code&&this.$dialogError({title:null===(o=this.$auth.loginStatus.errorData)||void 0===o?void 0:o.message,description:this.$t("dialog.try_again")})}};R([Object(r.f)("$auth.loginStatus.isSuccess")],F.prototype,"onIsLoginSuccessChanged",null),R([Object(r.f)("$auth.loginWithFacebookStatus.isSuccess")],F.prototype,"onIsLoginWithFacebookSuccessChanged",null),R([Object(r.f)("$auth.loginStatus.isError")],F.prototype,"onLoginError",null);var x=F=R([Object(r.a)({components:{LoginWithAppleButton:W,BackStepButton:I.a,LoginWithLineButton:L.a,FacebookLoginButton:S.a}})],F),T=Object(O.a)(x,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-page"},[o("div",{staticClass:"login-container"},[o("BackStepButton"),t._v(" "),o("div",{staticClass:"title-box mobile"},[o("p",{staticClass:"title"},[t._v(t._s(t.$t("authen.welcome")))]),t._v(" "),o("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.$t("authen.please_login"))}})]),t._v(" "),o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"title-box"},[o("p",{staticClass:"title"},[t._v(t._s(t.$t("authen.welcome")))]),t._v(" "),o("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.$t("authen.please_login"))}})]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"form-container"},[o("div",{staticClass:"form-wrapper"},[o("FormWrapper",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.validate(t.onSubmit)}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed;return[o("Field",{attrs:{error:t.$auth.loginStatus.errorData,options:t.formOptions,value:t.form}}),t._v(" "),o("Link",{staticClass:"forget-password",attrs:{to:"/forgot-password"}},[t._v(t._s(t.$t("authen.forgot_password")))]),t._v(" "),o("div",{staticClass:"btn-login-group"},[o("SubmitButton",{attrs:{isDisabled:n,isLoading:t.$auth.loginStatus.isLoading||t.$auth.loginStatus.isSuccess,name:t.$t("authen.login_btn"),className:"btn-login",testId:"submit-login"}})],1)]}}])})],1),t._v(" "),o("div",{staticClass:"or-desktop"},[o("p",[t._v(t._s(t.$t("authen.or")))])]),t._v(" "),o("div",{staticClass:"or-mobile"},[o("p",[t._v(t._s(t.$t("authen.or_login_with")))])]),t._v(" "),o("div",{staticClass:"social-group"},[o("LoginWithLineButton"),t._v(" "),o("FacebookLoginButton",{on:{success:t.onFacebookLogged}}),t._v(" "),o("LoginWithAppleButton")],1)]),t._v(" "),o("div",{staticClass:"new-member"},[o("div",{staticClass:"title-new-member"},[o("p",{staticClass:"title"},[t._v(t._s(t.$t("authen.new_member")))]),t._v(" "),o("p",{staticClass:"desc"},[t._v(t._s(t.$t("authen.sign_up_here")))])]),t._v(" "),o("Link",{staticClass:"btn btn-signup",attrs:{to:"/register"}},[t._v(t._s(t.$t("authen.sign_up")))])],1)])])])],1)])}),[],!1,null,"1171d6a2",null).exports,M=o(972),U=(o(18),o(17),o(16),o(3)),H=o(125),Y=o(46);function N(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var V=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},X=class extends c.c{constructor(){super(...arguments),this.isAgree=!1,this.isShowPrivacy=!1,this.contactingConsentData={},this.popUpCollection={},this.acceptedConsent=[],this.checkingBoxID="",this.consentComplete=!1,this.consentIds="",this.isLoggingIn=!1,this.loginFunction=()=>{}}onClickOuterLoginBtn(t){this.loginFunction=t,this.isShowPrivacy=!0}onClickAgreePrivacy(){var t=this;return Object(n.a)((function*(){yield t.onEmitConsentID(),t.isAgree=!0,t.loginFunction()}))()}closePrivacy(){this.isShowPrivacy=!1}created(){for(var t in Y.b.contactingConsentMessageIds)this.contactingConsentData[Y.b.contactingConsentMessageIds[t]]={initData:{}},this.checkingBoxID=Y.b.contactingConsentMessageIds[t]}mounted(){var t=this;return Object(n.a)((function*(){for(var e in t.$auth.resetLogin(),t.contactingConsentData){var o=yield t.$pam.consentManager.createPopup(e,!1,t.sdkCallback);t.popUpCollection[e]=o,yield o.renderOnlyPopup(),yield o.acceptAllConsent(!1)}}))()}sdkCallback(t,e){var o,n;this.contactingConsentData[e.consent_message_id].submitBody=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(e){Object(U.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},e),(null===(o=e.permission)||void 0===o?void 0:o.terms_and_conditions)&&(null===(n=e.permission)||void 0===n?void 0:n.privacy_overview)&&(this.acceptedConsent.includes(e.consent_message_id)||this.acceptedConsent.push(e.consent_message_id),this.isAgree=!0),this.consentValidate(),this.closePrivacy()}consentValidate(){var t=this;return Object(n.a)((function*(){var e,o;if(t.acceptedConsent.length==Object.keys(t.contactingConsentData).length){var n=0;for(var r in t.contactingConsentData)(null===(e=t.contactingConsentData[r].submitBody.permission)||void 0===e?void 0:e.terms_and_conditions)&&(null===(o=t.contactingConsentData[r].submitBody.permission)||void 0===o?void 0:o.privacy_overview)&&(n+=1);Object.keys(t.contactingConsentData).length==n&&(t.consentComplete=!0)}else t.consentComplete=!1}))()}onEmitConsentID(){var t=this;return Object(n.a)((function*(){var e=[];for(var o in t.contactingConsentData){var n=yield t.popUpCollection[o].submitConsent();e.push(n.consent_id)}t.consentIds=e.map(t=>t).join(","),window.sessionStorage.setItem("consent_ids",t.consentIds)}))()}get formOptions(){return[{type:j.b.TEXT,props:{testId:"email",label:this.$t("authen.email_or_Mobile_label"),placeholder:this.$t("authen.enter_email_or_mobile"),name:"email",rules:"required:login_page_enter_contact"}},{type:j.b.PASSWORD_WITH_EYE,props:{testId:"password",label:this.$t("authen.password_label"),placeholder:this.$t("authen.enter_password"),name:"password",rules:"required:login_page_enter_pass"}}]}get redirect(){var t;return(null===(t=this.$app.route.query)||void 0===t?void 0:t.redirect)?decodeURIComponent(this.$app.route.query.redirect):"/"}onFacebookLogged(t){var{authResponse:e}=t;(null==e?void 0:e.accessToken)&&this.$auth.loginWithFacebook(e.accessToken,this.consentIds)}onSubmit(data){this.isLoggingIn=!0,this.$auth.login(data.email,data.password)}popupConsentModal(t){this.popUpCollection[t].renderOnlyPopup()}onIsLoginSuccessChanged(t,e){Object(w.o)(t,e)&&this.$router.push({path:this.redirect})}onIsLoginWithFacebookSuccessChanged(t,e){Object(w.o)(t,e)&&this.$router.push({path:this.redirect})}onIsLoginWithFacebookErrorChanged(t,e){var o;Object(w.o)(t,e)&&this.$dialogError({title:null===(o=this.$auth.loginStatus.errorData)||void 0===o?void 0:o.message,description:this.$t("dialog.try_again")})}onIsLoginWithLineIsSuccessChanged(t,e){Object(w.o)(t,e)&&this.$router.push({path:this.redirect})}onIsLoginWithLineIsErrorChanged(t,e){var o;Object(w.o)(t,e)&&this.$dialogError({title:null===(o=this.$auth.loginStatus.errorData)||void 0===o?void 0:o.message,description:this.$t("dialog.try_again")})}onLoginError(t,e){var o,n;Object(w.o)(t,e)&&("Username or password incorrect"===(null===(o=this.$auth.loginStatus.errorData)||void 0===o?void 0:o.message)?this.$dialogError({title:this.$t("dialog.login_incorrect"),description:this.$t("dialog.try_again")}).catch(()=>{this.isLoggingIn=!1}):this.$dialogError({title:null===(n=this.$auth.loginStatus.errorData)||void 0===n?void 0:n.message,description:this.$t("dialog.try_again")}).catch(()=>{this.isLoggingIn=!1}))}onIsAgree(t){var e=this;return Object(n.a)((function*(){e.isAgree?yield e.popUpCollection[e.checkingBoxID].acceptAllConsent():(yield e.popUpCollection[e.checkingBoxID].unAcceptAllConsent(),e.consentComplete=!1)}))()}};V([Object(r.f)("$auth.loginStatus.isSuccess")],X.prototype,"onIsLoginSuccessChanged",null),V([Object(r.f)("$auth.loginWithFacebookStatus.isSuccess")],X.prototype,"onIsLoginWithFacebookSuccessChanged",null),V([Object(r.f)("$auth.loginWithFacebookStatus.isError")],X.prototype,"onIsLoginWithFacebookErrorChanged",null),V([Object(r.f)("$auth.loginWithLineStatus.isSuccess")],X.prototype,"onIsLoginWithLineIsSuccessChanged",null),V([Object(r.f)("$auth.loginWithLineStatus.isError")],X.prototype,"onIsLoginWithLineIsErrorChanged",null),V([Object(r.f)("$auth.loginStatus.isError")],X.prototype,"onLoginError",null),V([Object(r.f)("isAgree")],X.prototype,"onIsAgree",null);var z=X=V([Object(r.a)({components:{LoginWithLineButton:L.a,FacebookLoginButton:S.a,ConfirmButton:H.a}})],X),J=Object(O.a)(z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-page"},[o("Modal",{attrs:{size:"small",isScroll:!0,isHideHeader:!0,isCentered:!0,contentClassName:"modal-policy-container"},model:{value:t.isShowPrivacy,callback:function(e){t.isShowPrivacy=e},expression:"isShowPrivacy"}},[o("div",{staticClass:"modal-policy-flex"},[o("h2",{staticClass:"modal-policy-header"},[t._v("\n        "+t._s(t.$t("authen.regiter_title_privacy_and_term"))+"\n      ")])]),t._v(" "),o("div",{staticClass:"modal-policy-page-builder"},[o("span",[t._v("\n        "+t._s(t.$t("authen.regiter_label_privacy_and_term"))+"\n        "),o("b",{staticClass:"modal-label-privacy"},t._l(t.contactingConsentData,(function(e,n){return o("u",{key:n,on:{click:function(e){return t.popupConsentModal(n)}}},[t._v(t._s(t.$t("authen.regiter_label_click_privacy_and_term")))])})),0)])]),t._v(" "),o("div",{staticClass:"modal-btn-group"},[o("button",{staticClass:"btn-discard",on:{click:function(e){return t.closePrivacy()}}},[t._v("\n        "+t._s(t.$t("authen.forgot_reset_cancel_btn"))+"\n      ")]),t._v(" "),o("button",{staticClass:"btn-agree",on:{click:function(e){return t.onClickAgreePrivacy()}}},[t._v("\n        "+t._s(t.$t("authen.agree_policy"))+"\n      ")])])]),t._v(" "),o("div",{staticClass:"login-container"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"login-flex"},[o("div",{staticClass:"title-box"},[o("h3",[t._v(t._s(t.$t("authen.login_header_title")))])]),t._v(" "),o("div",{staticClass:"login-row"},[o("div",{staticClass:"form-container"},[o("div",{staticClass:"form-wrapper"},[o("FormWrapper",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.validate(t.onSubmit)}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed;return[o("Field",{attrs:{error:t.$auth.loginStatus.errorData,options:t.formOptions,value:t.form}}),t._v(" "),o("div",{staticClass:"forgot-pass-group",staticStyle:{"text-align":"end"}},[o("Link",{staticClass:"forgot-pass-label",attrs:{to:"/forgot-password"}},[t._v(t._s(t.$t("authen.login_forgot_pass_label")))])],1),t._v(" "),o("div",{staticClass:"btn-login-group"},[o("ConfirmButton",{attrs:{isDisabled:n||t.$auth.loginStatus.isLoading||t.isLoggingIn,isLoading:t.$auth.loginStatus.isLoading||t.$auth.loginStatus.isSuccess,name:t.$t("authen.login_btn"),className:"btn-login",testId:"submit-login"}})],1)]}}])})],1),t._v(" "),o("div",{staticClass:"or-desktop"},[o("hr",{staticClass:"hr-line-left"}),t._v(" "),o("p",{staticClass:"or-label"},[t._v(t._s(t.$t("authen.or_label")))]),t._v(" "),o("hr",{staticClass:"hr-line-right"})]),t._v(" "),o("div",{staticClass:"social-group"},[o("LoginWithLineButton",{attrs:{consentComplete:t.consentComplete,redirectLink:t.redirect,label:t.$t("authen.login_with_line")},on:{onClickLineBtn:t.onClickOuterLoginBtn}}),t._v(" "),o("FacebookLoginButton",{attrs:{consentComplete:t.consentComplete,label:t.$t("authen.login_with_facebook")},on:{onClickFBBtn:t.onClickOuterLoginBtn,success:t.onFacebookLogged}})],1)])])]),t._v(" "),o("div",{staticClass:"new-member-flex"},[o("div",{staticClass:"title-new-member"},[o("h3",[t._v(t._s(t.$t("authen.new_member_header_title")))])]),t._v(" "),o("Link",{staticClass:"signup-label",attrs:{to:"/register?redirect="+t.redirect}},[t._v(t._s(t.$t("authen.sign_up_here")))])],1)])])])],1)}),[],!1,null,"0f5c4190",null).exports,K=o(360);function Z(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var G=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},Q=class extends c.c{constructor(){super(...arguments),this.isAgree=!1,this.isShowPrivacy=!1,this.contactingConsentData={},this.popUpCollection={},this.acceptedConsent=[],this.checkingBoxID="",this.consentComplete=!1,this.consentIds=""}onClickLineBtn(){this.isShowPrivacy=!0}onClickFBBtn(){this.isShowPrivacy=!0}onClickAgreePrivacy(){this.isAgree=!0}closePrivacy(){this.isShowPrivacy=!1}created(){for(var t in Y.b.contactingConsentMessageIds)this.contactingConsentData[Y.b.contactingConsentMessageIds[t]]={initData:{}},this.checkingBoxID=Y.b.contactingConsentMessageIds[t]}mounted(){var t=this;return Object(n.a)((function*(){t.$auth.resetLogin();var e=function*(e){yield t.$pam.consentManager.createPopup(e,!1,t.sdkCallback).then(o=>{t.popUpCollection[e]=o}),yield t.popUpCollection[e].renderOnlyPopup(),yield t.popUpCollection[e].unAcceptAllConsent()};for(var o in t.contactingConsentData)yield*e(o)}))()}sdkCallback(t,e){var o,n;this.contactingConsentData[e.consent_message_id].submitBody=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Z(Object(source),!0).forEach((function(e){Object(U.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Z(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},e),(null===(o=e.permission)||void 0===o?void 0:o.terms_and_conditions)&&(null===(n=e.permission)||void 0===n?void 0:n.privacy_overview)&&(this.acceptedConsent.includes(e.consent_message_id)||this.acceptedConsent.push(e.consent_message_id),this.isAgree=!0),this.consentValidate(),this.closePrivacy()}consentValidate(){var t=this;return Object(n.a)((function*(){var e,o;if(t.acceptedConsent.length==Object.keys(t.contactingConsentData).length){var n=0;for(var r in t.contactingConsentData)(null===(e=t.contactingConsentData[r].submitBody.permission)||void 0===e?void 0:e.terms_and_conditions)&&(null===(o=t.contactingConsentData[r].submitBody.permission)||void 0===o?void 0:o.privacy_overview)&&(n+=1);Object.keys(t.contactingConsentData).length==n&&(yield t.onEmitConsentID(),t.consentComplete=!0)}else t.consentComplete=!1}))()}onEmitConsentID(){var t=this;return Object(n.a)((function*(){var e=[];for(var o in t.contactingConsentData){var n=yield t.popUpCollection[o].submitConsent();e.push(n.consent_id)}t.consentIds=e.map(t=>t).join(","),window.sessionStorage.setItem("consent_ids",t.consentIds)}))()}get formOptions(){return[{type:j.b.TEXT,props:{label:this.$t("authen.mobile"),placeholder:this.$t("authen.enter_mobile"),name:"mobile",rules:"required:login_page_enter_contact|numeric|min:10|thai-mobile"}},{type:j.b.PASSWORD_WITH_EYE,props:{testId:"password",label:this.$t("authen.password_label"),placeholder:this.$t("authen.enter_password"),name:"password",rules:"required:login_page_enter_pass"}}]}get redirect(){var t;return(null===(t=this.$app.route.query)||void 0===t?void 0:t.redirect)?decodeURIComponent(this.$app.route.query.redirect):"/"}onFacebookLogged(t){var{authResponse:e}=t;(null==e?void 0:e.accessToken)&&this.$auth.loginWithFacebook(e.accessToken,this.consentIds)}onSubmit(data){this.$auth.login(data.mobile,data.password)}onClickBack(){this.$router.push({path:this.redirect})}onIsLoginSuccessChanged(t,e){Object(w.o)(t,e)&&this.$router.push({path:this.redirect})}onIsLoginWithFacebookSuccessChanged(t,e){Object(w.o)(t,e)&&this.$router.push({path:this.redirect})}onIsLoginWithFacebookErrorChanged(t,e){var o;Object(w.o)(t,e)&&this.$dialogError({title:null===(o=this.$auth.loginStatus.errorData)||void 0===o?void 0:o.message,description:this.$t("dialog.try_again")})}onIsLoginWithLineIsSuccessChanged(t,e){Object(w.o)(t,e)&&this.$router.push({path:this.redirect})}onIsLoginWithLineIsErrorChanged(t,e){var o;Object(w.o)(t,e)&&this.$dialogError({title:null===(o=this.$auth.loginStatus.errorData)||void 0===o?void 0:o.message,description:this.$t("dialog.try_again")})}onLoginError(t,e){var o,n;Object(w.o)(t,e)&&("Username or password incorrect"===(null===(o=this.$auth.loginStatus.errorData)||void 0===o?void 0:o.message)?this.$dialogError({title:this.$t("dialog.login_incorrect"),description:this.$t("dialog.try_again")}):this.$dialogError({title:null===(n=this.$auth.loginStatus.errorData)||void 0===n?void 0:n.message,description:this.$t("dialog.try_again")}))}onIsAgree(t){var e=this;return Object(n.a)((function*(){e.isAgree?yield e.popUpCollection[e.checkingBoxID].acceptAllConsent():(yield e.popUpCollection[e.checkingBoxID].unAcceptAllConsent(),e.consentComplete=!1)}))()}};G([Object(r.f)("$auth.loginStatus.isSuccess")],Q.prototype,"onIsLoginSuccessChanged",null),G([Object(r.f)("$auth.loginWithFacebookStatus.isSuccess")],Q.prototype,"onIsLoginWithFacebookSuccessChanged",null),G([Object(r.f)("$auth.loginWithFacebookStatus.isError")],Q.prototype,"onIsLoginWithFacebookErrorChanged",null),G([Object(r.f)("$auth.loginWithLineStatus.isSuccess")],Q.prototype,"onIsLoginWithLineIsSuccessChanged",null),G([Object(r.f)("$auth.loginWithLineStatus.isError")],Q.prototype,"onIsLoginWithLineIsErrorChanged",null),G([Object(r.f)("$auth.loginStatus.isError")],Q.prototype,"onLoginError",null),G([Object(r.f)("isAgree")],Q.prototype,"onIsAgree",null);var tt=Q=G([Object(r.a)({components:{LoginWithLineButton:L.a,FacebookLoginButton:S.a,ConfirmButton:H.a,MobileHeaderBar:K.a}})],Q),et=Object(O.a)(tt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-page"},[o("Modal",{attrs:{size:"small",isScroll:!0,isHideHeader:!0,isCentered:!0,contentClassName:"modal-policy-container"},model:{value:t.isShowPrivacy,callback:function(e){t.isShowPrivacy=e},expression:"isShowPrivacy"}},[o("div",{staticClass:"modal-policy-flex"},[o("h2",{staticClass:"modal-policy-header"},[t._v("\n        "+t._s(t.$t("authen.regiter_title_privacy_and_term"))+"\n      ")])]),t._v(" "),o("div",{staticClass:"modal-policy-page-builder"},[o("span",[t._v("\n        "+t._s(t.$t("authen.regiter_label_privacy_and_term"))+"\n        "),o("b",{staticClass:"modal-label-privacy"},t._l(t.contactingConsentData,(function(e,n){return o("u",{key:n,on:{click:function(e){return t.popupConsentModal(n)}}},[t._v(t._s(t.$t("authen.regiter_label_click_privacy_and_term")))])})),0)])]),t._v(" "),o("div",{staticClass:"modal-btn-group"},[o("button",{staticClass:"btn-discard",on:{click:function(e){return t.closePrivacy()}}},[t._v("\n        "+t._s(t.$t("authen.forgot_reset_cancel_btn"))+"\n      ")]),t._v(" "),o("button",{staticClass:"btn-agree",on:{click:function(e){return t.onClickAgreePrivacy()}}},[t._v("\n        "+t._s(t.$t("authen.agree_policy"))+"\n      ")])])]),t._v(" "),o("div",{staticClass:"login-container"},[o("MobileHeaderBar",{attrs:{header:t.$t("authen.login_header_title"),showBackButton:!0},on:{onClickBack:t.onClickBack}}),t._v(" "),o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"login-flex"},[o("div",{staticClass:"title-box"},[o("h3",[t._v(t._s(t.$t("authen.login_header_title")))])]),t._v(" "),o("div",{staticClass:"login-row"},[o("div",{staticClass:"form-container"},[o("div",{staticClass:"form-wrapper"},[o("FormWrapper",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.validate(t.onSubmit)}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed;return[o("Field",{attrs:{error:t.$auth.loginStatus.errorData,options:t.formOptions,value:t.form}}),t._v(" "),o("div",{staticClass:"forgot-pass-group",staticStyle:{"text-align":"end"}},[o("Link",{staticClass:"forgot-pass-label",attrs:{to:"/forgot-password"}},[t._v(t._s(t.$t("authen.login_forgot_pass_label")))])],1),t._v(" "),o("div",{staticClass:"btn-login-group"},[o("ConfirmButton",{attrs:{isDisabled:n,isLoading:t.$auth.loginStatus.isLoading||t.$auth.loginStatus.isSuccess,name:t.$t("authen.login_btn"),className:"btn-login",testId:"submit-login"}})],1)]}}])})],1)])])]),t._v(" "),o("div",{staticClass:"new-member-flex"},[o("div",{staticClass:"title-new-member"},[o("h3",[t._v(t._s(t.$t("authen.new_member_header_title")))])]),t._v(" "),o("Link",{staticClass:"signup-label",attrs:{to:"/register?redirect="+t.redirect}},[t._v(t._s(t.$t("authen.sign_up_here")))])],1)])])],1)],1)}),[],!1,null,"4f0a15f8",null).exports,ot=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},nt=class extends c.b{get currentComponent(){switch(v.a.loginPageType){case _.b.TYPE_A:return{component:T};case _.b.TYPE_B:return{component:M.default};case _.b.TYPE_C:return{component:J};case _.b.TYPE_D:return{component:et};default:return{component:T}}}},st=nt=ot([Object(r.a)({scrollToTop:!0,components:{Register:k,Login:T},layout:h.a.default,middleware:d.a.notAuth,fetch:t=>Object(n.a)((function*(){yield t.app.$app.updateDocMeta({title:l.a.menu().login.name})}))()})],nt),it=Object(O.a)(st,(function(){var t=this.$createElement;return(this._self._c||t)(this.currentComponent.component,{tag:"component"})}),[],!1,null,null,null);e.default=it.exports},816:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var n={auth:"auth",guestAuth:"guestAuth",authLock:"authLock",notAuth:"notAuth",reAuth:"reAuth",fetchMe:"fetchMe"}},972:function(t,e,o){"use strict";o.r(e);var n=o(6),r=o(0),c=o(8),l=o(24),d=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},h=class extends n.c{constructor(){super(...arguments),this.form_name="login_with_username",this.consentComplete=!1}get formLoginFields(){return[{type:l.b.TEXT,props:{placeholder:this.$t("authen.email_placeholder"),name:"username",rules:"required:email_required|email:email_format"}},{type:l.b.PASSWORD_WITH_EYE,props:{placeholder:this.$t("authen.password_placeholder"),name:"password",rules:"required:password_required",blackEyeEnabledVersion:!0}}]}get headerTitle(){var t;return(null===(t=this.keywords)||void 0===t?void 0:t.header)||this.$t("authen.member")}get headerDescription(){var t;return(null===(t=this.keywords)||void 0===t?void 0:t.header_desc)||this.$t("authen.member_desc")}get loginHeader(){var t;return(null===(t=this.keywords)||void 0===t?void 0:t.login_header)||this.$t("authen.old_member")}get registerHeader(){var t;return(null===(t=this.keywords)||void 0===t?void 0:t.register_header)||this.$t("authen.new_member")}get registerMerchantDescription(){var t;return(null===(t=this.keywords)||void 0===t?void 0:t.register_desc)||this.$t("authen.merchant_member")}onFacebookLogged(t){var e=this;return Object(c.a)((function*(){var{authResponse:o}=t;(null==o?void 0:o.accessToken)&&(yield e.$auth.loginWithFacebook(o.accessToken),e.$router.push({path:"/"}))}))()}};d([Object(r.d)("form_name")],h.prototype,"form_name",void 0),d([Object(r.c)(Object)],h.prototype,"keywords",void 0),d([Object(r.c)()],h.prototype,"status",void 0);var v=h=d([Object(r.a)({components:{}})],h),_=o(5),f=Object(_.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"authen-container"},[o("div",{staticClass:"header-wrapper"},[o("div",{staticClass:"header-container"},[o("span",{staticClass:"header-text"},[t._v(t._s(t.headerTitle))]),t._v(" "),o("span",{staticClass:"sub-header-text"},[t._v(t._s(t.headerDescription))])])]),t._v(" "),o("div",{staticClass:"form-wrapper"},[o("div",{staticClass:"login-form-wrapper"},[o("div",{staticClass:"header"},[o("span",[t._v(t._s(t.loginHeader))])]),t._v(" "),o("FormWrapper",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.validate(t.emitSubmit)}},scopedSlots:t._u([{key:"default",fn:function(e){e.failed;return[o("div",{staticClass:"form-container"},[o("Field",{attrs:{options:t.formLoginFields},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}),t._v(" "),o("Link",{staticClass:"forget-password",attrs:{to:"/forgot-password"}},[o("span",[t._v(t._s(t.$t("authen.forgot_password")))])]),t._v(" "),o("CurveButton",{attrs:{isLoading:t.status.isLoading,title:t.$t("authen.login_button"),width:"145px"}})],1)]}}])})],1),t._v(" "),o("div",{staticClass:"register-form-wrapper"},[o("div",{staticClass:"header"},[o("span",[t._v(t._s(t.registerHeader))])]),t._v(" "),o("div",{staticClass:"form-container-b2b"},[t._m(0),t._v(" "),o("div",{staticClass:"text"},[o("span",[t._v(t._s(t.registerMerchantDescription))])]),t._v(" "),o("CurveButton",{staticStyle:{},attrs:{title:t.$t("authen.sign_up"),width:"145px"},on:{click:function(e){return t.$emit("registerB2B")}}})],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("img",{attrs:{src:"/icon/house-care.svg",alt:"house-care"}})])}],!1,null,"03cc080f",null).exports,m=o(4),C=o(77),y=function(t,e,o,desc){var n,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,o):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(r<3?n(c):r>3?n(e,o,c):n(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},$=class extends n.a{get cartRepo(){return new C.a(this)}get loginB2BStatus(){return this.$auth.loginB2BStatus}onLogin(data){this.$auth.loginB2B(data.username,data.password)}onRegisterB2B(){this.$router.push({path:this.pathWithLocale("/register")})}onLoginSuccess(t,e){Object(m.o)(t,e)&&(this.$router.push({path:this.pathWithLocale("/")}),this.$auth.fetchMe().then(()=>{this.cartRepo.fetchCart()}))}onLoginError(t,e){var o;Object(m.o)(t,e)&&this.$dialogError({title:this.$t("dialog.login"),description:null===(o=this.$auth.loginB2BStatus.errorData)||void 0===o?void 0:o.message})}};y([Object(r.c)(Object)],$.prototype,"keywords",void 0),y([Object(r.f)("$auth.loginB2BStatus.isSuccess")],$.prototype,"onLoginSuccess",null),y([Object(r.f)("$auth.loginB2BStatus.isError")],$.prototype,"onLoginError",null);var O=$=y([Object(r.a)({components:{RegisterEmailTemplateB:f}})],$),k=Object(_.a)(O,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"register-page"},[e("div",{staticClass:"type-b"},[e("RegisterEmailTemplateB",{attrs:{keywords:this.keywords,status:this.loginB2BStatus},on:{submit:this.onLogin,registerB2B:this.onRegisterB2B}})],1)])}),[],!1,null,"f0ef0162",null);e.default=k.exports}}]);