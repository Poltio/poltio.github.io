(()=>{"use strict";let e=window.PluginBaseClass,t=document.querySelectorAll("[data-dropdown]");function n(){null!==this.offsetParent?this.style.display="none":(this.style.display="block",this.querySelector("input").focus())}function d(e,t,n){let d=this.dataset.value,l=this.textContent;e.textContent=l,t.value=d,n.style.display="none",n.querySelector("input").value="",n.querySelectorAll("div").forEach(e=>{e.classList.contains("selected")&&e.classList.remove("selected"),null===e.offsetParent&&(e.style.display="block")}),this.classList.add("selected")}function l(e,t){let n=t.querySelectorAll(".dropdown__menu_items div"),d=this.value.toLowerCase(),l=e.filter(e=>e.textContent.toLowerCase().includes(d)).map(t=>e.indexOf(t));e.forEach(t=>{l.includes(e.indexOf(t))?null===n[e.indexOf(t)].offsetParent&&(n[e.indexOf(t)].style.display="block"):n[e.indexOf(t)].style.display="none"})}function s(e,t){null===t.target.closest(".dropdown")&&t.target!==this&&null!==e.offsetParent&&(e.style.display="none")}document.querySelector("form-product-id"),t.length>0&&t.forEach(e=>{(function(e){let t=e.querySelectorAll("option"),i=Array.prototype.slice.call(t),o=document.createElement("div");o.classList.add("dropdown"),e.insertAdjacentElement("afterend",o);let a=document.createElement("div");a.classList.add("dropdown__selected"),a.classList.add("form-control"),a.textContent=i[0].textContent,o.appendChild(a);let r=document.createElement("div");r.classList.add("dropdown__menu"),o.appendChild(r),a.addEventListener("click",n.bind(r));let c=document.createElement("input");c.placeholder="Search...",c.type="text",c.classList.add("dropdown__menu_search"),c.classList.add("form-control"),r.appendChild(c);let u=document.createElement("div");u.classList.add("dropdown__menu_items"),r.appendChild(u),i.forEach(t=>{let n=document.createElement("div");n.classList.add("dropdown__menu_item"),n.dataset.value=t.value,n.textContent=t.textContent,u.appendChild(n),n.addEventListener("click",d.bind(n,a,e,r))}),u.querySelector("div").classList.add("selected"),c.addEventListener("input",l.bind(c,i,r)),document.addEventListener("click",s.bind(o,r)),e.style.display="none"})(e)}),window.PluginManager.register("ProductRegistration",class extends e{init(){let e=null,t=parseInt(this.el.dataset.productregistrationPluginOptions,10);t&&((e=new Date).setTime(e.getTime()-864e5*t),document.getElementById("prodreg-purchasedate").setAttribute("min",e.toISOString().substring(0,10))),document.getElementById("prodreg-purchasedate").setAttribute("max",new Date().toISOString().substring(0,10))}},"[data-productregistration-plugin]")})();