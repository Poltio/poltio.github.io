"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4860],{53042:(e,l,t)=>{t.d(l,{ye:()=>r,LP:()=>o,bg:()=>d,kJ:()=>s});var i=t(94180),n=t(56019),a=t(84713);function r(e){return function(e){let l;l=!e||e<2;return l}(e[i.LG.PAGE])}function o(){const e=(0,a.bO)(window.location.hash);if(e&&e.sortId){var l;const t=e.sortId%i.OB,n=(null===(l=document.getElementById("productLink"+t))||void 0===l?void 0:l.getBoundingClientRect()).top,a=setTimeout((()=>{window.scrollTo(0,n),clearTimeout(a)}),300)}(0,a.bU)()}function s(e,l,t,r,o,s){let d;const u=t-1!=1?t-1:null;return r&&t||s&&t?d=e+(0,a.T9)({...l,[i.LG.PAGE]:u}):o&&t&&(d=e+n.g+(0,a.ji)((0,a.T9)({...l,[i.LG.QUERY]:null,[i.LG.PAGE]:u},{withPrefix:!1,encode:!1}),l)),d}function d(e,l,t,r,o,s){let d;return r&&t||s&&t?d=e+(0,a.T9)({...l,[i.LG.PAGE]:t+1}):o&&t&&(d=e+n.g+(0,a.ji)((0,a.T9)({...l,[i.LG.QUERY]:null,[i.LG.PAGE]:t+1},{withPrefix:!1,encode:!1}),l)),d}},42356:(e,l,t)=>{t.d(l,{e:()=>i,y:()=>n});const i="hbus:ready",n={HTTP:"HTTP",NAVIGATION:{SENDBEACON:"navigation.sendBeacon"}}},65843:(e,l,t)=>{t.d(l,{Gl:()=>p,k9:()=>I,jU:()=>h,HO:()=>D,Pm:()=>T,eS:()=>R,t6:()=>P,yk:()=>A,Vl:()=>S,V4:()=>C,hW:()=>m});var i=t(17615),n=t(58956),a=t(94180),r=t(24373),o=t(14601),s=t(93761),d=t(46124),u=t(84713),c=t(12987),v=t(53042),E=t(16332),g=t(48048),_=t(27165);const y="-c-";function p(e,l,t,r,o,s){var d,u,c,E;let _;if(!e)return null;if(null!=e&&e.redirection&&null!=e&&null!==(d=e.redirection)&&void 0!==d&&d.url)_={...e.redirection};else if((null==e||null===(u=e.data)||void 0===u?void 0:u.categoryUrlKeyword)!==l)_={isInternal:!0,type:i.B.MOVED_PERMANENTLY,url:D(e.data.categoryUrlKeyword||l,t,{brandIds:o,queryParams:r})};else if(s&&(o||r)){const e=Object.values(a.LG),o=Object.values(n.c1),s={...(0,g.mb)([].concat(e,o),null)},d=D(l,t,{brandIds:null,queryParams:{...r,...s}});_={isInternal:!0,type:i.B.MOVED_PERMANENTLY,url:d}}else 0!==(null==e||null===(c=e.data)||void 0===c||null===(E=c.products)||void 0===E?void 0:E.length)||(0,v.ye)(r)||(_={isInternal:!0,type:i.B.MOVED_PERMANENTLY,url:D(e.data.categoryUrlKeyword,t,{queryParams:{...r,[a.LG.PAGE]:null},brandIds:o})});return _}function D(e,l){let{queryParams:t,brandIds:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=`/${e}${y}${l}`;if(i&&(n=`/${i}${n}`),t){const e=(0,u.T9)(t);e&&(n+=e)}return n}function I(e){let l,t,i;l="/"===e[0]?e:"/"+e;const n=(0,d.HP)(l,o._1[o.VT.MOBILE].CATEGORY_PAGE);return n?({categoryUrlKeyword:t,categoryId:i}=n.params):(t=null,i=null),{categoryUrlKeyword:t,categoryId:i}}function h(e){let l,t,i;l="/"===e[0]?e:"/"+e;const n=(0,d.HP)(l,o._1[o.VT.MOBILE].BRAND_CATEGORY_PAGE);return n?({categoryUrlKeyword:t,categoryId:i}=n.params):(t=null,i=null),{categoryUrlKeyword:t,categoryId:i}}function T(e){return(0,c.Mi)(e,{ignoredFacets:[n.vv.CATEGORY,n.vv.BRAND]})}function R(e){return(0,c.Mi)(e,{ignoredFacets:[n.vv.CATEGORY]})}function P(e){return[{id:"/",labelText:"Anasayfa",url:"/",isRoot:!0,...(0,_.e5)()}].concat(e.map((e=>({id:e.url,labelText:e.name,url:e.url.startsWith("/")?e.url:"/"+e.url,...(0,_.e5)()}))))}function A(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&parseInt(e)>s.Zv||(0,E.tv)(e)}function C(e){const l=[];return null!=e&&e.parents&&l.push(...e.parents.map((e=>({id:e.categoryId,name:e.categoryName})))),e&&l.push({id:e.categoryId,name:e.categoryName}),l}function m(e,l){let t=[];return t=e&&e.children?e.children.map((e=>({id:e.idHierarchy,name:e.categoryName,itemsCount:e.itemsCount,level:e.level,selected:e.idHierarchy===l[n.M2.CATEGORY]}))):[],e&&e.categoryId&&(t=e.children.map((e=>({id:e.idHierarchy,name:e.categoryName,itemsCount:e.itemsCount,level:e.level,selected:e.idHierarchy===l[n.M2.CATEGORY]}))),t.unshift({id:e.idHierarchy,name:e.categoryName,itemsCount:e.itemsCount,level:e.level,selected:e.idHierarchy===l[n.M2.CATEGORY]})),e&&e.parents.length>0&&e.parents.forEach((e=>{const i={id:e.idHierarchy,name:e.categoryName,itemsCount:e.itemsCount,level:e.level,selected:e.idHierarchy===l[n.M2.CATEGORY]};t.unshift(i)})),t}function S(e){return Boolean(e.match(r.pl))}},11411:(e,l,t)=>{t.d(l,{T:()=>i});const i={CMS:"cms",VOLTRAN:"voltran"}},82103:(e,l,t)=>{t.d(l,{cq:()=>H,aZ:()=>r,Zg:()=>o,fo:()=>s,ot:()=>d,nD:()=>u,YK:()=>_,BM:()=>c,tQ:()=>v,Ot:()=>E,$N:()=>g,Us:()=>y,Ch:()=>p,ny:()=>D,fE:()=>I,eb:()=>h,lB:()=>T,gJ:()=>R,dd:()=>P,Y1:()=>A,mq:()=>C,u6:()=>m,VR:()=>S,pM:()=>L,fJ:()=>N,g5:()=>O,I7:()=>f,KV:()=>M,PD:()=>b,rV:()=>F,ds:()=>x,Xu:()=>B,a:()=>G,qY:()=>V,Nq:()=>w,Fz:()=>Y,$i:()=>q});var i=t(86139),n=t(15213),a=t(56620);const r=(0,n.Np)("SEND_PAGE_LOAD_EVENT",(e=>({params:{eventName:i.SF.PAGE_LOAD,eventData:{}}}))),o=(0,n.Np)("SEND_PRODUCT_LIST_EVENT",(e=>({params:{eventName:i.SF.PRODUCT_LIST,eventData:(0,a.Kp)(e)}}))),s=(0,n.Np)("SEND_PRODUCT_CLICK_EVENT",(e=>({params:{eventName:i.SF.PRODUCT_CLICK,eventData:(0,a.bc)(e)}}))),d=(0,n.Np)("SEND_PRODUCT_CLICK_ANALYTICS_EVENT",(e=>({params:e}))),u=(0,n.Np)("SEND_ADD_TO_CART_CLICK_EVENT",(e=>({params:{eventName:i.SF.ADD_TO_CART_CLICK,eventData:(0,a.VM)(e)}}))),c=(0,n.Np)("SEND_ADD_TO_CART_CLICK_ANALYTICS_EVENT",(e=>({params:e}))),v=(0,n.Np)("SEND_CHANGE_VARIANT_CLICK_EVENT",(e=>({params:{eventName:i.SF.CHANGE_VARIANT,eventData:(0,a.xX)(e)}}))),E=(0,n.Np)("SEND_OPEN_VARIANT_POPUP_EVENT",(e=>({params:{eventName:i.SF.VIEW_VARIANT_LIST,eventData:(0,a.JE)(e)}}))),g=(0,n.Np)("SEND_CLOSE_VARIANT_POPUP_EVENT",(e=>({params:{eventName:i.SF.CLOSE_VARIANT_LIST,eventData:(0,a.$F)(e)}}))),_=(0,n.Np)("SEND_PRE_ORDER_CLICK_EVENT",(e=>({params:{eventName:i.SF.PRE_ORDER_CLICK,eventData:(0,a.KQ)(e)}}))),y=(0,n.Np)("SEND_WEBTREKK_EVENT",(e=>({params:e}))),p=(0,n.Np)("SEND_FEEDBACK_VIEW_EVENT",(e=>({params:{eventName:i.SF.FEEDBACK_VIEW,eventData:(0,a.u$)(e)}}))),D=(0,n.Np)("SEND_FEEDBACK_CLICK_EVENT",(e=>({params:{eventName:i.SF.FEEDBACK_CLICK,eventData:(0,a.b4)(e)}}))),I=(0,n.Np)("SEND_FILTER_WIDGET_CLICK_EVENT",(e=>({params:{eventName:i.SF.FILTER_WIDGET_CLICK,eventData:(0,a.hw)(e)}}))),h=(0,n.Np)("SEND_TYPO_CORRECTION_VIEW_EVENT",(e=>({params:{eventName:i.SF.TYPO_CORRECTION_VIEW,eventData:e}}))),T=(0,n.Np)("SEND_TYPO_CORRECTION_CLICK_EVENT",(e=>({params:{eventName:i.SF.TYPO_CORRECTION_CLICK,eventData:e}}))),R=(0,n.Np)("SEND_RECO_PRODUCTS_CLICK_EVENT",(e=>({params:{eventName:i.SF.RECO_PRODUCTS_CLICK,eventData:e}}))),P=(0,n.Np)("SEND_RECO_PRODUCTS_VIEW_EVENT",(e=>({params:{eventName:i.SF.RECO_PRODUCTS_VIEW,eventData:e}}))),A=(0,n.Np)("SEND_RECO_PRODUCTS_ARROW_CLICK_EVENT",(e=>({params:{eventName:i.SF.RECO_PRODUCTS_ARROW_CLICK,eventData:e}}))),C=(0,n.Np)("SEND_DEAL_OF_THE_DAY_TITLE_CLICK_EVENT",(e=>({params:{eventName:i.SF.LINK_CLICK,eventData:e}}))),m=(0,n.Np)("SEND_DEAL_OF_THE_DAY_PRODUCT_CLICK_EVENT",(e=>({params:{eventName:i.SF.PRODUCT_CAROUSEL_CLICK,eventData:e}}))),S=(0,n.Np)("SEND_DEAL_OF_THE_DAY_ARROW_CLICK_EVENT",(e=>({params:{eventName:i.SF.PRODUCT_CAROUSEL_ARROW_CLICK,eventData:e}}))),L=(0,n.Np)("SEND_DEAL_OF_THE_DAY_VIEW_EVENT",(e=>({params:{eventName:i.SF.PRODUCT_CAROUSEL_VIEW,eventData:e}}))),N=(0,n.Np)("SEND_FILTER_FACET_CLICK_EVENT",(e=>({params:{eventName:i.SF.FILTER_FACET_CLICK,eventData:e}}))),O=(0,n.Np)("SEND_MULTI_FILTER_FACET_CLICK_EVENT",(e=>({params:{eventArray:null==e?void 0:e.map((e=>({eventName:i.SF.FILTER_FACET_CLICK,eventData:e})))}}))),f=(0,n.Np)("SEND_SORT_CLICK_EVENT",(e=>({params:{eventName:i.SF.SORT_CLICK,eventData:e}}))),M=(0,n.Np)("SEND_SORT_CLICK_ANALYTICS_EVENT",(e=>({params:e}))),F=(0,n.Np)("SEND_SMART_FILTER_VIEW",(e=>({params:{eventName:i.SF.SMART_FILTER_VIEW,eventData:e}}))),x=(0,n.Np)("SEND_HOME_PAGE_VIEW",(e=>({params:{eventName:i.SF.HOME_PAGE_VIEW,eventData:(0,a.S$)(e)}}))),B=(0,n.Np)("SEND_REMOVE_FILTERS",(e=>({params:{eventName:i.SF.REMOVE_FILTERS,eventData:(0,a.u_)(e)}}))),G=(0,n.Np)("SEND_SPONSORED_PRODUCT_VIEW",(e=>({params:{eventName:i.SF.SPONSORED_PRODUCT_VIEW,eventData:(0,a.SY)(e)}}))),V=(0,n.Np)("SEND_SPONSORED_PRODUCT_CLICK",(e=>({params:{eventName:i.SF.SPONSORED_PRODUCT_CLICK,eventData:(0,a.os)(e)}}))),b=(0,n.Np)("SEND_PRODUCT_LIST_VIEW",(e=>({params:{eventName:i.SF.PRODUCT_LIST_VIEW,eventData:(0,a.EF)(e)}}))),w=(0,n.Np)("SEND_CAMPAIGN_TAG_CLICK",(e=>({params:{eventName:i.SF.LINK_CLICK,eventData:(0,a.tO)(e)}}))),Y=(0,n.Np)("SEND_IMAGE_VIEW",(e=>({params:{eventName:i.SF.IMAGE_VIEW,eventData:(0,a.zY)(e)}}))),q=(0,n.Np)("SEND_PRODUCT_VIEW",(e=>({params:{eventName:i.SF.PRODUCT_VIEW,eventData:(0,a.yY)(e)}}))),H={sendPageLoadEvent:{...r},sendProductListEvent:{...o},sendProductClickEvent:{...s},sendProductClickAnalyticsEvent:{...d},sendAddToCartClickEvent:{...u},sendAddToCartAnalyticsEvent:{...c},sendPreOrderClickEvent:{..._},sendWebtrekkEvent:{...y},sendChangeVariant:{...v},sendOpenVariantPopup:{...E},sendCloseVariantPopup:{...g},sendFeedbackViewEvent:{...p},sendFeedbackClickEvent:{...D},sendFilterWidgetClickEvent:{...I},sendTypoCorrectionViewEvent:{...h},sendTypoCorrectionClickEvent:{...T},sendRecoProductsClickEvent:{...R},sendRecoProductsViewEvent:{...P},sendRecoProductsArrowClickEvent:{...A},sendDealOfTheDayTitleClickEvent:{...C},sendDealOfTheDayProductsClickEvent:{...m},sendDealOfTheDayArrowClickEvent:{...S},sendDealOfTheDayViewEvent:{...L},sendFilterFacetClick:{...N},sendMultiFilterFacetClick:{...O},sendSortClickEvent:{...f},sendSortClickAnalyticsEvent:{...M},sendSmartFilterViewEvent:{...F},sendHomePageViewEvent:{...x},sendRemoveFiltersEvent:{...B},sendSponsoredProductViewEvent:{...G},sendSponsoredProductClickEvent:{...V},sendProductListViewEvent:{...b},sendCampaignTagClickEvent:{...w},sendImageViewEvent:{...Y},sendProductViewEvent:{...q}}},14327:(e,l,t)=>{t.d(l,{default:()=>De});var i=t(13865),n=t(51298),a=t(35610),r=t.n(a),o=t(32192),s=t(97181),d=t(6641),u=t(15707),c=t(14486),v=t.n(c),E=t(95434),g=t(89498),_=t(17813),y=t(78282),p=t(37492),D=t(63132),I=t(59079),h=t(45470),T=t(61478),R=t(39286),P=t(97898),A=t(4017),C=t(7282),m=t(53933),S=t(56789),L=t(69752),N=t(36251),O=t(27795),f=t(69822),M=t(26770),F=t(63990),x=t(33871),B=t(24715),G=t(82103),V=t(97910),b=t(82867),w=t(73426),Y=t(63570),q=t(39892),H=t(46124),k=t(12987),U=t(27165),W=t(86782),K=t(75792),Z=t(56620),Q=t(63838),$=t(80243),J=t(6340),X=t(84713),z=t(53042),j=t(18162),ee=t(95155),le=t(56019),te=t(94180),ie=t(86139),ne=t(17615),ae=t(12111),re=t(14601),oe=t(58956),se=t(24373),de=t(43422),ue=t(5489),ce=t(14053),ve=t(73453),Ee=t(23920),ge=t(45848);const _e="Brand",ye=[ee._.DISPLAY_GLOBAL_CAMPAIGN_TEXT,ee._.USE_ARWEN_FOR_SUGGESTIONS_ON_MOBILE,ee._.PAGE_LIMIT_IN_LISTING_PAGES,ee._.DISPLAY_ITEM_COUNT_ON_CART_SF,ee._.DISPLAY_RECOMMENDATIONS,ee._.DISPLAY_FEEDBACK,ee._.DISPLAY_THIRD_PRICE_WITH_BASKET,ee._.USE_HIGH_QUALITY_IMAGES,ee._.ENABLE_ENSIGHTEN,ee._.ENABLE_ABTEST,ee._.SERVER_SIDE_RENDER_FOR_PWA_OTHER_PAGE,ee._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_OTHER_PAGE,ee._.DISPLAY_WHATSAPP_ICON,ee._.DISPLAY_LIKE_BUTTON_ON_LISTING_PAGES,ee._.USE_CHECKOUT_VOLTRAN_ADD_TO_CART_OTHER_PAGE,ee._.DISPLAY_JET_DELIVERY_WIDGET,ee._.ENABLE_GTM,ee._.DISPLAY_CAMPAIGN_FILTER,ee._.SERVER_SIDE_RENDER_FOR_PWA_BRAND_PAGE,ee._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_BRAND_PAGE,ee._.HIDE_JS_FROM_GOOGLEBOT,ee._.DISPLAY_NEXT_DAY_DELIVERY,ee._.DISPLAY_EXPRESS_DELIVERY,ee._.DISPLAY_HEPSIGLOBAL_MODAL,ee._.USE_CLIENT_SIDE_ROUTE_PLP,ee._.IS_CRITICAL_CSS];class pe extends a.PureComponent{static redirectAsynchronously(e,l,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne.B.FOUND;return new Promise(((n,a)=>{l.redirection={type:i,url:(0,X.Yw)(e.pathname)+(0,X.T9)({...t,[te.LG.PAGE]:null})},n(l)}))}static async fetchData(e,l){var t,i,n,a;let r,o=[];const{pathname:s,isMobile:d,pathParams:u,matchParams:c,isBot:v,queryParams:E,cookies:g,rawCookies:_}=l,{brandId:y}=u,p={serverSideRendering:!0,redirection:null,results:[],seoInfo:null,isNotFound:!1},D=(0,J.Qd)(s);if(D)return v?p.redirection=D:p.isNotFound=!0,p;const I=(0,j.o3)(null==g?void 0:g.location),h=await(0,q.V)(e(f.cq.getBrandFeatureToggles.trigger(ye)));if(h.hasError)return p.isError=h.result,p;const T=(0,Y.KV)(null===(t=h.result)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data);var R,P;null!=h&&null!==(n=h.result)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.data&&(p.featureToggles=null===(R=h.result)||void 0===R||null===(P=R.data)||void 0===P?void 0:P.data);if(v||null!=T&&T.get(ee._.SERVER_SIDE_RENDER_FOR_PWA_BRAND_PAGE)||(p.serverSideRendering=!1),(0,J.oO)(E[te.LG.PAGE],null==T?void 0:T.get(ee._.PAGE_LIMIT_IN_LISTING_PAGES)))r=await pe.redirectAsynchronously(l,p,E);else if(v||null!=T&&T.get(ee._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_BRAND_PAGE)){var A,C,m,S;const l=await(0,q.V)(e(M.cq.getBrandInfo.trigger({...E,brandId:y})));if(l.hasError)return p.isError=l.result,p;const t=null==l||null===(A=l.result)||void 0===A||null===(C=A.data)||void 0===C?void 0:C.data,i=null==t||null===(m=t.brand)||void 0===m?void 0:m.name,n=null==t||null===(S=t.brand)||void 0===S?void 0:S.url;if(!t.hasBrand)return p.isNotFound=!0,p;if(y!==n&&n&&""!==n)return r=await pe.redirectAsynchronously({pathname:n},p,E,ne.B.MOVED_PERMANENTLY),r;if(null!=T&&T.get(ee._.DISPLAY_JET_DELIVERY_WIDGET)){var L,N,O,F,G,b,w,H,k,U,W,K,Z,Q,X,z,le,ie,re,se,de,ue,ve,Ee;const l=await(0,q.V)(e(x.cq.getDeliveryInfo.trigger({...E,pageType:_e,[oe.M2.BRAND_PAGE]:i,[oe.M2.CITIES]:null==I||null===(L=I.city)||void 0===L?void 0:L.code,[oe.M2.RECEIVER_CITY]:null==I||null===(N=I.city)||void 0===N?void 0:N.name,[oe.M2.RECEIVER_TOWN]:null==I||null===(O=I.town)||void 0===O?void 0:O.name,[oe.M2.RECEIVER_DISTRICT]:null==I||null===(F=I.district)||void 0===F?void 0:F.name},g))),t=null==l||null===(G=l.result)||void 0===G||null===(b=G.data)||void 0===b?void 0:b.data,n=(null==t||null===(w=t.nextDayDelivery)||void 0===w||null===(H=w.values)||void 0===H?void 0:H.length)>0,a=null==t||null===(k=t.nextDayDelivery)||void 0===k||null===(U=k.selectedValues)||void 0===U?void 0:U[0],r=null==t||null===(W=t.nextDayDelivery)||void 0===W?void 0:W.hasProduct,s=null==t||null===(K=t.nextDayDelivery)||void 0===K?void 0:K.insideCutoff,d=null==t||null===(Z=t.nextDayDelivery)||void 0===Z?void 0:Z.isDisplayable,u=(null==t||null===(Q=t.expressDelivery)||void 0===Q||null===(X=Q.values)||void 0===X?void 0:X.length)>0,c=null==t||null===(z=t.expressDelivery)||void 0===z||null===(le=z.selectedValues)||void 0===le?void 0:le[0],v=null==t||null===(ie=t.expressDelivery)||void 0===ie?void 0:ie.hasProduct,_=null==t||null===(re=t.expressDelivery)||void 0===re?void 0:re.insideCutoff,y=null==t||null===(se=t.expressDelivery)||void 0===se?void 0:se.isDisplayable,p=r&&s,D=v&&_;e(x.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(a),expressDeliverySelected:Boolean(c)})),o.push({...ae.x$[ae.RB.DELIVERY],paramater:{...ae.x$[ae.RB.DELIVERY].paramater,mobile:!0,selectorViewType:"bottom_sheet",nextDayDeliverySelected:Boolean(a),nextDayDeliveryDisabled:!(null!=I&&null!==(de=I.city)&&void 0!==de&&de.code)||!n||(null==I||null===(ue=I.city)||void 0===ue?void 0:ue.code)&&!p&&!a,nextDayDeliveryInsideCutoff:Boolean(s),nextDayDeliveryHasProduct:Boolean(r),nextDayDeliveryVisible:(null==T?void 0:T.get(ee._.DISPLAY_NEXT_DAY_DELIVERY))&&d,expressDeliverySelected:Boolean(c),expressDeliveryDisabled:!(null!=I&&null!==(ve=I.city)&&void 0!==ve&&ve.code)||!u||(null==I||null===(Ee=I.city)||void 0===Ee?void 0:Ee.code)&&!D&&!c,expressDeliveryInsideCutoff:Boolean(_),expressDeliveryHasProduct:Boolean(v),expressDeliveryVisible:(null==T?void 0:T.get(ee._.DISPLAY_NEXT_DAY_DELIVERY))&&y}})}r=await(0,q.a)(Promise.all([(0,q.V)(e(M.cq.getBrandProducts.trigger({...E,[oe.M2.BRAND_PAGE]:y,[oe.M2.BRAND_NAME]:i},g))),(0,q.V)(e(M.cq.getBrandByProductBrandName.trigger({[oe.M2.BRAND_NAME]:encodeURIComponent(i)},g))),pe.fetchInitialFilters(e,E,y),(null==T?void 0:T.get(ee._.ENABLE_ABTEST))&&(0,q.V)(e(V.c.getAbTest.trigger())),(null==T?void 0:T.get(ee._.DISPLAY_CAMPAIGN_FILTER))&&(0,q.V)(e(x.cq.getCampaignFilter.trigger({...E,[oe.M2.BRAND_PAGE]:y,[oe.M2.BRAND_NAME]:i},g)))])).then((e=>{var l,t,n,a,r,s,d,u,c;let[v,g,D,I,h]=e;if(null!=v&&v.hasError||null!=D&&D.hasError)return p.isError=(null==v?void 0:v.result)||(null==D?void 0:D.result),p;const T=null==g||null===(l=g.result)||void 0===l?void 0:l.data,R=(0,$.lh)(null==D||null===(t=D.result)||void 0===t||null===(n=t.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.appliedFacets),P=null==v||null===(r=v.result)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.data;if(null!=P&&P.products&&(p.redirection||(p.redirection=(0,J.p6)(v.result.data,i,E,R))),T&&P){const{status:e,isSuspended:l,id:t}=T,{seoInformation:i,totalProductCount:n}=P;if("Active"===e&&!l){const e=(0,j.Du)({rawCookies:_,prefixes:ce.im});o.push({...ae.x$[ae.RB.BRAND_CONTENT],paramater:{...ae.x$[ae.RB.BRAND_CONTENT].paramater,...E,brandId:t,h1title:i.h1,totalProductCount:n,urlpostfix:y,...e}})}}return p.seoInfo=null==v||null===(d=v.result)||void 0===d||null===(u=d.data)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.seoInformation,p})),(null==o?void 0:o.length)>0&&await(0,q.V)(e(B.c.getFragments.trigger(o)))}else r=p;return r}static fetchInitialFilters(e,l,t){let i={[oe.M2.BRAND_PAGE]:t};return l[oe.M2.RATING]&&(i[oe.M2.RATING]=l[oe.M2.RATING]),l[oe.M2.GENERIC_FILTERS]&&(i[oe.M2.GENERIC_FILTERS]=l[oe.M2.GENERIC_FILTERS]),l[oe.M2.WORD]&&(i[oe.M2.WORD]=l[oe.M2.WORD]),l[oe.M2.CATEGORY]&&(i[oe.M2.CATEGORY]=l[oe.M2.CATEGORY]),(0,q.V)(e(x.cq.getBrandFilters.trigger(i)))}constructor(e){var l;super(e),l=this,(0,n.default)(this,"redirectIfNecessary",(e=>{const{match:{params:{brandId:l}},queryParams:t,appliedFacetArray:i}=this.props,n=(0,J.p6)(e,l,t,i);if(n&&(null==n?void 0:n.url)!==window.location.href)if(null!=n&&n.isInternal){const[e,l]=n.url.split(le.g);this.updateLocation({pathname:e,search:l,state:{shouldPreserveInitialFilteredCategory:!0}},{isReplace:!0})}else window.location.replace(null==n?void 0:n.url)})),(0,n.default)(this,"executeAnalyticsLogic",(()=>{const{dispatch:e}=this.props;w.Z.handleDomLoaded(e,ie.uF.BRAND),this.sendWebtrekkData()})),(0,n.default)(this,"fetchNewBrandProducts",(e=>{let{areSelectedFiltersQueryParamsChanged:l}=e;const{dispatch:t,queryParams:i,filterApiQueryParams:n,location:a,match:r,brandInfo:o}=this.props,{brandId:s}=r.params;let d,u;return d=l?{...i,[oe.M2.BRAND_PAGE]:s,[oe.M2.BRAND_NAME]:null==o?void 0:o.name}:{...i,...n,[oe.M2.BRAND_PAGE]:s,[oe.M2.BRAND_NAME]:null==o?void 0:o.name},u=a.state&&a.state.shouldAppendNewBrandProducts?(0,q.V)(t(M.cq.getNextBrandProducts.trigger(d))):(0,q.V)(t(M.cq.getBrandProducts.trigger(d))),u})),(0,n.default)(this,"handleProductListViewLoadMore",(e=>{let{currentPageNumber:l,isPending:t,hasMoreItems:i,isDownwards:n}=e;const{isLoadMoreModeEnabled:a}=this.state;a&&!t&&i&&l<te.FT&&n&&this.updateLocationForNewPage(l+1,!0)})),(0,n.default)(this,"handleProductListViewPageChange",((e,l)=>{this.setState({isLoadMoreModeEnabled:!1},(()=>{this.updateLocationForNewPage(l,!1)}))})),(0,n.default)(this,"updateLocation",(function(e){let{isReplace:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{dispatch:i}=l.props;i(t?(0,d.gx)(e):(0,d.VF)(e)),w.Z.handlePageRenderStart(i,ie.uF.BRAND)})),(0,n.default)(this,"handleSortTypeChange",((e,l)=>{const{match:t,queryParams:i}=this.props,n=re._1[re.VT.MOBILE].BRAND_PAGE;this.updateLocation({pathname:(0,H.RC)(n,{...t.params}),search:(0,X.T9)({...i,[te.LG.SORT_BY]:l,[te.LG.PAGE]:null}),state:{shouldPreserveInitialFilteredCategory:!0}})})),(0,n.default)(this,"handleFilterButtonClick",(()=>{this.handledFiltersPanelOpen()})),(0,n.default)(this,"handledFiltersPanelOpen",(()=>{const{dispatch:e}=this.props;e(x.cq.openFilterManagementPanel())})),(0,n.default)(this,"handleCategoryFilterChange",((e,l,t)=>{const{queryParams:i,match:n,brandPageFilterQueryParams:a}=this.props,{brandId:r}=n.params,o=(0,X.T9)({...a,[te.LG.CATEGORY]:t.idHierarchy,[te.LG.SORT_BY]:i[te.LG.SORT_BY]},{withPrefix:!1,encode:!1});this.updateLocation({pathname:(0,H.RC)(re._1[re.VT.MOBILE].BRAND_PAGE,{brandId:r}),search:o,state:{shouldPreserveInitialFilteredCategory:!0}})})),(0,n.default)(this,"handleViewProducts",(()=>{const{brandPageFilterQueryParams:e,queryParams:l,match:t}=this.props,{brandId:i}=t.params;let n;const a=(0,X.T9)({...e,[te.LG.CATEGORY]:l[te.LG.CATEGORY],[te.LG.SORT_BY]:l[te.LG.SORT_BY]},{withPrefix:!1,encode:!1});n=(0,H.RC)(re._1[re.VT.MOBILE].BRAND_PAGE,{...a,brandId:i}),this.updateLocation({pathname:n,search:a,state:{shouldPreserveInitialFilteredCategory:!0}})})),(0,n.default)(this,"handleFiltersPanelClose",(()=>{const{dispatch:e}=this.props;e(x.cq.closeFilterManagementPanel())})),(0,n.default)(this,"handleClearAllFiltersButtonClick",(()=>{var e,l,t,i;const{dispatch:n,location:a,match:r,queryParams:o,initialFilteredCategory:d,visibleSelectedFiltersByFacetMap:u,brandInfo:c,deliveryInfo:v,deliveryLocation:E}=this.props,{brandId:g}=r.params;n(x.cq.getDeliveryInfo.trigger({pageType:_e,...(0,k.Mi)(u.set(v.nextDayDelivery.key,(0,s.Map)()),u.set(v.expressDelivery.key,(0,s.Map)())),[oe.M2.BRAND_NAME]:null==c?void 0:c.name,[oe.M2.CITIES]:null==E||null===(e=E.city)||void 0===e?void 0:e.code,[oe.M2.RECEIVER_CITY]:null==E||null===(l=E.city)||void 0===l?void 0:l.name,[oe.M2.RECEIVER_TOWN]:null==E||null===(t=E.town)||void 0===t?void 0:t.name,[oe.M2.RECEIVER_DISTRICT]:null==E||null===(i=E.district)||void 0===i?void 0:i.name}));const _=(0,X.T9)({...o,[te.LG.CATEGORY]:d.idHierarchy,[te.LG.SORT_BY]:o[te.LG.SORT_BY]},{withPrefix:!1,encode:!1});n(x.cq.clearAllFilters());const y=void 0===d.idHierarchy?(0,X.mn)(oe.M2.CATEGORY):a.search;a.pathname+(_&&le.g+_)===a.pathname+y?n(x.cq.getBrandFilters.trigger({[te.LG.CATEGORY]:d.idHierarchy?d.idHierarchy:null,[oe.M2.BRAND_PAGE]:g})):this.updateLocation({pathname:(0,H.RC)(re._1[re.VT.MOBILE].BRAND_PAGE,{brandId:g}),search:_,state:{shouldPreserveInitialFilteredCategory:!0}})})),(0,n.default)(this,"handleClearFacetFiltersButtonClick",(()=>{const{dispatch:e,match:l,queryParams:t,activeFacet:i,visibleSelectedFiltersByFacetMap:n,initialFilteredCategory:a}=this.props,{brandId:r}=l.params;if(i.id===oe.vv.CATEGORY){const e=(0,X.T9)({...t,[te.LG.CATEGORY]:a.idHierarchy,[te.LG.SORT_BY]:t[te.LG.SORT_BY],[te.LG.QUERY]:void 0},{withPrefix:!1,encode:!1});this.updateLocation({pathname:(0,H.RC)(re._1[re.VT.MOBILE].BRAND_PAGE,{brandId:r}),search:e,state:{shouldPreserveInitialFilteredCategory:!0}})}else(0,q.V)(e(x.cq.getBrandFilters.trigger({...(0,k.Mi)(n.set(i.id,(0,s.Map)())),[oe.M2.BRAND_PAGE]:r})));e(x.cq.clearActiveFacetFilters())})),(0,n.default)(this,"verticalScrollViewRefCallback",(e=>{this.verticalScrollViewRef=e})),(0,n.default)(this,"updateLocationForNewPage",(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{match:i,queryParams:n}=l.props,a=(0,X.T9)({...n,[te.LG.PAGE]:e>1?e:null,[te.LG.QUERY]:null},{withPrefix:!1,encode:!1}),r=re._1[re.VT.MOBILE].BRAND_PAGE;l.updateLocation({pathname:(0,H.RC)(r,i.params),search:a,state:{shouldAppendNewBrandProducts:t}},{isReplace:!0})})),(0,n.default)(this,"setSeoInfo",(e=>{e&&(document.title=e.title)})),(0,n.default)(this,"handlePageRendered",(()=>{"complete"===document.readyState&&(this.state.isComponentRender||this.setState({isComponentRender:!0}))})),(0,n.default)(this,"sendPageLoadCallback",(()=>{this.setState({isComponentRender:!1})})),(0,n.default)(this,"fetchVoltranFragment",(()=>{const{fragmentsMap:e,dispatch:l,pageFeatureToggleMap:t,deliveryLocation:i,deliveryInfo:n}=this.props,a=[];if(null!=e&&e.get(ae.x$[ae.RB.FAVORITE].id.toString())||null==t||!t.get(ee._.DISPLAY_LIKE_BUTTON_ON_LISTING_PAGES)||a.push(ae.x$[ae.RB.FAVORITE]),null!=e&&e.get(ae.x$[ae.RB.ADD_TO_CART].id.toString())||null==t||!t.get(ee._.USE_CHECKOUT_VOLTRAN_ADD_TO_CART_OTHER_PAGE)||a.push(ae.x$[ae.RB.ADD_TO_CART]),(null==e||!e.get(ae.x$[ae.RB.DELIVERY].id.toString()))&&null!=t&&t.get(ee._.DISPLAY_JET_DELIVERY_WIDGET)){var r,o,s,d,u,c,v,E,g,_,y,p,D,I,h,T,R,P;const e=(null==n||null===(r=n.nextDayDelivery)||void 0===r||null===(o=r.values)||void 0===o?void 0:o.length)>0,l=null==n||null===(s=n.nextDayDelivery)||void 0===s||null===(d=s.selectedValues)||void 0===d?void 0:d[0],A=null==n||null===(u=n.nextDayDelivery)||void 0===u?void 0:u.hasProduct,C=null==n||null===(c=n.nextDayDelivery)||void 0===c?void 0:c.insideCutoff,m=null==n||null===(v=n.nextDayDelivery)||void 0===v?void 0:v.isDisplayable,S=(null==n||null===(E=n.expressDelivery)||void 0===E||null===(g=E.values)||void 0===g?void 0:g.length)>0,L=null==n||null===(_=n.expressDelivery)||void 0===_||null===(y=_.selectedValues)||void 0===y?void 0:y[0],N=null==n||null===(p=n.expressDelivery)||void 0===p?void 0:p.hasProduct,O=null==n||null===(D=n.expressDelivery)||void 0===D?void 0:D.insideCutoff,f=null==n||null===(I=n.expressDelivery)||void 0===I?void 0:I.isDisplayable,M=A&&C,F=N&&O;a.push({...ae.x$[ae.RB.DELIVERY],paramater:{...ae.x$[ae.RB.DELIVERY].paramater,mobile:!0,selectorViewType:"bottom_sheet",nextDayDeliverySelected:Boolean(l),nextDayDeliveryDisabled:!(null!=i&&null!==(h=i.city)&&void 0!==h&&h.code)||!e||(null==i||null===(T=i.city)||void 0===T?void 0:T.code)&&!M&&!l,nextDayDeliveryInsideCutoff:Boolean(C),nextDayDeliveryHasProduct:Boolean(A),nextDayDeliveryVisible:(null==t?void 0:t.get(ee._.DISPLAY_NEXT_DAY_DELIVERY))&&m,expressDeliverySelected:Boolean(L),expressDeliveryDisabled:!(null!=i&&null!==(R=i.city)&&void 0!==R&&R.code)||!S||(null==i||null===(P=i.city)||void 0===P?void 0:P.code)&&!F&&!L,expressDeliveryInsideCutoff:Boolean(O),expressDeliveryHasProduct:Boolean(N),expressDeliveryVisible:(null==t?void 0:t.get(ee._.DISPLAY_EXPRESS_DELIVERY))&&f}})}(null==a?void 0:a.length)>0&&(0,q.V)(l(B.c.getFragments.trigger(a)))})),(0,n.default)(this,"setFilterHeight",(()=>{const e=document.getElementById("headroom"),l=document.getElementById("filterBar");null!==e&&0!==e.offsetTop&&this.setState({initialFilterHeight:e.offsetTop+l.offsetHeight})})),(0,n.default)(this,"setCheckboxStatus",(e=>{var l,t,i,n,a,r;const{dispatch:o,pageFeatureToggleMap:s}=this.props;let d={...this.state.previousDeliveryData,...e};null===(l=window)||void 0===l||null===(t=l.HbEventBus)||void 0===t||t.emit(ve.Yh,{nextDayDeliveryIsDisabled:d.nextDayDeliveryIsDisabled,expressDeliveryIsDisabled:d.expressDeliveryIsDisabled,nextDayDeliveryInsideCutoff:d.nextDayDeliveryInsideCutoff,expressDeliveryInsideCutoff:d.expressDeliveryInsideCutoff,nextDayDeliveryHasProduct:d.nextDayDeliveryHasProduct,expressDeliveryHasProduct:d.expressDeliveryHasProduct}),null===(i=window)||void 0===i||null===(n=i.HbEventBus)||void 0===n||n.emit(ve.Th,{nextDayDeliveryIsSelected:d.nextDayDeliveryIsSelected&&!d.nextDayDeliveryIsDisabled,expressDeliveryIsSelected:d.expressDeliveryIsSelected&&!d.expressDeliveryIsDisabled}),null===(a=window)||void 0===a||null===(r=a.HbEventBus)||void 0===r||r.emit(ve.Zw,{nextDayDeliveryVisible:(null==s?void 0:s.get(ee._.DISPLAY_NEXT_DAY_DELIVERY))&&d.nextDayDeliveryVisible,expressDeliveryVisible:(null==s?void 0:s.get(ee._.DISPLAY_EXPRESS_DELIVERY))&&d.expressDeliveryVisible}),o(x.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(d.nextDayDeliveryIsSelected&&!d.nextDayDeliveryIsDisabled),expressDeliverySelected:Boolean(d.expressDeliveryIsSelected&&!d.expressDeliveryIsDisabled)})),this.setState({previousDeliveryData:d})})),(0,n.default)(this,"setLocation",(e=>{const{dispatch:l}=this.props;l(x.cq.setDeliveryLocation(e))})),(0,n.default)(this,"deliveryCheckboxChangeEventListener",(()=>{var e,l;null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.on(ve.W9,this.deliveryCheckBoxChange)})),(0,n.default)(this,"deliveryCheckBoxChange",(e=>{var l;const{dispatch:t,history:i,facetList:n,nextDayDelivery:a,expressDelivery:r}=this.props,{categoryId:o}=this.props;let s,d,u,c,v=null==n?void 0:n.find((l=>l.customFacetId===e.clickedCheckboxType));var E;((null==e?void 0:e.clickedCheckboxType)===ve.XJ?(s=null==a?void 0:a.selectedValues,d=null==a?void 0:a.hasProduct,u=null==a?void 0:a.insideCutoff,c=d&&u):(null==e?void 0:e.clickedCheckboxType)===ve.yi&&(s=null==r?void 0:r.selectedValues,d=null==r?void 0:r.hasProduct,u=null==r?void 0:r.insideCutoff,c=d&&u),c||(null==e?void 0:e.clickedCheckboxType)!==ve.yi||null===(l=s)||void 0===l||!l.length)?v&&t(x.cq.getUpdateFilterSelection.trigger(null==v?void 0:v.id,null==v||null===(E=v.filterList)||void 0===E?void 0:E.first(),{isSingleSelection:!0})).then((()=>{var l;t(x.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(e.nextDayDeliverySelected),expressDeliverySelected:Boolean(e.expressDeliverySelected)})),t(G.cq.sendFilterFacetClick.trigger((0,Z.fv)(v,null==v||null===(l=v.filterList)||void 0===l?void 0:l.first(),null,o,ie.ps.BRAND,{target:{checked:(null==e?void 0:e.clickedCheckboxType)===ve.yi?Boolean(e.nextDayDeliverySelected):Boolean(e.expressDeliverySelected)}},!1,"top"))),this.fetch24hProducts()})):i.push((0,K.V)(location))})),(0,n.default)(this,"deliveryLocationChangeEventListener",(()=>{var e,l;null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.on(ue._A,this.deliveryLocationChange)})),(0,n.default)(this,"deliveryLocationChange",(e=>{var l,t,i,n;const{dispatch:a,match:r,facetList:o,nextDayDeliveryCheckboxChecked:s,expressDeliveryCheckboxChecked:d}=this.props,{tagId:u}=r.params;this.setLocation(e),e||this.setCheckboxStatus({nextDayDeliveryIsSelected:!1,nextDayDeliveryIsDisabled:!1,nextDayDeliveryInsideCutoff:!1,nextDayDeliveryHasProduct:!1,expressDeliveryIsSelected:!1,expressDeliveryIsDisabled:!1,expressDeliveryInsideCutoff:!1,expressDeliveryHasProduct:!1}),a(x.cq.getDeliveryInfo.trigger({...!this.props.appliedSelectedAnyDeliveryValue&&this.props.filterApiQueryParams,pageType:_e,[oe.M2.TAG_ID]:u,[oe.M2.CITIES]:null==e||null===(l=e.city)||void 0===l?void 0:l.code,[oe.M2.RECEIVER_CITY]:null==e||null===(t=e.city)||void 0===t?void 0:t.name,[oe.M2.RECEIVER_TOWN]:null==e||null===(i=e.town)||void 0===i?void 0:i.name,[oe.M2.RECEIVER_DISTRICT]:null==e||null===(n=e.district)||void 0===n?void 0:n.name})).then((async l=>{var t,i,n,r,u,c,v,E,g,_,y,p,D,I,h,T;const R=null==l||null===(t=l.result)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data,P=(null==R||null===(n=R.nextDayDelivery)||void 0===n||null===(r=n.values)||void 0===r?void 0:r.length)>0,A=null==R||null===(u=R.nextDayDelivery)||void 0===u||null===(c=u.selectedValues)||void 0===c?void 0:c[0],C=null==R||null===(v=R.nextDayDelivery)||void 0===v?void 0:v.hasProduct,m=null==R||null===(E=R.nextDayDelivery)||void 0===E?void 0:E.insideCutoff,S=null==R||null===(g=R.nextDayDelivery)||void 0===g?void 0:g.isDisplayable,L=(null==R||null===(_=R.expressDelivery)||void 0===_||null===(y=_.values)||void 0===y?void 0:y.length)>0,N=null==R||null===(p=R.expressDelivery)||void 0===p||null===(D=p.selectedValues)||void 0===D?void 0:D[0],O=null==R||null===(I=R.expressDelivery)||void 0===I?void 0:I.hasProduct,f=null==R||null===(h=R.expressDelivery)||void 0===h?void 0:h.insideCutoff,M=null==R||null===(T=R.expressDelivery)||void 0===T?void 0:T.isDisplayable,F=C&&m,B=O&&f;var G,V,b,w;s||this.setCheckboxStatus({nextDayDeliveryIsSelected:Boolean(A),nextDayDeliveryIsDisabled:!(null!=e&&null!==(G=e.city)&&void 0!==G&&G.code)||!P||(null==e||null===(V=e.city)||void 0===V?void 0:V.code)&&!F&&!A,nextDayDeliveryInsideCutoff:m,nextDayDeliveryHasProduct:C,nextDayDeliveryVisible:S});d||this.setCheckboxStatus({expressDeliveryIsSelected:Boolean(N),expressDeliveryIsDisabled:!(null!=e&&null!==(b=e.city)&&void 0!==b&&b.code)||!L||(null==e||null===(w=e.city)||void 0===w?void 0:w.code)&&!B&&!N,expressDeliveryInsideCutoff:f,expressDeliveryHasProduct:O,expressDeliveryVisible:M});if(!e&&s){let e=null==o?void 0:o.find((e=>e.customFacetId===ve.yi));var Y;if(e)await a(x.cq.getUpdateFilterSelection.trigger(null==e?void 0:e.id,null==e||null===(Y=e.filterList)||void 0===Y?void 0:Y.first(),{isSingleSelection:!0}))}if(!e&&d){let e=null==o?void 0:o.find((e=>e.customFacetId===ve.XJ));var q;if(e)await a(x.cq.getUpdateFilterSelection.trigger(null==e?void 0:e.id,null==e||null===(q=e.filterList)||void 0===q?void 0:q.first(),{isSingleSelection:!0}))}this.fetch24hProducts()}))})),(0,n.default)(this,"fetch24hProducts",(()=>{this.handleViewProducts()}));const{dispatch:t,queryParams:i}=this.props;w.Z.handlePageRenderStart(t,ie.uF.BRAND),this.verticalScrollViewRef=null,this.state={isLoadMoreModeEnabled:1===(i[te.LG.PAGE]||1),initialFilterHeight:null,isComponentRender:!1,isOptimizeScriptLoad:!0,previousDeliveryData:{}}}componentDidMount(){const{userInfoPromise:e}=this.props;this.deliveryCheckboxChangeEventListener(),this.deliveryLocationChangeEventListener(),e.then((async e=>{const{dispatch:l,queryParams:t,brandProductArray:i,brandInfo:n,userInfo:a,pageFeatureToggleMap:r,match:{params:{brandId:o}}}=this.props;if(r||await(0,q.V)(l(f.cq.getBrandFeatureToggles.trigger(ye))),i)this.sendWebtrekkData(),w.Z.handlePageRendered(l),this.handlePageRendered();else{const{pageFeatureToggleMap:e,deliveryLocation:i}=this.props;var s,d,u,c;if(null!=e&&e.get(ee._.DISPLAY_JET_DELIVERY_WIDGET))await(0,q.V)(l(x.cq.getDeliveryInfo.trigger({...t,pageType:_e,[oe.M2.BRAND_PAGE]:null==n?void 0:n.name,[oe.M2.CITIES]:null==i||null===(s=i.city)||void 0===s?void 0:s.code,[oe.M2.RECEIVER_CITY]:null==i||null===(d=i.city)||void 0===d?void 0:d.name,[oe.M2.RECEIVER_TOWN]:null==i||null===(u=i.town)||void 0===u?void 0:u.name,[oe.M2.RECEIVER_DISTRICT]:null==i||null===(c=i.district)||void 0===c?void 0:c.name}))).then((e=>{var l,t,n,a,r,o,s,d,u,c,v,E,g,_,y,p,D,I,h,T;const R=null==e||null===(l=e.result)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data,P=(null==R||null===(n=R.nextDayDelivery)||void 0===n||null===(a=n.values)||void 0===a?void 0:a.length)>0,A=null==R||null===(r=R.nextDayDelivery)||void 0===r||null===(o=r.selectedValues)||void 0===o?void 0:o[0],C=null==R||null===(s=R.nextDayDelivery)||void 0===s?void 0:s.hasProduct,m=null==R||null===(d=R.nextDayDelivery)||void 0===d?void 0:d.insideCutoff,S=null==R||null===(u=R.nextDayDelivery)||void 0===u?void 0:u.isDisplayable,L=(null==R||null===(c=R.expressDelivery)||void 0===c||null===(v=c.values)||void 0===v?void 0:v.length)>0,N=null==R||null===(E=R.expressDelivery)||void 0===E||null===(g=E.selectedValues)||void 0===g?void 0:g[0],O=null==R||null===(_=R.expressDelivery)||void 0===_?void 0:_.hasProduct,f=null==R||null===(y=R.expressDelivery)||void 0===y?void 0:y.insideCutoff,M=null==R||null===(p=R.expressDelivery)||void 0===p?void 0:p.isDisplayable,F=C&&m,x=O&&f;this.setCheckboxStatus({nextDayDeliveryIsSelected:Boolean(A),nextDayDeliveryIsDisabled:!(null!=i&&null!==(D=i.city)&&void 0!==D&&D.code)||!P||(null==i||null===(I=i.city)||void 0===I?void 0:I.code)&&!F&&!A,nextDayDeliveryInsideCutoff:m,nextDayDeliveryHasProduct:C,nextDayDeliveryVisible:S,expressDeliveryIsSelected:Boolean(N),expressDeliveryIsDisabled:!(null!=i&&null!==(h=i.city)&&void 0!==h&&h.code)||!L||(null==i||null===(T=i.city)||void 0===T?void 0:T.code)&&!x&&!N,expressDeliveryInsideCutoff:f,expressDeliveryHasProduct:O,expressDeliveryVisible:M})}));(0,q.V)(l(M.cq.getBrandInfo.trigger({...t,brandId:o}))).then((i=>{var n,a,r,o;const s=null==i||null===(n=i.result)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.data,d=null==s||null===(r=s.brand)||void 0===r?void 0:r.name,u=null==s||null===(o=s.brand)||void 0===o?void 0:o.url;pe.fetchInitialFilters(l,t,u).then((()=>{null!=e&&e.get(ee._.DISPLAY_CAMPAIGN_FILTER)&&(0,q.V)(l(x.cq.getCampaignFilter.trigger({[oe.M2.BRAND_PAGE]:u,[oe.M2.BRAND_NAME]:d})))})),(0,q.V)(l(M.cq.getBrandProducts.trigger({...t,[oe.M2.BRAND_PAGE]:u,[oe.M2.BRAND_NAME]:d}))).then((e=>{w.Z.handlePageRendered(l),this.redirectIfNecessary(e.result.data),this.handlePageRendered()}))}))}this.handleBrandDependentLogic("create"),window.history.scrollRestoration="manual",setTimeout((()=>{(0,z.LP)()}),Ee.U4),this.setFilterHeight()}))}UNSAFE_componentWillUpdate(e){const{dispatch:l,location:t}=this.props,i=t.pathname+t.search;i!==e.location.pathname+e.location.search&&(window.ref=window.location.origin+i,w.Z.handlePageRenderStart(l,ie.uF.BRAND))}componentDidUpdate(e){const{dispatch:l,location:t,brandProductArray:i}=this.props;e.location!==t&&this.handleLocationChange(e),e.brandProductArray!==i&&this.executeAnalyticsLogic(),this.setFilterHeight(),window.addEventListener("popstate",((t,i)=>{e.location.hash===ve.ee&&window.location.hash!==e.location.hash&&(l(x.cq.resetActiveFacet()),l(x.cq.restorePreviousFilterState()),this.handleFiltersPanelClose())}))}componentWillUnmount(){var e,l,t,i,n,a,r,o;const{dispatch:s}=this.props;s(f.cq.getBrandFeatureToggles.cancel()),s(M.cq.getBrandProducts.cancel()),s(M.cq.getNextBrandProducts.cancel()),s(x.cq.getBrandFilters.cancel()),s(x.cq.getNextBrandFilters.cancel()),s(x.cq.getCampaignFilter.cancel()),s(V.c.getAbTest.cancel()),null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.off(ve.W9,this.deliveryCheckBoxChange),null===(t=window)||void 0===t||null===(i=t.HbEventBus)||void 0===i||i.off(ue._A,this.deliveryLocationChange),null===(n=window)||void 0===n||null===(a=n.HbEventBus)||void 0===a||a.emit(ve.Th,!1),null===(r=window)||void 0===r||null===(o=r.HbEventBus)||void 0===o||o.emit(ve.Zw,!1),this.setState({isOptimizeScriptLoad:!1})}handleBrandDependentLogic(){this.fetchVoltranFragment()}checkForFilterQueryParamsChange(e){const{queryParams:l}=this.props;let t=!1;return(0,u.forEach)({...l,...e.queryParams},((i,n)=>{n!==te.LG.PAGE&&n!==te.LG.SORT_BY&&e.queryParams[n]!==l[n]&&(t=!0)})),t}async handleLocationChange(e){const{dispatch:l,queryParams:t,location:i,match:n,pageFeatureToggleMap:a,brandInfo:r,deliveryLocation:o}=this.props,{brandId:s}=n.params,d=this.checkForFilterQueryParamsChange(e),u=e.queryParams[te.LG.PAGE]!==t[te.LG.PAGE],c=e.queryParams[te.LG.SORT_BY]!==t[te.LG.SORT_BY],v=e.match.params.brandId!==s;if((v||d)&&null!=a&&a.get(ee._.DISPLAY_JET_DELIVERY_WIDGET)){var E,g,_,y;if((0,$.YT)(t,o)){const e=(0,X.T9)({...(0,$.kw)(t,o)});this.updateLocation({pathname:(0,H.RC)(re._1[re.VT.MOBILE].BRAND_PAGE,{brandId:s}),search:e},{isReplace:!0})}await(0,q.V)(l(x.cq.getDeliveryInfo.trigger({...t,pageType:_e,[oe.M2.BRAND_PAGE]:null==r?void 0:r.name,[oe.M2.CITIES]:null==o||null===(E=o.city)||void 0===E?void 0:E.code,[oe.M2.RECEIVER_CITY]:null==o||null===(g=o.city)||void 0===g?void 0:g.name,[oe.M2.RECEIVER_TOWN]:null==o||null===(_=o.town)||void 0===_?void 0:_.name,[oe.M2.RECEIVER_DISTRICT]:null==o||null===(y=o.district)||void 0===y?void 0:y.name}))).then((async e=>{var l,t,i,n,a,r,s,d,u,c,v,E,g,_,y,p,D,I,h,T;const R=null==e||null===(l=e.result)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data,P=(null==R||null===(i=R.nextDayDelivery)||void 0===i||null===(n=i.values)||void 0===n?void 0:n.length)>0,A=null==R||null===(a=R.nextDayDelivery)||void 0===a||null===(r=a.selectedValues)||void 0===r?void 0:r[0],C=null==R||null===(s=R.nextDayDelivery)||void 0===s?void 0:s.hasProduct,m=null==R||null===(d=R.nextDayDelivery)||void 0===d?void 0:d.insideCutoff,S=null==R||null===(u=R.nextDayDelivery)||void 0===u?void 0:u.isDisplayable,L=(null==R||null===(c=R.expressDelivery)||void 0===c||null===(v=c.values)||void 0===v?void 0:v.length)>0,N=null==R||null===(E=R.expressDelivery)||void 0===E||null===(g=E.selectedValues)||void 0===g?void 0:g[0],O=null==R||null===(_=R.expressDelivery)||void 0===_?void 0:_.hasProduct,f=null==R||null===(y=R.expressDelivery)||void 0===y?void 0:y.insideCutoff,M=null==R||null===(p=R.expressDelivery)||void 0===p?void 0:p.isDisplayable,F=C&&m,x=O&&f;this.setCheckboxStatus({nextDayDeliveryIsSelected:Boolean(A),nextDayDeliveryIsDisabled:!(null!=o&&null!==(D=o.city)&&void 0!==D&&D.code)||(null==o||null===(I=o.city)||void 0===I?void 0:I.code)&&!F&&!A&&!P,nextDayDeliveryInsideCutoff:m,nextDayDeliveryHasProduct:C,nextDayDeliveryVisible:S,expressDeliveryIsSelected:Boolean(N),expressDeliveryIsDisabled:!(null!=o&&null!==(h=o.city)&&void 0!==h&&h.code)||(null==o||null===(T=o.city)||void 0===T?void 0:T.code)&&!x&&!N&&L,expressDeliveryInsideCutoff:f,expressDeliveryHasProduct:O,expressDeliveryVisible:M})}))}(c||u||d)&&this.fetchNewBrandProducts({areSelectedFiltersQueryParamsChanged:d}).then((e=>{w.Z.handlePageRendered(l),l(F.cq.setNextSeoInfo(e.result)),this.redirectIfNecessary(e.result.data),this.handlePageRendered()})),this.fetchNewFiltersIfNecessary(v,d,u,c),(c||u||d)&&this.handleBrandDependentLogic("update"),(!i.state||i.state&&!i.state.shouldAppendNewBrandProducts)&&this.verticalScrollViewRef.scrollToTop()}fetchNewFiltersIfNecessary(e,l){const{dispatch:t,match:i,queryParams:n,filterApiQueryParams:a}=this.props,{brandId:r}=i.params;if(l||e){let l;l=e?{...n,...a,[oe.M2.BRAND_PAGE]:r,[te.LG.SORT_BY]:null,[te.LG.PAGE]:null}:{...n,[te.LG.SORT_BY]:null,[te.LG.PAGE]:null,[oe.M2.BRAND_PAGE]:r},(0,q.V)(t(x.cq.getBrandFilters.trigger(l))),(0,q.V)(t(x.cq.getCampaignFilter.trigger(l)))}}sendWebtrekkData(){const{dispatch:e,match:{params:{brandId:l}},appliedFacetArray:t,userInfo:i,queryParams:n,totalBrandProductCount:a}=this.props,r=(0,W.EG)(n,t,a,a,"Markalar",l);(0,W.kp)(r,null==i?void 0:i.isAuthenticated),e(G.cq.sendWebtrekkEvent.trigger(r))}render(){var e;const{match:{params:{brandId:l}},history:t,queryParams:n,location:a,seoInfo:o,brandProductArray:s,brandInfo:d,brandProductPaginationParams:u,brandSeoInfo:c,totalBrandProductCount:E,brandSearchPass:g,totalBrandPageNumber:C,isFilterManagementPanelActive:m,pageFeatureToggleMap:f,filteredCategory:M,hasAppliedFilters:F,selectedFiltersByFacetMap:x,initialPageNumber:B,brandShippingType:G,dispatch:V,facetList:w,fragmentsMap:Y,isGetSplitProductVariantsPending:q,isAddToCartPending:H,cartCandidateProduct:k,brandPageBreadCrumbConfigArray:W,isGetBrandProductsPending:K,deliveryLocation:Z,deliveryInfo:Q,nextDayDeliverySelected:$,expressDeliverySelected:J,appliedSelectedAnyDeliveryValue:X,appliedFacetArray:z,campaignFilters:j,isBot:le}=this.props,{isLoadMoreModeEnabled:ne,isComponentRender:re,initialFilterHeight:oe,isOptimizeScriptLoad:ue}=this.state,ce=!!f&&f.get(ee._.DISPLAY_GLOBAL_CAMPAIGN_TEXT),ve=ce?v().campaignTextOnProduct:v().categoryPageStaticCampaignText,Ee=(0,U.yP)(n,ne)&&pe.isSeoContentAdditionalContentEnabled(n,F,B),_e={[ae.RB.DELIVERY]:null==Y?void 0:Y.get(ae.x$[ae.RB.DELIVERY].id.toString()),[ae.RB.BRAND_CONTENT]:null==Y?void 0:Y.get(ae.x$[ae.RB.BRAND_CONTENT].id.toString())};return r().createElement("div",{className:ge.Z.root},ue&&r().createElement(b.Z,{pageType:de.Dg}),r().createElement(T.Z,{seoInfo:o,helmetClientChanged:()=>this.setSeoInfo(o)}),re&&r().createElement(y.Z,{afterPageLoadSend:this.sendPageLoadCallback}),K&&r().createElement(I.Z,{show:!0}),r().createElement("div",null,r().createElement(D.Z,{ref:this.verticalScrollViewRefCallback},(null==W?void 0:W.length)&&r().createElement(P.Z,{location:a,isSchemaStructuredActive:!0,itemConfigs:W}),!_e[ae.RB.BRAND_CONTENT]&&s&&s.length&&r().createElement(R.Z,{title:(null==c?void 0:c.h1)||(null==d?void 0:d.name),count:E}),_e[ae.RB.BRAND_CONTENT]&&r().createElement(S.Z,{fragmentInfo:_e[ae.RB.BRAND_CONTENT],options:ae.x$[ae.RB.BRAND_CONTENT],renderMethodClientSide:!0}),s&&s.length>0&&r().createElement(A.default,{dispatch:V,pageTypeForDavinci:ie.ps.BRAND,pageValueForDavinci:null==d?void 0:d.name,hasAppliedFilters:F,sortType:n[te.LG.SORT_BY],initialFilterHeight:oe,onSortTypeChange:this.handleSortTypeChange,onFilterClick:this.handleFilterButtonClick}),(null==j||null===(e=j.items)||void 0===e?void 0:e.length)>0&&r().createElement(O.default,{campaigns:j,pageTypeForDavinci:ie.ps.BRAND,pageValueForDavinci:null==d?void 0:d.name,onViewProducts:this.handleViewProducts,isAmoungProduct:!1,queryParams:n}),_e[ae.RB.DELIVERY]&&r().createElement("div",{className:ge.Z.deliveryContainer},r().createElement(S.Z,{fragmentInfo:_e[ae.RB.DELIVERY],options:ae.x$[ae.RB.DELIVERY],renderMethodClientSide:!0})),s&&s.length>0&&r().createElement(_.Z,{className:ge.Z.hbProducts,category:M,products:s,deliveryLocation:Z,deliveryInfo:Q,currentPageNumber:u.pageNumber,totalPageNumber:C,seoInfo:c,history:t,totalProductCount:E,isInfiniteScroll:ne,isPending:K,itemProps:{shouldNotifyDavinci:!0,imgSize:se.zT,imageWidthSize:"300",imageHeightSize:"443",displayCampaignText:ce,campaignText:ve},canDisplayPlaceholder:!0,facetList:w,shippingType:G,pageTypeForDavinci:ie.ps.BRAND,selectedFiltersByFacetMap:x,isListingPage:!0,isBrandPage:!0,pageValueForDavinci:null==d?void 0:d.name,queryParams:n,location:a,pathname:a.pathname,searchPass:g,onPageChange:this.handleProductListViewPageChange,onListEnd:this.handleProductListViewLoadMore,isProductActionsPending:q||H,pendingProductIds:k?[k.productId]:[],breadCrumbItems:W,onViewProducts:this.handleViewProducts,campaignFilters:j,isBot:le}),r().createElement(p.default,{isActive:m,queryParams:n,pageTypeForDavinci:ie.ps.BRAND,pageValueForDavinci:null==d?void 0:d.name,pathname:a.pathname,hasAppliedFilters:F,onClose:this.handleFiltersPanelClose,onCategoryFilterChange:this.handleCategoryFilterChange,onViewProducts:this.handleViewProducts,onClearAllFiltersButtonClick:this.handleClearAllFiltersButtonClick,onClearFacetFiltersButtonClick:this.handleClearFacetFiltersButtonClick}),s&&0===s.length&&r().createElement(L.default,(0,i.default)({},X&&{NoResultComponent:N.default,deliveryLocation:Z,nextDayDeliverySelected:$,expressDeliverySelected:J,deliveryInfo:Q,category:M,appliedFacetArray:z},{dispatch:V,isListingPage:!0,products:s,currentPageNumber:u.pageNumber,category:M,pageTypeForDavinci:ie.ps.BRAND,pageValueForDavinci:null==d?void 0:d.name,location:a,queryParams:n,searchPass:g,shippingType:G,facetList:w,selectedFiltersByFacetMap:x,totalProductCount:E,seoInfo:c})),Ee&&r().createElement(h.Z,null))))}}(0,n.default)(pe,"isSeoContentAdditionalContentEnabled",((e,l)=>!(Boolean(e[te.LG.SORT_BY])||l))),(0,n.default)(pe,"isAdditionalContentEnabled",((e,l,t)=>!(Boolean(e[te.LG.SORT_BY])||l||(0,Q.v)(t)>=2)));const De=(0,o.connect)((e=>{const{accountState:{userInfo:l},featureToggleState:{pageFeatureToggleMap:t},brandState:{brandProductArray:i,brandProductPaginationParams:n,brandSeoInfo:a,totalBrandProductCount:r,brandSearchPass:o,initialPageNumber:s,brandShippingType:d,brandInfo:u},pendingState:{isGetBrandProductsPending:c,isAddToCartPending:v,isGetSplitProductVariantsPending:_},filterState:{filteredCategory:y,facetMap:p,initialFilteredCategory:D,isFilterManagementPanelActive:I,activeFacet:h,visibleSelectedFiltersByFacetMap:T,selectedFiltersByFacetMap:R,appliedFacetArray:P,campaignFilters:A,deliveryInfo:C,deliveryLocation:m,nextDayDeliverySelected:S,expressDeliverySelected:L,appliedSelectedAnyDeliveryValue:N},seoState:{seoInfo:O},cartState:{cartCandidateProduct:f},voltranState:{fragmentsMap:M},userAgentState:{isBot:F}}=e;return{pageFeatureToggleMap:t,userInfo:l,brandProductArray:i,brandProductPaginationParams:n,brandInfo:u,brandSeoInfo:a,totalBrandProductCount:r,brandSearchPass:o,brandShippingType:d,initialPageNumber:s,isGetBrandProductsPending:c,isAddToCartPending:v,isGetSplitProductVariantsPending:_,filteredCategory:y,facetMap:p,initialFilteredCategory:D,isFilterManagementPanelActive:I,activeFacet:h,visibleSelectedFiltersByFacetMap:T,selectedFiltersByFacetMap:R,appliedFacetArray:P,facetList:(0,g.Uj)(e),seoInfo:O,cartCandidateProduct:f,brandPageFilterQueryParams:(0,E.uq)(e),filterApiQueryParams:(0,g.ju)(e),filterApiQueryParamsString:(0,g.LM)(e),brandPageBreadCrumbConfigArray:(0,E._w)(e),hasAppliedFilters:(0,g.sy)(e),totalBrandPageNumber:(0,E.py)(e),fragmentsMap:M,campaignFilters:A,deliveryInfo:C,deliveryLocation:m,nextDayDeliverySelected:S,expressDeliverySelected:L,appliedSelectedAnyDeliveryValue:N,isBot:F}}))((0,C.Z)((0,m.Z)(pe)))},37009:(e,l,t)=>{t.d(l,{default:()=>ol});var i=t(13865),n=t(35610),a=t.n(n),r=t(17463),o=t.n(r),s=t(32192),d=t(7738),u=t(97181),c=t(6641),v=t(66727),E=t(15707),g=t.n(E),_=t(83346),y=t(14486),p=t.n(y),D=t(86955),I=t(90065),h=t(39892),T=t(63838),R=t(46124),P=t(12987),A=t(65843),C=t(83565),m=t(84713),S=t(86782),L=t(63570),N=t(27165),O=t(28600),f=t(62099),M=t(56620),F=t(80243),x=t(75792),B=t(18162),G=t(6039),V=t(78282),b=t(82867),w=t(81737),Y=t(13674),q=t(16332),H=t(91368),k=t(73426),U=t(86088),W=t(56837),K=t(17615),Z=t(14601),Q=t(73453),$=t(5489),J=t(58956),X=t(94180),z=t(22950),j=t(95155),ee=t(56019),le=t(86139),te=t(41910),ie=t(24373),ne=t(43422),ae=t(93455),re=t(12111),oe=t(50871),se=t(85967),de=t(48950),ue=t(14053),ce=t(89498),ve=t(94241),Ee=t(69822),ge=t(15543),_e=t(25877),ye=t(33871),pe=t(63990),De=t(82103),Ie=t(89729),he=t(24715),Te=t(63856),Re=t(23990),Pe=t(7282),Ae=t(53933),Ce=t(17813),me=t(63132),Se=t(24848),Le=t(61478),Ne=t(39286),Oe=t(45470),fe=t(96683),Me=t(92372),Fe=t(56789),xe=t(24005),Be=t(60810),Ge=t(14998),Ve=t(37952),be=t(37119);const we=(0,v.ZP)({resolved:{},chunkName:()=>"views-filter-management-panel-FilterManagementPanel",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,37492)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 37492}}),Ye=(0,v.ZP)({resolved:{},chunkName:()=>"views-category-no-result-view-NoResultViewWithAnalytics",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,69752)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 69752}}),qe=(0,v.ZP)({resolved:{},chunkName:()=>"partials-FilterBarWithSticky-FilterBarWithSticky",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,4017)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 4017}}),He=(0,v.ZP)({resolved:{},chunkName:()=>"partials-NoResult-Delivery-NoResultDeliveryView",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,36251)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 36251}}),ke=(0,v.ZP)({resolved:{},chunkName:()=>"views-dictionary-view-list-DictionaryList",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>t.e(2686).then(t.bind(t,68885)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 68885}}),Ue=(0,v.ZP)({resolved:{},chunkName:()=>"views-dictionary-view-detail-DictionaryDetail",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>t.e(1770).then(t.bind(t,75973)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 75973}}),We=(0,v.ZP)({resolved:{},chunkName:()=>"views-filter-campaignfilter-CampaignFilter",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,27795)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 27795}}),Ke=(0,v.ZP)({resolved:{},chunkName:()=>"components-ProductStatus-ProductStatus",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>t.e(7731).then(t.bind(t,62064)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 62064}}),Ze=(0,_.Z)({on:["visible"]})(ke),Qe=(0,_.Z)({on:["visible"]})(Ye),$e=(0,_.Z)({on:["visible"]})(fe.Z),Je=(0,_.Z)({on:["visible"]})(Ke),Xe="Category",ze=2,je=[j._.DISPLAY_GLOBAL_CAMPAIGN_TEXT,j._.USE_ARWEN_FOR_SUGGESTIONS_ON_MOBILE,j._.PAGE_LIMIT_IN_LISTING_PAGES,j._.DISPLAY_ITEM_COUNT_ON_CART_SF,j._.DISPLAY_RECOMMENDATIONS,j._.DISPLAY_FEEDBACK,j._.DISPLAY_FILTER_WIDGET,j._.ENABLE_ENSIGHTEN,j._.DISPLAY_THIRD_PRICE_WITH_BASKET,j._.USE_HIGH_QUALITY_IMAGES,j._.DISPLAY_DICTIONARY_CONTENT,j._.DISPLAY_WHATSAPP_ICON,j._.DISPLAY_LIKE_BUTTON_ON_LISTING_PAGES,j._.DISPLAY_CATEGORY_PAGES_FROM_CMS,j._.USE_CHECKOUT_VOLTRAN_ADD_TO_CART_OTHER_PAGE,j._.DISPLAY_JET_DELIVERY_WIDGET,j._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING,j._.ENABLE_GTM,j._.DISPLAY_CAMPAIGN_FILTER,j._.SERVER_SIDE_RENDER_FOR_PWA_CATEGORY_PAGE,j._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_CATEGORY_PAGE,j._.HIDE_JS_FROM_GOOGLEBOT,j._.DISPLAY_NEXT_DAY_DELIVERY,j._.DISPLAY_EXPRESS_DELIVERY,j._.DISPLAY_HEPSIGLOBAL_MODAL,j._.SHOW_QUICK_FILTER,j._.SHOW_JET_DELIVERY_IN_QUICK_FILTER,j._.LOAD_QUICK_FILTER_ON_CLIENT_SIDE,j._.USE_CLIENT_SIDE_ROUTE_PLP,j._.REMOVE_VOLTRAN_SCRIPTS_INITIAL_LOAD,j._.DISPLAY_BANNER_ENABLED_FOR_CATEGORY_PAGE,j._.ENABLE_POSTBACK_ON_PLP_FILTER_SUBMIT,j._.SHOW_DEFAULT_FILTER_AND_SORTING_BOXES,j._.ONLY_SINGLE_PRODUCT_IMAGE,j._.IS_CRITICAL_CSS,j._.ENABLE_FRIENDLY_URLS_FOR_CATEGORY_PAGES],el=(e,l,t,i,n)=>new Promise(i?e=>{l.redirection={type:K.B.MOVED_PERMANENTLY,url:n},e(l)}:(i,n)=>{l.redirection={type:K.B.MOVED_PERMANENTLY,url:(0,m.Yw)(e.pathname)+(0,m.T9)({...t,[X.LG.PAGE]:null})},i(l)}),ll=async(e,l)=>{var t,i;let n,a=[];const{queryParams:r,pathParams:o,isBot:s,cookies:d,isCollectionPage:u,friendlyUrl:c,url:v}=l,{brandIds:E,categoryUrlKeyword:g,categoryId:_}=o,y={serverSideRendering:!0,featureToggles:null,redirection:null,results:[],seoInfo:null},p=(0,B.o3)(null==d?void 0:d.location),I=await(0,h.V)(e(Ee.cq.getMobileCategoryPageFeatureToggles.trigger(je)));if(I.hasError)return y.isError=I.result,y;const T=(0,L.KV)(I.result.data.data);var R,S;null!=I&&null!==(t=I.result)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.data&&(y.featureToggles=null==I||null===(R=I.result)||void 0===R||null===(S=R.data)||void 0===S?void 0:S.data);if(s||null!=T&&T.get(j._.SERVER_SIDE_RENDER_FOR_PWA_CATEGORY_PAGE)||(y.serverSideRendering=!1),(0,A.yk)(r[X.LG.PAGE],null==T?void 0:T.get(j._.PAGE_LIMIT_IN_LISTING_PAGES)))n=await el(l,y,r,u,c);else if(s||null!=T&&T.get(j._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_CATEGORY_PAGE)){var N;const t=null==p||null===(N=p.town)||void 0===N?void 0:N.code,i=(0,P._G)({queryParams:r,receiverTownCode:t}),I=null==T?void 0:T.get(j._.LOAD_QUICK_FILTER_ON_CLIENT_SIDE),R=null==T?void 0:T.get(j._.SHOW_QUICK_FILTER),S=R&&(null==T?void 0:T.get(j._.SHOW_JET_DELIVERY_IN_QUICK_FILTER)),L=!S&&(null==T?void 0:T.get(j._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==T?void 0:T.get(j._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING)),B=null===G.g4||void 0===G.g4?void 0:G.g4.some((e=>e===_));let X,Ee;if(null!=T&&T.get(j._.DISPLAY_CATEGORY_PAGES_FROM_CMS)&&B&&await(0,h.V)(e(Te.cq.getCategoryLandingPageInfo.trigger(_,oe.C.MOBILE))).then((async l=>{var t,i;if(null==l||null===(t=l.result)||void 0===t||null===(i=t.data)||void 0===i||!i.data)return l;const n=(0,O.T)(l.result.data.data,_,oe.C.MOBILE);return n&&(X=await(0,h.V)(e(Re.cq.getCmsComponent.trigger([{name:n.value}])))),l})),L){var f,M,x,V,b,Y,q,H,k,U,W,Z,Q,$,z,ee,le,te,ie,ne,se,de,ue,ce;const t=await(0,h.V)(e(ye.cq.getDeliveryInfo.trigger({...r,...i,pageType:Xe,[J.M2.BRAND]:E,[J.M2.CATEGORY]:_,[J.M2.CITIES]:null==p||null===(f=p.city)||void 0===f?void 0:f.code,[J.M2.RECEIVER_CITY]:null==p||null===(M=p.city)||void 0===M?void 0:M.name,[J.M2.RECEIVER_TOWN]:null==p||null===(x=p.town)||void 0===x?void 0:x.name,[J.M2.RECEIVER_DISTRICT]:null==p||null===(V=p.district)||void 0===V?void 0:V.name},d))),n=null==t||null===(b=t.result)||void 0===b||null===(Y=b.data)||void 0===Y?void 0:Y.data;(0,F.k_)(r,p,n,l,y,m.QA);const o=(null==n||null===(q=n.nextDayDelivery)||void 0===q||null===(H=q.values)||void 0===H?void 0:H.length)>0,s=null==n||null===(k=n.nextDayDelivery)||void 0===k||null===(U=k.selectedValues)||void 0===U?void 0:U[0],u=null==n||null===(W=n.nextDayDelivery)||void 0===W?void 0:W.hasProduct,c=null==n||null===(Z=n.nextDayDelivery)||void 0===Z?void 0:Z.insideCutoff,v=null==n||null===(Q=n.nextDayDelivery)||void 0===Q?void 0:Q.isDisplayable,g=null==n||null===($=n.nextDayDelivery)||void 0===$||null===(z=$.values)||void 0===z?void 0:z[0],D=null==n||null===(ee=n.expressDelivery)||void 0===ee||null===(le=ee.selectedValues)||void 0===le?void 0:le[0],I=null==n||null===(te=n.expressDelivery)||void 0===te?void 0:te.hasProduct,R=null==n||null===(ie=n.expressDelivery)||void 0===ie?void 0:ie.insideCutoff,P=null==n||null===(ne=n.expressDelivery)||void 0===ne?void 0:ne.isDisplayable,A=u&&c,C=I&&R;e(ye.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(s),expressDeliverySelected:Boolean(D)})),a.push({...re.x$[re.RB.DELIVERY],paramater:{...re.x$[re.RB.DELIVERY].paramater,mobile:!0,selectorViewType:"bottom_sheet",nextDayDeliverySelected:Boolean(s),nextDayDeliveryDisabled:!(null!=p&&null!==(se=p.city)&&void 0!==se&&se.code)||!o||(null==p||null===(de=p.city)||void 0===de?void 0:de.code)&&!A&&!s,nextDayDeliveryInsideCutoff:Boolean(c),nextDayDeliveryHasProduct:u,nextDayDeliveryVisible:(null==T?void 0:T.get(j._.DISPLAY_NEXT_DAY_DELIVERY))&&v,expressDeliverySelected:Boolean(D),expressDeliveryDisabled:!(null!=p&&null!==(ue=p.city)&&void 0!==ue&&ue.code)||!g||(null==p||null===(ce=p.city)||void 0===ce?void 0:ce.code)&&!C&&!D,expressDeliveryInsideCutoff:Boolean(R),expressDeliveryHasProduct:I,expressDeliveryVisible:(null==T?void 0:T.get(j._.DISPLAY_EXPRESS_DELIVERY))&&P}})}if(R){const{url:t}=l,i=(0,w.CJ)({url:t,locationCookie:p});if(i)return y.redirection={isInternal:!0,type:K.B.MOVED_PERMANENTLY,url:i},y;I||(a.push((0,xe.m)({url:t,locationCookie:p})),S&&(await(0,w.Qu)({dispatch:e,queryParams:r,locationCookie:null==d?void 0:d.location}),a.push(re.x$[re.RB.SHIPPING_LOCATION])))}if(null!=T&&T.get(j._.DISPLAY_BANNER_ENABLED_FOR_CATEGORY_PAGE)){var ve;(null==o?void 0:o.brandIds)||(null===(ve=Object.keys(r))||void 0===ve?void 0:ve.length)>0||(Ee=await(0,h.V)(e(Re.cq.getCmsComponent.trigger([{categoryId:_,disableRetinaSupport:!s,...G.J}]))))}const _e={collectionpage:u||!1,friendlyurl:c||"",url:v};u&&e(ye.cq.updateURLForRedirection(c||"")),n=await(0,h.a)(Promise.all([...X?[(0,h.V)(e(ge.cq.getCategoryInformation.trigger(_,{isDynamic:!0})))]:[(0,h.V)(e(ge.cq.getCategoryProducts.trigger({...r,...i,[J.M2.BRAND]:E,[J.M2.CATEGORY]:_},d,_e))),(0,h.V)(e(ge.cq.getKeywordsForCategoryPage.trigger({categoryId:_}))),tl(e,_,{...r,...i},E,{...d,initialRequest:!0})],(null==a?void 0:a.length)>0&&await(0,h.V)(e(he.c.getFragments.trigger(a))),(null==T?void 0:T.get(j._.DISPLAY_CAMPAIGN_FILTER))&&(0,h.V)(e(ye.cq.getCampaignFilter.trigger({...r,[J.M2.BRAND]:E,[J.M2.CATEGORY]:_},d)))])).then((async l=>{var t,i,n,a,o,d,u,c,v,p,I;let R,[P,m]=l;if(P.hasError||m.hasError){if(P.statusCode===K.B.NOT_FOUND||m.statusCode===K.B.NOT_FOUND)return y.isNotFound=!0,y;y.isError=P.result||m.result}null!=y&&y.redirection||(y.redirection=(0,A.Gl)(P.result.data,g,_,r,E,X)),null!=T&&T.get(j._.DISPLAY_DICTIONARY_CONTENT)&&s&&(await(0,h.V)(e(Ie.cq.getDictionary.trigger(_))),r&&r[ae.rT]&&(R=await(0,h.V)(e(Ie.cq.getDictionaryDetail.trigger(_,r[ae.rT]))))),!y.redirection&&null!==(t=R)&&void 0!==t&&null!==(i=t.result)&&void 0!==i&&i.data&&(y.redirection=(0,C.uw)(R.result.data,g,_,r)),y.seoInfo=null==P||null===(n=P.result)||void 0===n||null===(a=n.data)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.seoInformation;const S=null==P||null===(d=P.result)||void 0===d||null===(u=d.data)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.products;return y.productList=null==S?void 0:S.map((e=>null==e?void 0:e.sku)),y.earlyHints=(0,D.Ni)({products:S,banner:null===(v=Ee)||void 0===v||null===(p=v.result)||void 0===p||null===(I=p[0])||void 0===I?void 0:I.result}),y}))}else n=y;return n},tl=(e,l,t,i,n)=>{const a={[J.M2.CATEGORY]:l};return t[J.M2.RATING]&&(a[J.M2.RATING]=t[J.M2.RATING]),t[J.M2.GENERIC_FILTERS]&&(a[J.M2.GENERIC_FILTERS]=t[J.M2.GENERIC_FILTERS]),t[J.M2.WORD]&&(a[J.M2.WORD]=t[J.M2.WORD]),t[J.M2.RECEIVER_TOWN_CODE]&&(a[J.M2.RECEIVER_TOWN_CODE]=t[J.M2.RECEIVER_TOWN_CODE]),i&&(a[J.M2.BRAND]=i),t[J.M2.SORT]&&(a[J.M2.SORT]=t[J.M2.SORT]),(0,h.V)(e(ye.cq.getFilters.trigger(a,n)))},il=e=>{var l,t,r,s,d,v,g;const _=(0,I.D)({...e,match:null!=e&&e.isCollectionPage&&{...null==e?void 0:e.initialMatch,params:{...null==e||null===(l=e.initialMatch)||void 0===l?void 0:l.params,categoryId:null==e||null===(t=e.match)||void 0===t||null===(r=t.params)||void 0===r?void 0:r.categoryId}}||(null==e?void 0:e.match)}),{dispatch:y,location:D,history:L,userInfo:O,queryParams:K,categoryProductArray:z,isFetching:ce,userInfoPromise:ve,pageFeatureToggleMap:Pe,isBot:Ae,routeChange:fe,seoInfo:Ye,serverSideRendering:ke,selectedFiltersByFacetMap:Ke,filteredCategory:el,categoryPageBreadCrumbConfigArray:ll,categorySeoInfo:il,subCategories:nl,isGetCategoryProductsPending:al,isGetNextCategoryProductsPending:rl,isGetCmsComponentPending:ol,totalCategoryPageNumber:sl,isClosedCategory:dl,initialPageNumber:ul,hasAppliedFilters:cl,hasAppliedFilterOnlyOneAuthor:vl,categoryProductPaginationParams:El,totalCategoryProductCount:gl,filterApiQueryParamsString:_l,categoryShippingType:yl,categorySearchPass:pl,facetList:Dl,dictionaryArray:Il,dictionaryDetail:hl,categoryName:Tl,fragmentsMap:Rl,isAddToCartPending:Pl,isGetSplitProductVariantsPending:Al,cartCandidateProduct:Cl,campaignFilters:ml,nextDayDeliverySelected:Sl,expressDeliverySelected:Ll,deliveryInfo:Nl,deliveryLocation:Ol,appliedSelectedAnyDeliveryValue:fl,appliedFacetArray:Ml,categoryLandingPageInfo:Fl,cmsComponentsMap:xl,filterApiQueryParams:Bl,categories:Gl,categoryPageFilterQueryParams:Vl,brandIdsPathParam:bl,initialFilteredCategory:wl,activeFacet:Yl,visibleSelectedFiltersByFacetMap:ql,nextDayDelivery:Hl,expressDelivery:kl,nextDayDeliveryCheckboxChecked:Ul,expressDeliveryCheckboxChecked:Wl,townToTownEAD:Kl,quickFilterViewCount:Zl,sortValue:Ql,selectedFilterCount:$l,isActiveAddToCart:Jl,algKey:Xl,keywordsForCategoryPage:zl,selectedFilter:jl,isCollectionPage:et,friendlyUrl:lt,url:tt,urlForRedirection:it}=e,nt=et&&{...null==e?void 0:e.initialMatch,params:{...null==e||null===(s=e.initialMatch)||void 0===s?void 0:s.params,categoryId:null==e||null===(d=e.match)||void 0===d||null===(v=d.params)||void 0===v?void 0:v.categoryId}}||(null==e?void 0:e.match),{params:{categoryId:at,brandIds:rt,categoryUrlKeyword:ot}}=nt,[st,dt]=(0,n.useState)(!1),[ut,ct]=(0,n.useState)(1===(K[X.LG.PAGE]||1)),[vt,Et]=(0,n.useState)(!1),[gt,_t]=(0,n.useState)(null),[yt,pt]=(0,n.useState)(null),[Dt,It]=(0,n.useState)(!0),[ht,Tt]=(0,n.useState)({}),Rt=(0,n.useMemo)((()=>{var e;return null==Ol||null===(e=Ol.town)||void 0===e?void 0:e.code}),[Ol]),Pt=(0,n.useMemo)((()=>(0,P._G)({queryParams:K,receiverTownCode:Rt})),[K,Rt]),{showQuickFilter:At,showJetDeliveryInQuickFilter:Ct,triggerQuickFilter:mt}=(0,W.Z)({featureToggleMap:Pe}),St=(0,n.useRef)(at),Lt=(0,n.useRef)(ot),Nt=(0,n.useRef)(null),Ot=(0,n.useRef)(Ol),ft=(0,n.useRef)(K),Mt=null==Pe?void 0:Pe.get(j._.ENABLE_FRIENDLY_URLS_FOR_CATEGORY_PAGES);(0,n.useEffect)((()=>{let e=bt();return k.Z.handlePageRenderStart(y,le.uF.CATEGORY,Boolean(e)),k.Z.handleDomLoaded(y,le.uF.CATEGORY,Boolean(e)),ve.then((async()=>{const l=(0,f.b)("location"),t=(0,B.o3)(l),i=null===G.g4||void 0===G.g4?void 0:G.g4.some((e=>e===at));ei(t),Pe||(await(0,Y.y)(),await(0,h.V)(y(Ee.cq.getMobileCategoryPageFeatureToggles.trigger(je))));const n=(null==Pe?void 0:Pe.get(j._.DISPLAY_CATEGORY_PAGES_FROM_CMS))&&i;if(e?(qt(),zt()):!e&&n&&await Vt().then((l=>{let[t,i]=l;var n;(e=bt(),e)&&(y(_e.cq.resetBannerState()),y(ge.cq.resetCategoryProducts()),y(ye.cq.resetFilterState()),y(ye.cq.closeFilterManagementPanel()),Kt(null==i||null===(n=i.result)||void 0===n?void 0:n.data),zt(),Ft())})),z&&!e)qt(),zt();else if(!z&&!e){var a,r,o,s;if(null!=Pe&&Pe.get(j._.DISPLAY_JET_DELIVERY_WIDGET)&&null!=Pe&&Pe.get(j._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING)&&!Ct)await(0,h.V)(y(ye.cq.getDeliveryInfo.trigger({...K,...Pt,pageType:Xe,[J.M2.BRAND]:rt,[J.M2.CATEGORY]:at,[J.M2.CITIES]:null==t||null===(a=t.city)||void 0===a?void 0:a.code,[J.M2.RECEIVER_CITY]:null==t||null===(r=t.city)||void 0===r?void 0:r.name,[J.M2.RECEIVER_TOWN]:null==t||null===(o=t.town)||void 0===o?void 0:o.name,[J.M2.RECEIVER_DISTRICT]:null==t||null===(s=t.district)||void 0===s?void 0:s.name}))).then((e=>{var l,i,n,a,r,o,s,d,u,c,v,E,g,_,y,p,D,I,h,T;const R=null==e||null===(l=e.result)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.data,P=(null==R||null===(n=R.nextDayDelivery)||void 0===n||null===(a=n.values)||void 0===a?void 0:a.length)>0,A=null==R||null===(r=R.nextDayDelivery)||void 0===r||null===(o=r.selectedValues)||void 0===o?void 0:o[0],C=null==R||null===(s=R.nextDayDelivery)||void 0===s?void 0:s.hasProduct,m=null==R||null===(d=R.nextDayDelivery)||void 0===d?void 0:d.insideCutoff,S=null==R||null===(u=R.nextDayDelivery)||void 0===u?void 0:u.isDisplayable,L=(null==R||null===(c=R.expressDelivery)||void 0===c||null===(v=c.values)||void 0===v?void 0:v.length)>0,N=null==R||null===(E=R.expressDelivery)||void 0===E||null===(g=E.selectedValues)||void 0===g?void 0:g[0],O=null==R||null===(_=R.expressDelivery)||void 0===_?void 0:_.hasProduct,f=null==R||null===(y=R.expressDelivery)||void 0===y?void 0:y.insideCutoff,M=null==R||null===(p=R.expressDelivery)||void 0===p?void 0:p.isDisplayable,F=C&&m,x=O&&f;jt({nextDayDeliveryIsSelected:Boolean(A),nextDayDeliveryIsDisabled:!(null!=t&&null!==(D=t.city)&&void 0!==D&&D.code)||!P||(null==t||null===(I=t.city)||void 0===I?void 0:I.code)&&!F&&!A,nextDayDeliveryInsideCutoff:m,nextDayDeliveryHasProduct:C,nextDayDeliveryVisible:S,expressDeliveryIsSelected:Boolean(N),expressDeliveryIsDisabled:!(null!=t&&null!==(h=t.city)&&void 0!==h&&h.code)||!L||(null==t||null===(T=t.city)||void 0===T?void 0:T.code)&&!x&&!N,expressDeliveryInsideCutoff:f,expressDeliveryHasProduct:f,expressDeliveryVisible:M})}));Ct&&await(0,w.Qu)({dispatch:y,queryParams:K,locationCookie:l});const e=(0,q.$1)();tl(y,at,K,rt,e).then((()=>{null!=Pe&&Pe.get(j._.DISPLAY_CAMPAIGN_FILTER)&&(0,h.V)(y(ye.cq.getCampaignFilter.trigger({...K,[J.M2.BRAND]:rt,[J.M2.CATEGORY]:at})))}));const i={collectionpage:(0,H.UX)()||!1,friendlyurl:lt||"",url:tt};(0,h.V)(y(ge.cq.getCategoryProducts.trigger({...K,...Pt,[J.M2.BRAND]:rt,[J.M2.CATEGORY]:at},e,i))).then((e=>{ri(e.result.data),Kt(e.result.data),zt(),Ft()}))}kt("create")})),e||(Qt(),li(),ii()),()=>{var e,l,t,i,n,a,r,o,s,d;y(ge.cq.getCategoryProducts.cancel()),y(ge.cq.getNextCategoryProducts.cancel()),y(ye.cq.getFilters.cancel()),y(ye.cq.getNextFilters.cancel()),y(ye.cq.getCampaignFilter.cancel()),y(Ee.cq.getMobileCategoryPageFeatureToggles.cancel()),y(Ie.cq.getDictionary.cancel()),y(Ie.cq.getDictionaryDetail.cancel()),y(Te.cq.getCategoryLandingPageInfo.cancel()),y(Re.cq.getCmsComponent.cancel()),null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.off(Q.W9,ti),null===(t=window)||void 0===t||null===(i=t.HbEventBus)||void 0===i||i.off($._A,ni),null===(n=window)||void 0===n||null===(a=n.HbEventBus)||void 0===a||a.emit(Q.Th,!1),null===(r=window)||void 0===r||null===(o=r.HbEventBus)||void 0===o||o.emit(Q.Zw,!1),null===(s=window)||void 0===s||null===(d=s.HbEventBus)||void 0===d||d.emit(Q.bQ,{removeEventListener:!0}),It(!1)}}),[]),(0,U.S)((()=>{Gt(_)}),[D]),(0,U.S)((()=>{ft.current=K}),[K]),(0,U.S)((()=>{bt()||(Qt(),window.addEventListener("popstate",((e,l)=>{_.location.hash===Q.ee&&window.location.hash!==_.location.hash&&(y(ye.cq.resetActiveFacet()),y(ye.cq.restorePreviousFilterState()),Jt())})))}),[Fl,xl]);const Ft=()=>{const e=bt();qt(),k.Z.handleDomLoaded(y,le.uF.CATEGORY,Boolean(e))},xt=function(e){let{isReplace:l=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=bt();y(l?(0,c.gx)(e):(0,c.VF)(e)),k.Z.handlePageRenderStart(y,le.uF.CATEGORY,Boolean(t))},Bt=function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=Mt&&(0,H.UX)(),i=(0,m.T9)({...t?{}:K,[X.LG.PAGE]:e>1?e:null});let n=Z._1[Z.VT.MOBILE].CATEGORY_PAGE;et?n=Z._1[Z.VT.MOBILE].HURLY_CATEGORY_PAGE:nt.params.brandIds&&(n=Z._1[Z.VT.MOBILE].BRAND_CATEGORY_PAGE),xt({pathname:t?D.pathname:(0,R.RC)(n,nt.params),search:i,state:{shouldAppendNewCategoryProducts:l}},{isReplace:!0})},Gt=async e=>{const l=Ht(e),t=e.match.params.categoryId!==at,i=e.location.search===D.search,n=parseInt(e.queryParams[X.LG.PAGE]||1)!==parseInt(K[X.LG.PAGE]||1),a=e.queryParams[X.LG.SORT_BY]!==K[X.LG.SORT_BY],r=(0,m.bO)(window.location.hash),o=null===G.g4||void 0===G.g4?void 0:G.g4.some((e=>e===at)),s=(null==Pe?void 0:Pe.get(j._.DISPLAY_CATEGORY_PAGES_FROM_CMS))&&o,d=e.queryParams[J.M2.GENERIC_FILTERS]!==K[J.M2.GENERIC_FILTERS],u=i||Boolean(window.location.hash);if((e.queryParams[X.LG.PAGE]&&!K[X.LG.PAGE]||!n||l)&&d&&At&&!u){var c,v;const e=null==Ot||null===(c=Ot.current)||void 0===c?void 0:c.city,l=null==Ot||null===(v=Ot.current)||void 0===v?void 0:v.town,t=e&&l?{cityCode:null==e?void 0:e.code,receiverTownCode:null==l?void 0:l.code}:{};mt({address:t})}let E;if(t&&(St.current=at,Lt.current=ot),t&&s&&await Vt().then((e=>{let[l,t]=e;var i;(E=bt(),E)&&(y(ge.cq.resetCategoryProducts()),y(ye.cq.resetFilterState()),y(ye.cq.closeFilterManagementPanel()),Kt(null==t||null===(i=t.result)||void 0===i?void 0:i.data),zt(),Ft())})),(t||l)&&null!=Pe&&Pe.get(j._.DISPLAY_JET_DELIVERY_WIDGET)&&null!=Pe&&Pe.get(j._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING)&&!Ct){var g,_,p,I;if((0,F.YT)(K,Ol)){let e;e=rt?Z._1[Z.VT.MOBILE].BRAND_CATEGORY_PAGE:Z._1[Z.VT.MOBILE].CATEGORY_PAGE;const l=(0,m.T9)({...(0,F.kw)(K,Ol)});xt({pathname:(0,R.RC)(e,nt.params),search:l},{isReplace:!0})}(0,h.V)(y(ye.cq.getDeliveryInfo.trigger({...K,...Pt,pageType:Xe,[J.M2.BRAND]:rt,[J.M2.CATEGORY]:at,[J.M2.CITIES]:null==Ol||null===(g=Ol.city)||void 0===g?void 0:g.code,[J.M2.RECEIVER_CITY]:null==Ol||null===(_=Ol.city)||void 0===_?void 0:_.name,[J.M2.RECEIVER_TOWN]:null==Ol||null===(p=Ol.town)||void 0===p?void 0:p.name,[J.M2.RECEIVER_DISTRICT]:null==Ol||null===(I=Ol.district)||void 0===I?void 0:I.name}))).then((e=>{var l,t,i,n,a,r,o,s,d,u,c,v,E,g,_,y,p,D,I,h;const T=null==e||null===(l=e.result)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data,R=(null==T||null===(i=T.nextDayDelivery)||void 0===i||null===(n=i.values)||void 0===n?void 0:n.length)>0,P=null==T||null===(a=T.nextDayDelivery)||void 0===a||null===(r=a.selectedValues)||void 0===r?void 0:r[0],A=null==T||null===(o=T.nextDayDelivery)||void 0===o?void 0:o.hasProduct,C=null==T||null===(s=T.nextDayDelivery)||void 0===s?void 0:s.insideCutoff,m=null==T||null===(d=T.nextDayDelivery)||void 0===d?void 0:d.isDisplayable,S=(null==T||null===(u=T.expressDelivery)||void 0===u||null===(c=u.values)||void 0===c?void 0:c.length)>0,L=null==T||null===(v=T.expressDelivery)||void 0===v||null===(E=v.selectedValues)||void 0===E?void 0:E[0],N=null==T||null===(g=T.expressDelivery)||void 0===g?void 0:g.hasProduct,O=null==T||null===(_=T.expressDelivery)||void 0===_?void 0:_.insideCutoff,f=null==T||null===(y=T.expressDelivery)||void 0===y?void 0:y.isDisplayable,M=A&&C,F=N&&O;jt({nextDayDeliveryIsSelected:Boolean(P),nextDayDeliveryIsDisabled:!(null!=Ol&&null!==(p=Ol.city)&&void 0!==p&&p.code)||!R||(null==Ol||null===(D=Ol.city)||void 0===D?void 0:D.code)&&!M&&!P,nextDayDeliveryInsideCutoff:C,nextDayDeliveryHasProduct:A,nextDayDeliveryVisible:m,expressDeliveryIsSelected:Boolean(L),expressDeliveryIsDisabled:!(null!=Ol&&null!==(I=Ol.city)&&void 0!==I&&I.code)||!S||(null==Ol||null===(h=Ol.city)||void 0===h?void 0:h.code)&&!F&&!L,expressDeliveryInsideCutoff:O,expressDeliveryHasProduct:N,expressDeliveryVisible:f})}))}if((t||l)&&Ct){const e=(0,f.b)("location");await(0,w.Qu)({dispatch:y,queryParams:K,locationCookie:e})}(a||t||n||l)&&!E&&wt({areSelectedFiltersQueryParamsChanged:l}).then((e=>{var l,t;y(pe.cq.setNextSeoInfo(null==e?void 0:e.result)),ri(null==e||null===(l=e.result)||void 0===l?void 0:l.data),Kt(null==e||null===(t=e.result)||void 0===t?void 0:t.data),zt(),Ft()})),E||Yt(t,l,i,n,a),null!=Pe&&Pe.get(j._.DISPLAY_DICTIONARY_CONTENT)&&K[ae.rT]&&(0,h.V)(y(Ie.cq.getDictionaryDetail.trigger(at,K[ae.rT]))).then((e=>{Zt(e.result.data)})),t&&kt("update"),D.state&&(!D.state||D.state.shouldAppendNewCategoryProducts)||r.sortId||Nt.current.scrollToTop()},Vt=async()=>{let e=null;return await(0,h.V)(y(Te.cq.getCategoryLandingPageInfo.trigger(St.current,oe.C.MOBILE))),null!=Fl&&Fl.value&&(e=Promise.all([(0,h.V)(y(Re.cq.getCmsComponent.trigger([{name:Fl.value}]))),(0,h.V)(y(ge.cq.getCategoryInformation.trigger(St.current,{isDynamic:!0})))])),e||Promise.all([Promise.resolve()])},bt=()=>null==xl?void 0:xl.get(null==Fl?void 0:Fl.value),wt=e=>{let l,t,{areSelectedFiltersQueryParamsChanged:i,address:n,additionalQueryParams:a}=e;const r=(0,q.$1)(),o={collectionpage:(0,H.UX)()||!1,friendlyurl:lt||"",url:tt};l=i?{...K,...a,[J.M2.BRAND]:nt.params.brandIds,[J.M2.CATEGORY]:St.current}:{...K,...a,...Bl,[J.M2.CATEGORY]:St.current};const{receiverTownCode:s}=null!=n&&n.receiverTownCode?n:Pt;return t=D.state&&D.state.shouldAppendNewCategoryProducts?(0,h.V)(y(ge.cq.getNextCategoryProducts.trigger({...l,receiverTownCode:s},r,o))):(0,h.V)(y(ge.cq.getCategoryProducts.trigger({...l,receiverTownCode:s},r,o))),t},Yt=(e,l,t)=>{if(!(0,m.bO)(window.location.hash).sortId&&(l||e)){let l;l=e&&t?{...K,...Bl,[X.LG.SORT_BY]:null,[X.LG.PAGE]:null,[J.M2.CATEGORY]:St.current}:{...K,[X.LG.SORT_BY]:null,[X.LG.PAGE]:null,[J.M2.CATEGORY]:St.current,[J.M2.BRAND]:rt};const i=(0,q.$1)();(0,h.V)(y(ye.cq.getFilters.trigger({...l,...Pt},i))),null!=Pe&&Pe.get(j._.DISPLAY_CAMPAIGN_FILTER)&&(0,h.V)(y(ye.cq.getCampaignFilter.trigger(l)))}},qt=()=>{const e=(0,S.$m)(el||Gl),l=(0,S.d4)(e.join("-"));(0,S.kp)(l,O.isAuthenticated),(0,S.Cx)(el||Gl,l),(0,S.oE)(Ml,l,dl),(0,h.V)(y(De.cq.sendWebtrekkEvent.trigger(l)))},Ht=e=>{let l=!1;return(0,E.forEach)({...K,...e.queryParams},((t,i)=>{i!==X.LG.PAGE&&i!==X.LG.SORT_BY&&e.queryParams[i]!==K[i]&&(l=!0)})),l||nt.params.brandIds===e.match.params.brandIds||(l=!0),l},kt=e=>{const l=bt();null!=Pe&&Pe.get(j._.DISPLAY_DICTIONARY_CONTENT)&&(!(null!=Il&&Il.length)>0||"update"===e)&&(0,h.V)(y(Ie.cq.getDictionary.trigger(St.current))),l||Ut()},Ut=()=>{const e=[];if(null!=Rl&&Rl.get(re.x$[re.RB.FAVORITE].id.toString())||null==Pe||!Pe.get(j._.DISPLAY_LIKE_BUTTON_ON_LISTING_PAGES)||e.push(re.x$[re.RB.FAVORITE]),null!=Rl&&Rl.get(re.x$[re.RB.ADD_TO_CART].id.toString())||null==Pe||!Pe.get(j._.USE_CHECKOUT_VOLTRAN_ADD_TO_CART_OTHER_PAGE)||e.push(re.x$[re.RB.ADD_TO_CART]),(null==Rl||!Rl.get(re.x$[re.RB.DELIVERY].id.toString()))&&null!=Pe&&Pe.get(j._.DISPLAY_JET_DELIVERY_WIDGET)&&null!=Pe&&Pe.get(j._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING)&&!Ct){var l,t,i,n,a,r,o,s,d,u,c,v,E,g,_,p,I,T;const y=(null==Nl||null===(l=Nl.nextDayDelivery)||void 0===l||null===(t=l.values)||void 0===t?void 0:t.length)>0,D=null==Nl||null===(i=Nl.nextDayDelivery)||void 0===i||null===(n=i.selectedValues)||void 0===n?void 0:n[0],h=null==Nl||null===(a=Nl.nextDayDelivery)||void 0===a?void 0:a.hasProduct,R=null==Nl||null===(r=Nl.nextDayDelivery)||void 0===r?void 0:r.insideCutoff,P=null==Nl||null===(o=Nl.nextDayDelivery)||void 0===o?void 0:o.isDisplayable,A=(null==Nl||null===(s=Nl.expressDelivery)||void 0===s||null===(d=s.values)||void 0===d?void 0:d.length)>0,C=null==Nl||null===(u=Nl.expressDelivery)||void 0===u||null===(c=u.selectedValues)||void 0===c?void 0:c[0],m=null==Nl||null===(v=Nl.expressDelivery)||void 0===v?void 0:v.hasProduct,S=null==Nl||null===(E=Nl.expressDelivery)||void 0===E?void 0:E.insideCutoff,L=null==Nl||null===(g=Nl.expressDelivery)||void 0===g?void 0:g.isDisplayable,N=h&&R,O=m&&S;e.push({...re.x$[re.RB.DELIVERY],paramater:{...re.x$[re.RB.DELIVERY].paramater,mobile:!0,selectorViewType:"bottom_sheet",nextDayDeliverySelected:Boolean(D),nextDayDeliveryDisabled:!(null!=Ol&&null!==(_=Ol.city)&&void 0!==_&&_.code)||!y||(null==Ol||null===(p=Ol.city)||void 0===p?void 0:p.code)&&!N&&!D,nextDayDeliveryInsideCutoff:Boolean(R),nextDayDeliveryHasProduct:Boolean(h),nextDayDeliveryVisible:(null==Pe?void 0:Pe.get(j._.DISPLAY_NEXT_DAY_DELIVERY))&&P,expressDeliverySelected:Boolean(C),expressDeliveryDisabled:!(null!=Ol&&null!==(I=Ol.city)&&void 0!==I&&I.code)||!A||(null==Ol||null===(T=Ol.city)||void 0===T?void 0:T.code)&&!O&&!C,expressDeliveryInsideCutoff:Boolean(S),expressDeliveryHasProduct:Boolean(m),expressDeliveryVisible:(null==Pe?void 0:Pe.get(j._.DISPLAY_EXPRESS_DELIVERY))&&L}})}if((null==Rl||!Rl.get(re.x$[re.RB.MORIA_LISTING].id.toString()))&&At){const l=(0,B.o3)((0,f.b)("location")||""),t=Mt?tt:`${null==D?void 0:D.pathname}${null==D?void 0:D.search}`;e.push((0,xe.m)({url:t,locationCookie:l})),null!=Rl&&Rl.get(re.x$[re.RB.SHIPPING_LOCATION].id.toString())||!Ct||e.push(re.x$[re.RB.SHIPPING_LOCATION])}if((null==e?void 0:e.length)>0){const l=null==e?void 0:e.filter((e=>e));(0,h.V)(y(he.c.getFragments.trigger(l)))}},Wt=e=>{if(e&&(null==e?void 0:e.url)!==window.location.href)if(null!=e&&e.isInternal){const[l,t]=e.url.split(ee.g);xt({pathname:l,search:t,state:{shouldPreserveInitialFilteredCategory:!0}},{isReplace:!0})}else window.location.replace(e.url)},Kt=e=>{const l=bt(),t=(0,A.Gl)(e,Lt.current,St.current,K,rt,l);Wt(t)},Zt=e=>{const l=(0,C.uw)(e,Lt.current,St.current,K);Wt(l)},Qt=async()=>{const e=document.getElementById("headroom"),l=document.getElementById("headroomForCampaign"),t=document.getElementById("filterBar"),i=document.getElementById("campaignFilter");null!==e&&0!==e.offsetTop&&(await(0,Y.y)(),_t(l&&i&&t?l.offsetTop+i.offsetHeight:e.offsetTop+t.offsetHeight)),null!==l&&0!==l.offsetTop&&(await(0,Y.y)(),pt(l.offsetTop+i.offsetHeight))},$t=async()=>{await(0,Y.y)(),dt(!0),await(0,Y.y)(),y(ye.cq.openFilterManagementPanel())},Jt=async(e,l)=>{const t=null==Pe?void 0:Pe.get(j._.ENABLE_POSTBACK_ON_PLP_FILTER_SUBMIT);"submit"===l&&t||(await(0,Y.y)(),y(ye.cq.closeFilterManagementPanel()),requestAnimationFrame((()=>{setTimeout((()=>{dt(!1)}),0)})))},Xt=()=>{if(Mt&&it)return void(window.location.href=`${null===p()||void 0===p()?void 0:p().sfBaseUrl}${it}`);let e;const l=(0,m.T9)({...Vl,[X.LG.SORT_BY]:Ql||""===Ql?Ql:K[X.LG.SORT_BY],[ae.rT]:K[ae.rT]},{withPrefix:!0,encode:!1});e=bl?(0,R.RC)(Z._1[Z.VT.MOBILE].BRAND_CATEGORY_PAGE,{brandIds:bl,categoryId:St.current,categoryUrlKeyword:Lt.current}):(0,R.RC)(Z._1[Z.VT.MOBILE].CATEGORY_PAGE,{categoryId:St.current,categoryUrlKeyword:Lt.current});const t={pathname:e,search:l,state:{shouldPreserveInitialFilteredCategory:!0}};(null==Pe?void 0:Pe.get(j._.ENABLE_POSTBACK_ON_PLP_FILTER_SUBMIT))?window.location.href=`${null==t?void 0:t.pathname}${null==t?void 0:t.search}`:xt(t)},zt=async()=>{k.Z.handlePageRendered(y),"complete"===document.readyState&&(vt||(await(0,Y.y)(),Et(!0)))},jt=e=>{var l,t,i,n,a,r;let o={...ht,...e};null===(l=window)||void 0===l||null===(t=l.HbEventBus)||void 0===t||t.emit(Q.Yh,{nextDayDeliveryIsDisabled:o.nextDayDeliveryIsDisabled,expressDeliveryIsDisabled:o.expressDeliveryIsDisabled,nextDayDeliveryInsideCutoff:o.nextDayDeliveryInsideCutoff,expressDeliveryInsideCutoff:o.expressDeliveryInsideCutoff,nextDayDeliveryHasProduct:o.nextDayDeliveryHasProduct,expressDeliveryHasProduct:o.expressDeliveryHasProduct}),null===(i=window)||void 0===i||null===(n=i.HbEventBus)||void 0===n||n.emit(Q.Th,{nextDayDeliveryIsSelected:o.nextDayDeliveryIsSelected&&!o.nextDayDeliveryIsDisabled,expressDeliveryIsSelected:o.expressDeliveryIsSelected&&!o.expressDeliveryIsDisabled}),null===(a=window)||void 0===a||null===(r=a.HbEventBus)||void 0===r||r.emit(Q.Zw,{nextDayDeliveryVisible:(null==Pe?void 0:Pe.get(j._.DISPLAY_NEXT_DAY_DELIVERY))&&o.nextDayDeliveryVisible,expressDeliveryVisible:(null==Pe?void 0:Pe.get(j._.DISPLAY_EXPRESS_DELIVERY))&&o.expressDeliveryVisible}),y(ye.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(o.nextDayDeliveryIsSelected&&!o.nextDayDeliveryIsDisabled),expressDeliverySelected:Boolean(o.expressDeliveryIsSelected&&!o.expressDeliveryIsDisabled)})),Tt(o)},ei=async e=>{const l=!Ct&&(null==Pe?void 0:Pe.get(j._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==Pe?void 0:Pe.get(j._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING));Ot.current=e,l&&(await(0,Y.y)(),y(ye.cq.setDeliveryLocation(e)))},li=()=>{var e,l;null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.on(Q.W9,ti)},ti=e=>{var l;let t,i,n,a,r=null==Dl?void 0:Dl.find((l=>l.customFacetId===e.clickedCheckboxType));var o;((null==e?void 0:e.clickedCheckboxType)===Q.yi?(t=null==Hl?void 0:Hl.selectedValues,i=null==Hl?void 0:Hl.hasProduct,n=null==Hl?void 0:Hl.insideCutoff,a=i&&n):(null==e?void 0:e.clickedCheckboxType)===Q.XJ&&(t=null==kl?void 0:kl.selectedValues,i=null==kl?void 0:kl.hasProduct,n=null==kl?void 0:kl.insideCutoff,a=i&&n),a||(null==e?void 0:e.clickedCheckboxType)!==Q.yi||null===(l=t)||void 0===l||!l.length)?r&&y(ye.cq.getUpdateFilterSelection.trigger(null==r?void 0:r.id,null==r||null===(o=r.filterList)||void 0===o?void 0:o.first(),{isSingleSelection:!0})).then((()=>{var l;y(ye.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(e.nextDayDeliverySelected),expressDeliverySelected:Boolean(e.expressDeliverySelected)})),y(De.cq.sendFilterFacetClick.trigger((0,M.fv)(r,null==r||null===(l=r.filterList)||void 0===l?void 0:l.first(),null,St.current,le.ps.CATEGORY,{target:{checked:(null==e?void 0:e.clickedCheckboxType)===Q.yi?Boolean(e.nextDayDeliverySelected):Boolean(e.expressDeliverySelected)}},!1,"top"))),ai()})):L.push((0,x.V)(D))},ii=()=>{var e,l;if(null!=Pe&&Pe.get(j._.DISPLAY_JET_DELIVERY_WIDGET)&&null!=Pe&&Pe.get(j._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING)&&!Ct)null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.on($._A,ni);else if(Ct){var t,i;null===(t=window)||void 0===t||null===(i=t.HbEventBus)||void 0===i||i.on($._A,(async e=>{var l,t,i,n,a,r;const o=(0,f.b)("location");await(0,w.Qu)({dispatch:y,queryParams:null==ft?void 0:ft.current,locationCookie:o});const s=(null==Ot||null===(l=Ot.current)||void 0===l||null===(t=l.city)||void 0===t?void 0:t.code)===(null==e||null===(i=e.city)||void 0===i?void 0:i.code)&&(null==Ot||null===(n=Ot.current)||void 0===n||null===(a=n.town)||void 0===a?void 0:a.code)!==(null==e||null===(r=e.town)||void 0===r?void 0:r.code),d=null===w.ew||void 0===w.ew?void 0:w.ew.some((e=>{var l,t;return null==ft||null===(l=ft.current)||void 0===l||null===(t=l.filtreler)||void 0===t?void 0:t.includes(e)}));var u;s&&d&&((e,l)=>{wt({address:{receiverTownCode:e||""},additionalQueryParams:l}).then((e=>{var l,t;y(pe.cq.setNextSeoInfo(null==e?void 0:e.result)),ri(null==e||null===(l=e.result)||void 0===l?void 0:l.data),Kt(null==e||null===(t=e.result)||void 0===t?void 0:t.data),zt(),Ft()}))})(null==e||null===(u=e.town)||void 0===u?void 0:u.code,ft.current);ei(e)}))}},ni=e=>{var l,t,i,n;e||jt({nextDayDeliveryIsSelected:!1,nextDayDeliveryIsDisabled:!1,nextDayDeliveryInsideCutoff:!1,nextDayDeliveryHasProduct:!1,expressDeliveryIsDisabled:!1,expressDeliveryIsSelected:!1,expressDeliveryInsideCutoff:!1,expressDeliveryHasProduct:!1}),y(ye.cq.getDeliveryInfo.trigger({...!fl&&Bl,...Pt,pageType:Xe,[J.M2.CATEGORY]:St.current,[J.M2.BRAND]:rt,[J.M2.CITIES]:null==e||null===(l=e.city)||void 0===l?void 0:l.code,[J.M2.RECEIVER_CITY]:null==e||null===(t=e.city)||void 0===t?void 0:t.name,[J.M2.RECEIVER_TOWN]:null==e||null===(i=e.town)||void 0===i?void 0:i.name,[J.M2.RECEIVER_DISTRICT]:null==e||null===(n=e.district)||void 0===n?void 0:n.name})).then((async l=>{var t,i,n,a,r,o,s,d,u,c,v,E,g,_,p;const D=null==l||null===(t=l.data)||void 0===t?void 0:t.data,I=(null==D||null===(i=D.nextDayDelivery)||void 0===i||null===(n=i.values)||void 0===n?void 0:n.length)>0,h=null==D||null===(a=D.nextDayDelivery)||void 0===a||null===(r=a.selectedValues)||void 0===r?void 0:r[0],T=null==D||null===(o=D.nextDayDelivery)||void 0===o?void 0:o.hasProduct,R=null==D||null===(s=D.nextDayDelivery)||void 0===s?void 0:s.insideCutoff,P=null==D||null===(d=D.nextDayDelivery)||void 0===d?void 0:d.isDisplayable,A=(null==D||null===(u=D.expressDelivery)||void 0===u||null===(c=u.values)||void 0===c?void 0:c.length)>0,C=null==D||null===(v=D.expressDelivery)||void 0===v||null===(E=v.selectedValues)||void 0===E?void 0:E[0],m=null==D||null===(g=D.expressDelivery)||void 0===g?void 0:g.hasProduct,S=null==D||null===(_=D.expressDelivery)||void 0===_?void 0:_.insideCutoff,L=null==D||null===(p=D.expressDelivery)||void 0===p?void 0:p.isDisplayable,N=T&&R,O=m&&S;var f,M,F,x;Ul||jt({nextDayDeliveryIsSelected:Boolean(h),nextDayDeliveryIsDisabled:!(null!=e&&null!==(f=e.city)&&void 0!==f&&f.code)||!I||(null==e||null===(M=e.city)||void 0===M?void 0:M.code)&&!N&&!h,nextDayDeliveryInsideCutoff:R,nextDayDeliveryHasProduct:T,nextDayDeliveryVisible:P});Wl||jt({expressDeliveryIsSelected:Boolean(C),expressDeliveryIsDisabled:!(null!=e&&null!==(F=e.city)&&void 0!==F&&F.code)||!A||(null==e||null===(x=e.city)||void 0===x?void 0:x.code)&&!O&&!C,expressDeliveryInsideCutoff:S,expressDeliveryHasProduct:m,expressDeliveryVisible:L});if(ei(e),!e&&Ul){let e=null==Dl?void 0:Dl.find((e=>e.customFacetId===Q.yi));var B;if(e)await y(ye.cq.getUpdateFilterSelection.trigger(null==e?void 0:e.id,null==e||null===(B=e.filterList)||void 0===B?void 0:B.first(),{isSingleSelection:!0}))}if(!e&&Wl){let e=null==Dl?void 0:Dl.find((e=>e.customFacetId===Q.XJ));var G;if(e)await y(ye.cq.getUpdateFilterSelection.trigger(null==e?void 0:e.id,null==e||null===(G=e.filterList)||void 0===G?void 0:G.first(),{isSingleSelection:!0}))}ai()}))},ai=()=>{Xt()},ri=e=>{var l,t,i,n;let a=(null==e||null===(l=e.data)||void 0===l?void 0:l.chatOptions)&&Array.isArray(null==e||null===(t=e.data)||void 0===t?void 0:t.chatOptions)&&(null==e||null===(i=e.data)||void 0===i?void 0:i.chatOptions.length)>0;window.categoryPageModel={chatOptions:a?null==e||null===(n=e.data)||void 0===n?void 0:n.chatOptions:null}},oi=((e,l,t,i)=>!(Boolean(e[X.LG.SORT_BY])||l||t||(0,T.v)(i)>=ze))(K,Boolean((0,m.UQ)(_l,[J.M2.CATEGORY])),dl,ul);let si;const di=fe||!ke,ui=(0,N.yP)(K,ut),ci=K[X.LG.SORT_BY]||K[X.LG.PAGE]&&"1"!==K[X.LG.PAGE],vi=(null==Pe?void 0:Pe.get(j._.DISPLAY_GLOBAL_CAMPAIGN_TEXT))||!1;si=vi?p().campaignTextOnProduct:p().categoryPageStaticCampaignText;const Ei=(null==Pe?void 0:Pe.get(j._.DISPLAY_DICTIONARY_CONTENT))||!1,gi=!!Ei&&(hl&&K[ae.rT])&&!cl&&!ci,_i=Ei&&(null==Il?void 0:Il.length)>0&&!cl&&!fl&&!K[ae.rT]&&(!ci||ut),yi=bt(),pi=yi&&0===((null==z?void 0:z.length)||0)||!1,Di=vl&&ui&&!gi,Ii={[re.RB.DELIVERY]:null==Rl?void 0:Rl.get(re.x$[re.RB.DELIVERY].id.toString()),[re.RB.MORIA_LISTING]:de.Z.getMobileComponents(Rl,ue.Oe.QUICK_FILTER),[re.RB.SHIPPING_LOCATION]:null==Rl?void 0:Rl.get(re.x$[re.RB.SHIPPING_LOCATION].id.toString())},hi=Ii[re.RB.MORIA_LISTING],Ti=At&&(null===hi||hi&&!(null!=hi&&hi.isEmpty)),Ri=!pi&&Ti,Pi=(null==z?void 0:z.length)>0,Ai=null==xl?void 0:xl.get((null==St?void 0:St.current)||at),Ci=Ai&&!(null!=Ai&&Ai.isEmpty),mi=null==Pe?void 0:Pe.get(j._.SHOW_DEFAULT_FILTER_AND_SORTING_BOXES),Si=null==Pe?void 0:Pe.get(j._.DISPLAY_BANNER_ENABLED_FOR_CATEGORY_PAGE),Li=null===w.ew||void 0===w.ew?void 0:w.ew.some((e=>{var l,t;return null==ft||null===(l=ft.current)||void 0===l||null===(t=l.filtreler)||void 0===t?void 0:t.includes(e)})),Ni=Si&&Ci&&oi&&!gi&&!Li;return a().createElement("div",{className:be.Z.root},a().createElement(Ge.Z,{bannerFragment:Ai,isBannerActive:Ni,preloadRetinaImages:Ae}),vt&&a().createElement(V.Z,{afterPageLoadSend:()=>{Et(!1)}}),Dt&&a().createElement(b.Z,{pageType:ne.Eg}),a().createElement(Le.Z,{seoInfo:Ye,helmetClientChanged:(e=>{e&&(document.title=e.title)})(Ye)}),al||ol&&a().createElement(Se.Z,{viewType:te.K.FULL_SCREEN}),a().createElement(me.Z,{ref:Nt},(null==ll?void 0:ll.length)>0&&a().createElement(Ve.a,{location:D,isSchemaStructuredActive:!0,items:ll,forceRedirect:!0}),gi&&a().createElement(Ue,{isMobile:!0,categoryName:Tl,keyword:hl,onExpandChange:()=>{Qt()}}),Di&&a().createElement(Oe.Z,{placeholderEnabled:!0,viewType:se.D.SPECIAL,isInitiallyCollapsed:!0,questionsEnabled:!1}),!gi&&(null==il?void 0:il.h1)&&(null==z?void 0:z.length)>0&&a().createElement(Ne.Z,{title:il.h1,count:pi?null:gl}),Ni&&a().createElement("div",{className:be.Z.bannerContainer},a().createElement(Me.Z,{componentInfo:Ai,scriptsOptions:{scriptRenderMethodClientSide:di}})),mi&&!Ri&&!dl&&Pi&&a().createElement(qe,{dispatch:y,pageTypeForDavinci:le.ps.CATEGORY,pageValueForDavinci:St.current,hasAppliedFilters:cl,sortType:K[X.LG.SORT_BY],onSortTypeChange:(e,l)=>{let t;t=nt.params.brandIds?Z._1[Z.VT.MOBILE].BRAND_CATEGORY_PAGE:Z._1[Z.VT.MOBILE].CATEGORY_PAGE,xt({pathname:(0,R.RC)(t,{...nt.params}),search:(0,m.T9)({...K,[X.LG.SORT_BY]:l,[X.LG.PAGE]:null}),state:{shouldPreserveInitialFilteredCategory:!0}})},initialFilterHeight:gt,onFilterClick:$t}),!pi&&(null==ml||null===(g=ml.items)||void 0===g?void 0:g.length)>0&&a().createElement(We,{campaigns:ml,pageTypeForDavinci:le.ps.CATEGORY,pageValueForDavinci:St.current,category:el,onViewProducts:Xt,initialCampaignFilterHeight:yt,isAmoungProduct:!1,queryParams:K}),(Ri||!mi)&&!Ae&&Pi&&a().createElement(Be.Z,{fragments:Ii,renderMethodClientSide:di,selectedFilterCount:$l,hasAppliedFilters:cl,quickFilterViewCount:Zl,onClick:$t}),!pi&&!Ae&&Ii[re.RB.DELIVERY]&&!Ct&&a().createElement("div",{className:o()(be.Z.deliveryContainer,{[be.Z.hasQuickFilter]:Ri})},a().createElement(Fe.Z,{fragmentInfo:Ii[re.RB.DELIVERY],options:re.x$[re.RB.DELIVERY],renderMethodClientSide:di})),!pi&&dl&&!fl&&a().createElement(Je,{className:"white",title:"Bu Kategori Yaynda Deil."}),pi&&a().createElement(Me.Z,{componentInfo:yi,scriptsOptions:{scriptRenderMethodClientSide:di}}),!pi&&(null==z?void 0:z.length)>0&&a().createElement(Ce.Z,{className:be.Z.hbProducts,products:z,algKey:Xl,deliveryLocation:Ol,deliveryInfo:Nl,history:L,isFetching:ce,townToTownEAD:Kl,currentPageNumber:El.pageNumber,totalPageNumber:sl,totalProductCount:gl,isPending:rl,isInfiniteScroll:ut,itemProps:{shouldNotifyDavinci:!0,imgSize:ie.zT,imageWidthSize:"300",imageHeightSize:"443",displayCampaignText:vi,campaignText:si},seoInfo:il,shippingType:yl,category:el,facetList:Dl,isActiveAddToCart:Jl,selectedFiltersByFacetMap:Ke,pageTypeForDavinci:le.ps.CATEGORY,pageValueForDavinci:St.current,canDisplayPlaceholder:!0,queryParams:K,location:D,pathname:D.pathname,isListingPage:!1,searchPass:pl,isProductActionsPending:Al||Pl,pendingProductIds:Cl?[Cl.productId]:[],onListEnd:e=>{let{currentPageNumber:l,isPending:t,hasMoreItems:i,isDownwards:n}=e;ut&&!t&&i&&l<X.FT&&n&&Bt(l+1,{shouldAppendNewCategoryProducts:!0})},onPageChange:async(e,l)=>{await(0,Y.y)(),ct(!1),Bt(l,!1)},shouldImageLoadEagerly:Ae,isBot:Ae,onViewProducts:Xt,forcePreloadFirstImage:!Ni,isQuickFilterJetDeliveryChecked:Ri&&Li,campaignFilters:ml}),pi&&(null==nl?void 0:nl.length)>0&&a().createElement($e,{isMobile:!0,pageTypeForDavinci:le.ps.CATEGORY,title:ie.Pr.SUB_CATEGORIES,searchKeywordArray:nl}),(null==zl?void 0:zl.length)>0&&a().createElement($e,{isMobile:!0,title:ie.Pr.POPULAR_KEYWORDS,pageTypeForDavinci:le.ps.CATEGORY,searchKeywordArray:zl}),(null==z?void 0:z.length)>0&&a().createElement(we,{isActive:st,category:el,categoryId:St.current,queryParams:K,hasAppliedFilters:cl,pageTypeForDavinci:le.ps.CATEGORY,pageValueForDavinci:St.current,onClose:Jt,onCategoryFilterChange:(e,l,t)=>{const{categoryId:i,categoryUrlKeyword:n}=(0,A.k9)(t.categoryUrl);nt.params.brandIds?xt({pathname:(0,R.RC)(Z._1[Z.VT.MOBILE].BRAND_CATEGORY_PAGE,{...nt.params,categoryId:i,categoryUrlKeyword:n,plpPath:"c"}),search:(0,m.T9)({...K,[X.LG.PAGE]:null}),state:{shouldPreserveInitialFilteredCategory:!0}}):xt({pathname:(0,R.RC)(Z._1[Z.VT.MOBILE].CATEGORY_PAGE,{categoryId:i,categoryUrlKeyword:n,plpPath:"c"}),search:(0,m.T9)({...K,[X.LG.PAGE]:null}),state:{shouldPreserveInitialFilteredCategory:!0}})},onViewProducts:Xt,onClearAllFiltersButtonClick:async()=>{const e=(0,R.RC)(Z._1[Z.VT.MOBILE].CATEGORY_PAGE,{categoryUrlKeyword:Lt.current,categoryId:St.current});var l,t,i,n,a,r;!Ct&&(null==Pe?void 0:Pe.get(j._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==Pe?void 0:Pe.get(j._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING))&&y(ye.cq.getDeliveryInfo.trigger({...(0,P.Mi)(ql.set(null==Nl||null===(l=Nl.nextDayDelivery)||void 0===l?void 0:l.key,(0,u.Map)()),ql.set(null==Nl||null===(t=Nl.expressDelivery)||void 0===t?void 0:t.key,(0,u.Map)())),...Pt,pageType:Xe,[J.M2.CATEGORY]:St.current,[J.M2.BRAND]:rt,[J.M2.CITIES]:null==Ol||null===(i=Ol.city)||void 0===i?void 0:i.code,[J.M2.RECEIVER_CITY]:null==Ol||null===(n=Ol.city)||void 0===n?void 0:n.name,[J.M2.RECEIVER_TOWN]:null==Ol||null===(a=Ol.town)||void 0===a?void 0:a.name,[J.M2.RECEIVER_DISTRICT]:null==Ol||null===(r=Ol.district)||void 0===r?void 0:r.name}));if(Ct){const e=(0,f.b)("location");await(0,w.Qu)({dispatch:y,queryParams:K,locationCookie:e})}if(await(0,Y.y)(),y(ye.cq.clearAllFilters()),e===D.pathname||e===window.location.pathname.substr(window.location.pathname.lastIndexOf("/"))){await(0,Y.y)();const e=(0,q.$1)();(0,h.V)(y(ye.cq.getFilters.trigger({[J.M2.CATEGORY]:wl.categoryId,...Pt},e)))}else et?y(ye.cq.updateURLForRedirection(e)):xt(e)},onClearFacetFiltersButtonClick:async()=>{if(Yl.id===J.vv.CATEGORY){let e;e=nt.params.brandIds?Z._1[Z.VT.MOBILE].BRAND_CATEGORY_PAGE:Z._1[Z.VT.MOBILE].CATEGORY_PAGE,xt((0,R.RC)(e,{...nt.params,categoryId:wl.categoryId},{[X.LG.SORT_BY]:K[X.LG.SORT_BY],[X.LG.PAGE]:null},{withPrefix:!0,encode:!1}))}else{await(0,Y.y)();const e=(0,q.$1)();(0,h.V)(y(ye.cq.getFilters.trigger({...(0,P.Mi)(ql.set(Yl.id,(0,u.Map)())),...Pt,[J.M2.CATEGORY]:wl.categoryId},e)))}await(0,Y.y)(),y(ye.cq.clearActiveFacetFilters())},showQuickFilterArea:Ri}),!pi&&(!dl||dl&&Sl||dl&&Ll)&&z&&0===z.length&&a().createElement(Qe,(0,i.default)({},fl&&{NoResultComponent:He,deliveryLocation:Ol,nextDayDeliverySelected:Sl,expressDeliverySelected:Ll,deliveryInfo:Nl,category:el,appliedFacetArray:Ml},{dispatch:y,isListingPage:!1,products:z,currentPageNumber:El.pageNumber,category:el,pageTypeForDavinci:le.ps.CATEGORY,pageValueForDavinci:St.current,location:D,queryParams:K,searchPass:pl,shippingType:yl,facetList:Dl,selectedFiltersByFacetMap:Ke,totalProductCount:gl,seoInfo:il})),_i&&a().createElement(Ze,{isMobile:!0,categoryName:Tl,dictionary:Il}),ui&&!Di&&a().createElement(Oe.Z,null)))},nl=e=>{const{loadState:{serverSideRendering:l},accountState:{userInfo:t,quickFilterViewCount:i},categoryState:{categoryProductArray:n,algKey:a,isFetching:r,categorySeoInfo:o,categoryProductPaginationParams:s,totalCategoryProductCount:d,isClosedCategory:u,initialPageNumber:c,categoryShippingType:v,categorySearchPass:E,categoryName:g,subCategories:_,categories:y,townToTownEAD:p,isActiveAddToCart:D,keywordsForCategoryPage:I},filterState:{activeFacet:h,facetMap:T,filteredCategory:R,initialFilteredCategory:P,selectedFiltersByFacetMap:A,visibleSelectedFiltersByFacetMap:C,isFilterManagementPanelActive:m,appliedFacetArray:S,campaignFilters:L,nextDayDelivery:N,expressDelivery:O,deliveryInfo:f,expressDeliveryCheckboxChecked:M,nextDayDeliveryCheckboxChecked:F,expressDeliverySelected:x,nextDayDeliverySelected:B,deliveryLocation:G,appliedSelectedAnyDeliveryValue:V,sortValue:b,selectedFilterCount:w,selectedFilter:Y,urlForRedirection:q},featureToggleState:{pageFeatureToggleMap:H},seoState:{seoInfo:k},pendingState:{isGetCategoryProductsPending:U,isGetNextCategoryProductsPending:W,isAddToCartPending:K,isGetSplitProductVariantsPending:Z,isGetCmsComponentPending:Q},voltranState:{fragmentsMap:$},dictionaryState:{dictionaryArray:J,dictionaryDetail:X},landingPageState:{categoryLandingPageInfo:z},cmsComponentState:{cmsComponentsMap:j},cartState:{cartCandidateProduct:ee},userAgentState:{isBot:le,isCollectionPage:te,friendlyUrl:ie}}=e;return{selectedFilter:Y,serverSideRendering:l,filteredCategory:R,categoryShippingType:v,pageFeatureToggleMap:H,categoryProductArray:n,algKey:a,categorySeoInfo:o,subCategories:_,categoryProductPaginationParams:s,isBot:le,isClosedCategory:u,isFilterManagementPanelActive:m,initialPageNumber:c,activeFacet:h,initialFilteredCategory:P,categoryPageBreadCrumbConfigArray:(0,ve.eU)(e),filterApiQueryParams:(0,ce.ju)(e),filterApiQueryParamsString:(0,ce.LM)(e),brandIdsPathParam:(0,ce.Oq)(e),categoryPageFilterQueryParams:(0,ve.YV)(e),categoryProductsApiQueryParams:(0,ve.se)(e),selectedFiltersByFacetMap:A,visibleSelectedFiltersByFacetMap:C,totalCategoryProductCount:d,appliedFacetArray:S,hasAppliedFilters:(0,ce.sy)(e),hasAppliedFilterOnlyOneAuthor:(0,ce._T)(e),hasSeoBlockerFiltersAppliedOnApi:(0,ce.eA)(e),totalCategoryPageNumber:(0,ve.JV)(e),isGetCategoryProductsPending:U,isGetNextCategoryProductsPending:W,userInfo:t,seoInfo:k,categorySearchPass:E,facetMap:T,facetList:(0,ce.Uj)(e),dictionaryArray:J,dictionaryDetail:X,categoryName:g,fragmentsMap:$,categoryLandingPageInfo:z,cmsComponentsMap:j,categories:y,isAddToCartPending:K,isGetSplitProductVariantsPending:Z,isGetCmsComponentPending:Q,cartCandidateProduct:ee,campaignFilters:L,nextDayDelivery:N,expressDelivery:O,deliveryInfo:f,expressDeliveryCheckboxChecked:M,nextDayDeliveryCheckboxChecked:F,expressDeliverySelected:x,nextDayDeliverySelected:B,deliveryLocation:G,appliedSelectedAnyDeliveryValue:V,isFetching:r,townToTownEAD:p,quickFilterViewCount:i,sortValue:b,selectedFilterCount:w,isActiveAddToCart:D,keywordsForCategoryPage:I,isCollectionPage:te,friendlyUrl:ie,urlForRedirection:q}};il.fetchData=ll;const al=(0,s.connect)(nl)((0,Pe.Z)((0,Ae.Z)(il))),rl=(0,d.withRouter)(al),ol=rl},48516:(e,l,t)=>{t.d(l,{default:()=>Z});var i=t(35610),n=t.n(i),a=t(32192),r=t(64593),o=t(78282),s=t(82867),d=t(61478),u=t(45470),c=t(24265),v=t(7282),E=t(53933),g=t(92372),_=t(56789),y=t(95155),p=t(86139),D=t(43422),I=t(11411),h=t(23920),T=t(63266),R=t(86449),P=t(12111),A=t(69396),C=t(39892),m=t(53042),S=t(18162),L=t(84545),N=t(62099),O=t(86782),f=t(94322),M=t(27518),F=t(63570),x=t(35493),B=t(73426),G=t(82103),V=t(63990),b=t(69822),w=t(97910),Y=t(24715),q=t(12446),H=t(23990),k=t(60132),U=t(25563);const W=[y._.USE_STATIC_CONTENT_FOR_TRENDING,y._.DISPLAY_GLOBAL_CAMPAIGN_TEXT,y._.DISPLAY_ITEM_COUNT_ON_CART_SF,y._.USE_BLACK_FRIDAY_THEME_MOBILE,y._.ENABLE_ENSIGHTEN,y._.DISPLAY_THIRD_PRICE_WITH_BASKET,y._.DISPLAY_GOOGLE_ADS,y._.ENABLE_ABTEST,y._.SERVER_SIDE_RENDER_FOR_PWA_MOBILE_HOME_PAGE,y._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_MOBILE_HOME_PAGE,y._.DISPLAY_WHATSAPP_ICON,y._.ENABLE_GTM,y._.HIDE_JS_FROM_GOOGLEBOT,y._.HOMEPAGE_CMS,y._.IS_PERSONALIZED_AVAILABLE_HOME_PAGE,y._.IS_SFST_PERSONALIZED_HOME_PAGE,y._.IS_LOCATION_AWARE_AVAILABLE,y._.DISPLAY_HEPSIGLOBAL_MODAL,y._.IS_CUSTOMER_INFO_ENABLED,y._.REMOVE_VOLTRAN_SCRIPTS_INITIAL_LOAD,y._.IS_CRITICAL_CSS],K=(0,i.memo)((e=>{let{dispatch:l,cmsHomePageComponents:t,serverSideRendering:a,seoInfo:v,routeChange:E,cmsComponentsMap:S,fragmentsMap:F,userInfoPromise:K,pageFeatureToggleMap:Z,deliveryLocation:Q,userInfo:$,cmsHomePageComponentsWithBannerList:J,voltranFragmentIsLoading:X,cmsComponentIsLoading:z,isBot:j}=e;B.Z.handlePageRenderStart(l,p.uF.HOME);const[ee,le]=(0,i.useState)(!1),[te,ie]=(0,i.useState)(!1);(0,i.useEffect)((()=>{var e;if(B.Z.handleDomLoaded(l,p.uF.HOME),K.then((async()=>{v||(0,C.V)(l(V.cq.getSeoInfo.trigger({pageType:"home",siteType:"mobile"}))),Z?ae().then((()=>{B.Z.handlePageRendered(l),se()})):(0,C.V)(l(b.cq.getMobileHomePageFeatureToggles.trigger(W))).then((()=>{ae().then((()=>{B.Z.handlePageRendered(l),se()}))})),de($)})),window.history.scrollRestoration="manual",setTimeout((()=>{(0,m.LP)()}),h.U4),null!==(e=window)&&void 0!==e&&e.hepsiBus){var t,i;let e=null==J?void 0:J.map(((e,l)=>({placement_id:"",component_id:null==e?void 0:e.id,component_type:"",component_name:"",position:l+1})));null===(t=window)||void 0===t||null===(i=t.hepsiBus)||void 0===i||i.track("HomePageView",{components:e})}return null!=Z&&Z.get(y._.IS_PERSONALIZED_AVAILABLE_HOME_PAGE)&&(0,f.ZD)(J),()=>{var e,t;l(b.cq.getMobileHomePageFeatureToggles.cancel()),l(V.cq.getSeoInfo.cancel()),l(w.c.getAbTest.cancel()),null===(e=googletag)||void 0===e||null===(t=e.destroySlots)||void 0===t||t.call(e),ie(!1)}}),[]);const ne=e=>{var l;const t=null==e||null===(l=e.filter((e=>{var l,t;return(null==e?void 0:e.dataSource)===I.T.CMS?!(null!=S&&S.get(null==e||null===(l=e.id)||void 0===l?void 0:l.toString())):(null==e?void 0:e.dataSource)===I.T.VOLTRAN&&(!(null==e||!e.clientUrl||null==e||!e.url)&&!(null!=F&&F.get(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())))})))||void 0===l?void 0:l.slice(0,2),i=(0,M.eH)(t);if(null!=Z&&Z.get(y._.IS_SFST_PERSONALIZED_HOME_PAGE)&&null!=e&&e.find((e=>{var l;return null==e||null===(l=e.url)||void 0===l?void 0:l.includes(P.RB.M_DEALOFTHEDAY)}))){const l=null==e?void 0:e.find((e=>{var l;return null==e||null===(l=e.url)||void 0===l?void 0:l.includes(P.RB.M_DEALOFTHEDAY)}));l.paramater={userId:null==$?void 0:$.userId,anonymousId:(0,N.b)(R.g),experimentCookie:(0,N.b)(T.gu.HOME_PAGE),isBot:j},l.cacheStatus=!1}return(0,C.a)(Promise.all([re(null==i?void 0:i[I.T.CMS]),oe(null==i?void 0:i[I.T.VOLTRAN])]))},ae=async()=>{if(Z&&$){const c=(0,N.b)(R.g),v=(0,N.b)(R.F),E=null==Z?void 0:Z.get(y._.IS_PERSONALIZED_AVAILABLE_HOME_PAGE),g=null==Z?void 0:Z.get(y._.IS_LOCATION_AWARE_AVAILABLE),_=Boolean(v)&&!(0,L.p)(v)&&(null==Z?void 0:Z.get(y._.IS_CUSTOMER_INFO_ENABLED));if(J)ne(J);else{var e,t,i;let p,D,I={countryCode:(0,N.b)(A.rw)||null,platform:"mobilesite"},h=[(0,C.V)(l(q.cq.getCmsHomePageComponents.trigger()))];var n,a,r,o,s,d,u;if(_&&h.push((0,C.V)(l(k.c.getCustomerInfo.trigger(v)))),await(0,C.a)(Promise.all([...h])).then((e=>{let[l,t]=e;D=l,p=t})),_)I={...I,personaTags:null===(n=p)||void 0===n||null===(a=n.result)||void 0===a||null===(r=a.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.join()};if(null!=Z&&Z.get(y._.IS_LOCATION_AWARE_AVAILABLE))I={...I,cityCode:null==Q||null===(s=Q.city)||void 0===s?void 0:s.code,townCode:null==Q||null===(d=Q.town)||void 0===d?void 0:d.code,districtCode:null==Q||null===(u=Q.district)||void 0===u?void 0:u.code};await(0,C.V)(l(q.cq.getHomepageComponentsWithBannerList.trigger(null===(e=D)||void 0===e||null===(t=e.result)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data,I,null==$?void 0:$.userId,c,E,g,_)))}}},re=e=>(null==e?void 0:e.length)>0?(0,C.V)(l(H.cq.getCmsComponent.trigger(e))):Promise.resolve(),oe=e=>(null==e?void 0:e.length)>0?(0,C.V)(l(Y.c.getFragments.trigger(e))):Promise.resolve(),se=()=>{"complete"===document.readyState&&(ee||le(!0))},de=e=>{const t={contentId:"Mobile-Anasayfa",contentGroup:{1:"Mobile",2:"Anasayfa"},customSessionParameter:{4:""}};(0,O.kp)(t,e.isAuthenticated),l(G.cq.sendWebtrekkEvent.trigger(t))},[ue]=(0,x.Z)({rootMargin:"0px 0px 200px 0px",onLoadMore:()=>ne(J),loading:z||X,delay:0}),ce=E||!a,ve=(0,M.tN)({cmsComponentsMap:S,mobileHomepageComponents:t});return n().createElement("div",{className:U.Z.root},ve&&n().createElement(r.Helmet,null,n().createElement("link",{rel:"preload",as:"image",fetchpriority:"high",imagesrcset:ve.webp,href:ve.default})),ee&&n().createElement(o.Z,{afterPageLoadSend:()=>{le(!1)}}),te&&n().createElement(s.Z,{pageType:D.ID}),n().createElement(d.Z,{seoInfo:v,helmetClientChanged:(e=>{e&&(document.title=e.title)})(v)}),n().createElement("div",{className:U.Z.pageContent},n().createElement("div",null,null==J?void 0:J.map((e=>n().createElement(n().Fragment,null,e.dataSource===I.T.CMS&&n().createElement(g.Z,{componentInfo:null==S?void 0:S.get(null==e?void 0:e.id.toString()),options:e,scriptsOptions:{scriptRenderMethodClientSide:ce}}),e.dataSource===I.T.VOLTRAN&&n().createElement(_.Z,{fragmentInfo:null==F?void 0:F.get(null==e?void 0:e.id.toString()),options:e,renderMethodClientSide:ce}))))),n().createElement("div",{ref:ue}),n().createElement(c.Z,null)),n().createElement(u.Z,null))}));K.fetchData=async(e,l)=>{var t,i,n,a,r;let o;const s={serverSideRendering:!0,featureToggles:null,redirection:null,seoInfo:null},{cookies:d,isBot:u}=l,c=(0,S.o3)(null==d?void 0:d.location),v=(null==d?void 0:d[R.F])||"",E=v&&(null===(t=(0,L.t)(v))||void 0===t?void 0:t.UserId)||"",g=(null==d?void 0:d[R.g])||"",_=null==d?void 0:d[T.gu.HOME_PAGE],p=await(0,C.V)(e(b.cq.getMobileHomePageFeatureToggles.trigger(W)));if(p.hasError)return s.isError=p.result,s;var D;null!=p&&null!==(i=p.result)&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.data&&(s.featureToggles=null==p||null===(D=p.result)||void 0===D?void 0:D.data.data);const h=(0,F.KV)(null==p||null===(a=p.result)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.data);if(u||null!=h&&h.get(y._.SERVER_SIDE_RENDER_FOR_PWA_MOBILE_HOME_PAGE)||(s.serverSideRendering=!1),u||null!=h&&h.get(y._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_MOBILE_HOME_PAGE)){var m,N,O,f,x,B,G,w,U;const l=null==h?void 0:h.get(y._.IS_SFST_PERSONALIZED_HOME_PAGE),t=null==h?void 0:h.get(y._.IS_PERSONALIZED_AVAILABLE_HOME_PAGE),i=null==h?void 0:h.get(y._.IS_LOCATION_AWARE_AVAILABLE),n=Boolean(v)&&!(0,L.p)(v)&&(null==h?void 0:h.get(y._.IS_CUSTOMER_INFO_ENABLED));let a,r,p={countryCode:(null==d?void 0:d[A.rw])||null,platform:"mobilesite"},D=[(0,C.V)(e(q.cq.getCmsHomePageComponents.trigger()))];if(n&&D.push((0,C.V)(e(k.c.getCustomerInfo.trigger(v)))),await(0,C.a)(Promise.all([...D])).then((e=>{let[l,t]=e;r=l,a=t})),null!==(m=r)&&void 0!==m&&m.hasError)return s.isError=r.result,s;var K,Z,Q,$,J,X,z;if(n)p={...p,personaTags:null===(K=a)||void 0===K||null===(Z=K.result)||void 0===Z||null===(Q=Z.data)||void 0===Q||null===($=Q.data)||void 0===$?void 0:$.join()};if(null!=h&&h.get(y._.IS_LOCATION_AWARE_AVAILABLE))p={...p,cityCode:null==c||null===(J=c.city)||void 0===J?void 0:J.code,townCode:null==c||null===(X=c.town)||void 0===X?void 0:X.code,districtCode:null==c||null===(z=c.district)||void 0===z?void 0:z.code};const T=await(0,C.V)(e(q.cq.getHomepageComponentsWithBannerList.trigger(null===(N=r)||void 0===N||null===(O=N.result)||void 0===O||null===(f=O.data)||void 0===f?void 0:f.data,p,E,g,t,i,n))),R=(0,M.eH)((null==T?void 0:T.result)||(null===(x=r)||void 0===x||null===(B=x.result)||void 0===B||null===(G=B.data)||void 0===G?void 0:G.data));if(l){var j;const e=null===(j=R[I.T.VOLTRAN])||void 0===j?void 0:j.find((e=>{var l;return null==e||null===(l=e.url)||void 0===l?void 0:l.includes(P.RB.M_DEALOFTHEDAY)}));e&&(e.paramater={userId:E,anonymousId:g,experimentCookie:_,isBot:u},e.cacheStatus=!1)}o=await(0,C.a)(Promise.all([(0,C.V)(e(V.cq.getSeoInfo.trigger({pageType:"home",siteType:"mobile"}))),(null==R||null===(w=R[I.T.CMS])||void 0===w?void 0:w.length)>0&&(0,C.V)(e(H.cq.getCmsComponent.trigger(R[I.T.CMS]))),(null==R||null===(U=R[I.T.VOLTRAN])||void 0===U?void 0:U.length)>0&&(0,C.V)(e(Y.c.getFragments.trigger(R[I.T.VOLTRAN])))]).then((async e=>{var l,t;let[i,n,a]=e;const o=[...n?null==n?void 0:n.result:[],...a?null==a?void 0:a.result:[]],d=null==o?void 0:o.filter((e=>!1!==e)).length;return s.seoInfo=i.isResolved&&(null==i||null===(l=i.result)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data),s.isPartialContent=d<r.length,s})))}else o=s;return o},K.displayName="MobileHomePage";const Z=(0,a.connect)((e=>{const{accountState:{userInfo:l},loadState:{serverSideRendering:t},featureToggleState:{pageFeatureToggleMap:i},experimentState:{appExperimentMap:n},seoState:{seoInfo:a},voltranState:{fragmentsMap:r,isLoading:o},homePageComponentsState:{homePageComponents:s,cmsHomePageComponents:d,cmsHomePageComponentsWithBannerList:u},cmsComponentState:{cmsComponentsMap:c,isLoading:v},filterState:{deliveryLocation:E},userAgentState:{isBot:g}}=e;return{serverSideRendering:t,fragmentsMap:r,appExperimentMap:n,seoInfo:a,pageFeatureToggleMap:i,userInfo:l,homePageComponents:s,cmsComponentsMap:c,deliveryLocation:E,cmsHomePageComponentsWithBannerList:u,cmsHomePageComponents:d,voltranFragmentIsLoading:o,cmsComponentIsLoading:v,isBot:g}}))((0,v.Z)((0,E.Z)(K)))},40176:(e,l,t)=>{t.d(l,{default:()=>N});var i=t(13865),n=t(35610),a=t.n(n),r=t(32192),o=t(61478),s=t(45470),d=t(24265),u=t(7282),c=t(53933),v=t(95155),E=t(23920),g=t(26876),_=t(39892),y=t(53042),p=t(86782),D=t(63570),I=t(18162),h=t(62099),T=t(86449),R=t(82103),P=t(63990),A=t(69822),C=t(60827),m=t(25563);const S=[v._.SERVER_SIDE_RENDER_FOR_PWA_MOBILE_HOME_PAGE,v._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_MOBILE_HOME_PAGE,v._.DISPLAY_HEPSIGLOBAL_MODAL,v._.REMOVE_VOLTRAN_SCRIPTS_INITIAL_LOAD,v._.IS_CRITICAL_CSS],L=(0,n.memo)((e=>{var l,t;let{dispatch:r,seoInfo:u,userInfoPromise:c,pageFeatureToggleMap:v,userInfo:D,hydraHomePageMobileComponents:I,deliveryLocation:L,queryParams:N}=e;(0,n.useEffect)((()=>(c.then((async()=>{u||(0,_.V)(r(P.cq.getSeoInfo.trigger({pageType:"home",siteType:"mobile"}))),v?I||O(L):(0,_.V)(r(A.cq.getMobileHomePageFeatureToggles.trigger(S))).then((()=>{I||O(L)})),f(D)})),window.history.scrollRestoration="manual",setTimeout((()=>{(0,y.LP)()}),E.U4),()=>{r(P.cq.getSeoInfo.cancel()),r(A.cq.getMobileHomePageFeatureToggles.cancel()),r(C.cq.getHydraHomePageMobileComponents.cancel())})),[]);const O=async e=>{var l,t,i;const n={cityCode:null==e||null===(l=e.city)||void 0===l?void 0:l.code,townCode:null==e||null===(t=e.town)||void 0===t?void 0:t.code,districtCode:null==e||null===(i=e.district)||void 0===i?void 0:i.code},a=(0,h.b)(T.g)||null,o=(0,h.b)(T.F)||null;await(0,_.V)(r(C.cq.getHydraHomePageMobileComponents.trigger({jwt:o??null,anonymousId:a??null,viewId:null==N?void 0:N.viewId,...n})))},f=e=>{const l={contentId:"Mobile-Anasayfa",contentGroup:{1:"Mobile",2:"Anasayfa"},customSessionParameter:{4:""}};(0,p.kp)(l,e.isAuthenticated),r(R.cq.sendWebtrekkEvent.trigger(l))},M={cityCode:null==L||null===(F=L.city)||void 0===F?void 0:F.code,townCode:null==L||null===(x=L.town)||void 0===x?void 0:x.code,districtCode:null==L||null===(B=L.district)||void 0===B?void 0:B.code,jwt:(0,h.b)(T.F)||null,anonymousId:(0,h.b)(T.g)||null,viewId:null==N?void 0:N.viewId};var F,x,B;return a().createElement("div",{className:m.Z.root},a().createElement(d.Z,null),a().createElement(o.Z,{seoInfo:u,helmetClientChanged:(e=>{e&&(document.title=e.title)})(u)}),a().createElement("div",{className:m.Z.pageContent},(null==I||null===(l=I.result)||void 0===l?void 0:l.length)>0&&(null==I||null===(t=I.result)||void 0===t?void 0:t.map(((e,l)=>{if(!e)return null;const t=g.Z[null==e?void 0:e.type];return t?a().createElement(t,(0,i.default)({key:l,index:l,requestParams:M,platform:"mobileweb"},e)):(console.error(`Component type "${null==e?void 0:e.type}" is not defined in HomeComponents.`),null)})))),a().createElement("div",null,a().createElement(s.Z,null)))}));L.fetchData=async(e,l)=>{var t,i,n,a,r,o,s;let d;const u={serverSideRendering:!0,featureToggles:null,redirection:null,seoInfo:null},{isBot:c,query:E,cookies:g}=l,y=(0,I.o3)(null==g?void 0:g.location),p=(null==g?void 0:g[T.g])||"",h=(null==g?void 0:g[T.F])||"",R={cityCode:null==y||null===(t=y.city)||void 0===t?void 0:t.code,townCode:null==y||null===(i=y.town)||void 0===i?void 0:i.code,districtCode:null==y||null===(n=y.district)||void 0===n?void 0:n.code},m=await(0,_.V)(e(A.cq.getMobileHomePageFeatureToggles.trigger(S)));if(m.hasError)return u.isError=m.result,u;var L;null!=m&&null!==(a=m.result)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.data&&(u.featureToggles=null==m||null===(L=m.result)||void 0===L?void 0:L.data.data);const N=(0,D.KV)(null==m||null===(o=m.result)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.data);return c||null!=N&&N.get(v._.SERVER_SIDE_RENDER_FOR_PWA_MOBILE_HOME_PAGE)||(u.serverSideRendering=!1),d=c||null!=N&&N.get(v._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_MOBILE_HOME_PAGE)?await(0,_.a)(Promise.all([(0,_.V)(e(P.cq.getSeoInfo.trigger({pageType:"home",siteType:"mobile"}))),(0,_.V)(e(C.cq.getHydraHomePageMobileComponents.trigger({jwt:h??null,anonymousId:p??null,viewId:null==E?void 0:E.viewId,...R})))]).then((async e=>{var l,t;let[i]=e;return u.seoInfo=i.isResolved&&(null==i||null===(l=i.result)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data),u}))):u,d},L.displayName="MobileHomePageV2";const N=(0,r.connect)((e=>{const{accountState:{userInfo:l},loadState:{serverSideRendering:t},featureToggleState:{pageFeatureToggleMap:i},experimentState:{appExperimentMap:n},seoState:{seoInfo:a},homePageComponentsState:{homePageComponents:r,cmsHomePageComponents:o,cmsHomePageComponentsWithBannerList:s},hydraHomePageComponentsState:{hydraHomePageMobileComponents:d,hydraHomePageMobileLazyComponent:u},cmsComponentState:{cmsComponentsMap:c,isLoading:v},userAgentState:{isBot:E}}=e;return{serverSideRendering:t,appExperimentMap:n,seoInfo:a,pageFeatureToggleMap:i,userInfo:l,homePageComponents:r,cmsComponentsMap:c,cmsHomePageComponentsWithBannerList:s,cmsHomePageComponents:o,cmsComponentIsLoading:v,isBot:E,hydraHomePageMobileComponents:d,hydraHomePageMobileLazyComponent:u}}))((0,u.Z)((0,c.Z)(L)))},6834:(e,l,t)=>{t.d(l,{default:()=>b});var i=t(13865),n=(t(92087),t(35610)),a=t.n(n),r=t(32192),o=t(7738),s=t(14486),d=t.n(s),u=t(7282),c=t(53933),v=t(61478),E=t(73525),g=t(25274),_=t(48645),y=t(97898),p=t(90431),D=t(69822),I=t(24715),h=t(20188),T=t(83536),R=t(39892),P=t(13674),A=t(65843),C=t(63570),m=t(62787),S=t(73426),L=t(13629),N=t(30490),O=t(95155),f=t(86139),M=t(12111),F=t(17615),x=t(86088),B=t(62764);const G=(0,n.memo)((e=>{var l;const{dispatch:t,location:r,match:o,queryParams:s,product:u,breadcrumbs:c,isAdultProduct:C,isAdultProductCookie:F,orderedLayoutComponents:G,fragmentsMap:V,pageFeatureToggleMap:b,userInfoPromise:w,userInfo:Y,buyback:q,tabsModalVisible:H,tabsModalIndex:k,history:U,flags:W,campaignDetail:K,popularKeyword:Z,selectedVasProduct:Q,chatOptions:$,isVasExists:J,isLoading:X,productStructuredData:z,activeVariant:j,isAvailableProduct:ee,seoInformation:le,webtrekkData:te,payments:ie,isLoadingPayments:ne,isAddToCartPending:ae,dueDate:re,deliveryTooltips:oe,energyClassBadge:se,allListings:de,isBot:ue,vas:ce,campaigns:ve,isGetCampaignsPdpDashboardPending:Ee,winnerCampaignName:ge,variants:_e,campaignEvaluateResult:ye}=e;S.Z.handlePageRenderStart(t,f.uF.PRODUCT_DETAIL_PAGE),(0,n.useEffect)((()=>(S.Z.handleDomLoaded(t,f.uF.PRODUCT_DETAIL_PAGE),w.then((async e=>{var l,i;(b||await(0,R.V)(t(D.cq.getMobileProductDetailFeatureToggles.trigger(L.x))),u)?((0,m.GH)(u,$),Te(u,r,e),De(),(0,m.yY)(t,u),(0,m.zs)(t,e,te),he(e)):await(0,R.V)(t(p.cq.getProduct.trigger(null==o||null===(l=o.params)||void 0===l?void 0:l.productId,{name:o.params.productDetailUrlKeyword,...(null==s?void 0:s.magaza)&&{merchant:null==s?void 0:s.magaza},channel:"mweb"},Boolean("p"!==(null==o||null===(i=o.params)||void 0===i?void 0:i.pdpPath))))).then((async l=>{var i,n,a,o,s,d,u;const c=null==l||null===(i=l.result)||void 0===i||null===(n=i.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.product;(0,m.Jw)(null==l||null===(o=l.result)||void 0===o?void 0:o.data,U),(0,m.GH)(c,$),De(),(0,m.zs)(t,Y,null==l||null===(s=l.result)||void 0===s||null===(d=s.data)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.webtrekkData),(0,m.yY)(t,c),Te(c,r,e)}));S.Z.handlePageRendered(t)})),()=>{var e,l;t(p.cq.getProduct.cancel()),t(D.cq.getMobileProductDetailFeatureToggles.cancel()),t(I.c.getFragments.cancel()),window.HbEventBus.off(N.qO.VARIANT_CHANGE,(()=>{})),null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.off(N.qO.VAS_RESET,(()=>{}))})),[]),(0,x.S)((async()=>{var e,l,i;(0,m.mc)(u),(0,m.GH)(u),pe(u),await(0,P.y)(),Ie(),Te(u,r,Y),(0,m.yY)(t,u),he(Y),null!==(e=window)&&void 0!==e&&null!==(l=e.MerchantContent)&&void 0!==l&&null!==(i=l.FOLLOW_BUTTON)&&void 0!==i&&i.getComponentParams&&ee&&(0,m.aj)(null==Y?void 0:Y.userId,null==u?void 0:u.merchantId)}),[u]),(0,x.S)((()=>{var e,l,i;t(p.cq.setProductIsLoading.trigger(!0)),(0,R.V)(t(p.cq.getProduct.trigger(null==o||null===(e=o.params)||void 0===e?void 0:e.productId,{name:null==o||null===(l=o.params)||void 0===l?void 0:l.productDetailUrlKeyword,...(null==s?void 0:s.magaza)&&{merchant:null==s?void 0:s.magaza},channel:"mweb"},Boolean("p"!==(null==o||null===(i=o.params)||void 0===i?void 0:i.pdpPath))))).then((e=>{var l;(0,m.Jw)(null==e||null===(l=e.result)||void 0===l?void 0:l.data,U),t(h.c.closeAllModals())}))}),[r]),(0,x.S)((()=>{(0,m.K9)(Y,u)}),[Y]);const pe=e=>{var l,t,i,n;null===(l=window)||void 0===l||null===(t=l.HbEventBus)||void 0===t||t.emit(N.qO.VARIANT_CHANGE,e),null===(i=window)||void 0===i||null===(n=i.HbEventBus)||void 0===n||n.emit(N.qO.VAS_RESET,!0)},De=()=>{var e,l;null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.on(N.qO.lOCATION_CHANGE,(()=>{t(p.cq.getDueDate.trigger({queryModels:[...(0,m.u)(u,null==u?void 0:u.listings,Y)],...(0,m.HC)(Y),merchantSortingEnabled:!0}))}))},Ie=()=>{(0,R.V)(t(I.c.getFragments.trigger([{...M.x$[M.RB.PRODUCT_DESCRIPTION],paramater:{...M.x$[M.RB.PRODUCT_DESCRIPTION].paramater,sku:null==u?void 0:u.sku}}])))},he=e=>{var l,i,n,a,r,s,c,v,E,g,_,y,p,D,h,T,P,A,C,S,L,N,f,F;let x=[];var B;(null==b||!b.get(O._.DISPLAY_ADD_TO_MY_LIST)||null!=V&&V.get(null===(l=M.x$[M.RB.ADD_TO_MY_LIST])||void 0===l||null===(i=l.id)||void 0===i?void 0:i.toString())||x.push(M.x$[M.RB.ADD_TO_MY_LIST]),null==b||!b.get(O._.DISPLAY_CAMPAIGN_SECTION)||null!=V&&V.get(null===(n=M.x$[M.RB.CAMPAIGN_SECTION])||void 0===n||null===(a=n.id)||void 0===a?void 0:a.toString())||x.push(M.x$[M.RB.CAMPAIGN_SECTION]),null==b||!b.get(O._.IS_DISPLAY_MERCHANT_COUPONS_ON_PDP)||null!=V&&V.get(null===(r=M.x$[M.RB.MERCHANT_COUPONS])||void 0===r||null===(s=r.id)||void 0===s?void 0:s.toString())||x.push(M.x$[M.RB.MERCHANT_COUPONS]),null==b||!b.get(O._.ASK_TO_MERCHANT_ENABLED)||null!=V&&V.get(null===(c=M.x$[M.RB.ASK_TO_SELLER])||void 0===c||null===(v=c.id)||void 0===v?void 0:v.toString())||x.push({...M.x$[M.RB.ASK_TO_SELLER],paramater:{...M.x$[M.RB.ASK_TO_SELLER].paramater}}),null==b||!b.get(O._.ENABLE_MERCHANT_FOLLOW_BUTTON)||null!=V&&V.get(null===(E=M.x$[M.RB.FOLLOW_AND_COLLECT])||void 0===E||null===(g=E.id)||void 0===g?void 0:g.toString()))||x.push({...M.x$[M.RB.FOLLOW_AND_COLLECT],paramater:{...M.x$[M.RB.FOLLOW_AND_COLLECT].paramater,merchantId:null==u||null===(B=u.merchant)||void 0===B?void 0:B.id,userId:null==e?void 0:e.userId}});null==b||!b.get(O._.CAC_CAMPAIGN_BUNDLE)||null!=V&&V.get(null===(_=M.x$[M.RB.CAMPAIGN_BUNDLE])||void 0===_||null===(y=_.id)||void 0===y?void 0:y.toString())||null==K||!K.isBundleCampaignExist||x.push(M.x$[M.RB.CAMPAIGN_BUNDLE]),null==b||!b.get(O._.IS_DISPLAY_LOYALTY_PREMIUM_ON_PDP)||null!=V&&V.get(null===(p=M.x$[M.RB.PREMIUM_BANNER])||void 0===p||null===(D=p.id)||void 0===D?void 0:D.toString())||x.push({...M.x$[M.RB.PREMIUM_BANNER],paramater:{...M.x$[M.RB.PREMIUM_BANNER].paramater,sku:null==u?void 0:u.sku,finalPrice:(0,m.A8)(null==u?void 0:u.prices),definitionId:null==u?void 0:u.definitionId,userId:null==e?void 0:e.userId,merchantId:null==u?void 0:u.merchantId}}),null!=b&&b.get(O._.DISPLAY_WINNER_CAMPAIGN)&&(null==V||!V.get(null===(h=M.x$[M.RB.WINNER_CAMPAIGN])||void 0===h||null===(T=h.id)||void 0===T?void 0:T.toString()))&&(null==K?void 0:K.campaignCount)>0&&x.push({...M.x$[M.RB.WINNER_CAMPAIGN],paramater:{...M.x$[M.RB.WINNER_CAMPAIGN].paramater}}),null==b||!b.get(O._.DISPLAY_MFE_CLIENT_SIDE_PRODUCT_DESCRIPTION)||null!=V&&V.get(null===(P=M.x$[M.RB.PRODUCT_DESCRIPTION])||void 0===P||null===(A=P.id)||void 0===A?void 0:A.toString())||x.push({...M.x$[M.RB.PRODUCT_DESCRIPTION],paramater:{...M.x$[M.RB.PRODUCT_DESCRIPTION].paramater,sku:null==u?void 0:u.sku}}),null==b||!b.get(O._.CALL_QUESTION_ANSWER_PWA_CLIENT_SIDE)||null==b||!b.get(O._.CALL_QUESTION_ANSWER_TAB_CLIENT_SIDE)||null!=V&&V.get(null===(C=M.x$[M.RB.QUESTION_AND_ANSWER])||void 0===C||null===(S=C.id)||void 0===S?void 0:S.toString())||x.push({...M.x$[M.RB.QUESTION_AND_ANSWER],paramater:{...M.x$[M.RB.QUESTION_AND_ANSWER].paramater,sku:null==u?void 0:u.sku,hasOneVariant:null==u||!u.hasVariants||void 0}}),null==b||!b.get(O._.DISPLAY_CLIENT_MFE_BEST_REVIEW)||null!=V&&V.get(null===(L=M.x$[M.RB.BEST_REVIEW])||void 0===L||null===(N=L.id)||void 0===N?void 0:N.toString())||null!=b&&b.get(O._.DISPLAY_COMMENTS_NEW_MWEB)||x.push({...M.x$[M.RB.BEST_REVIEW],paramater:{...M.x$[M.RB.BEST_REVIEW].paramater,sku:null==u?void 0:u.sku,platform:"mobile",hasOneVariant:null==u||!u.hasVariants||void 0}}),null==b||!b.get(O._.DISPLAY_COMMENTS_NEW_MWEB)||null==b||!b.get(O._.CALL_USER_CONTENT_SERVICE_ON_CLIENT_SIDE)||null!=V&&V.get(null===(f=M.x$[M.RB.USER_CONTENT])||void 0===f||null===(F=f.id)||void 0===F?void 0:F.toString())||x.push({...M.x$[M.RB.USER_CONTENT],paramater:{...M.x$[M.RB.USER_CONTENT].paramater,sku:null==u?void 0:u.sku,baseUrl:`${d().baseUrl}${null==o?void 0:o.url}`,isClientRender:"False",isRenderHtml:"False"}}),(null==x?void 0:x.length)>0&&(0,R.V)(t(I.c.getFragments.trigger(x)))},Te=(e,l,i)=>{var n,a,r,o,s,d,u,c,v,E,g;ee&&(t(p.cq.getCardAndInstallment.trigger({maxInstallment:null==e?void 0:e.numberOfInstallments,amount:((null==e||null===(n=e.prices)||void 0===n||null===(a=n[(null==e||null===(s=e.prices)||void 0===s?void 0:s.length)-1])||void 0===a||null===(r=a.formattedPrice)||void 0===r||null===(o=r.split(","))||void 0===o?void 0:o[0])+(null==e||null===(d=e.prices)||void 0===d||null===(u=d[(null==e||null===(E=e.prices)||void 0===E?void 0:E.length)-1])||void 0===u||null===(c=u.formattedPrice)||void 0===c||null===(v=c.split(","))||void 0===v?void 0:v[1])).toString().replace(".","").replace(",",""),definitionId:null==e?void 0:e.definitionId,isFashion:null==e?void 0:e.isFashionProduct,consumerFinanceTag:(null==e?void 0:e.consumerFinanceTagList)||"",paymentTag:(null==e?void 0:e.paymentTag)||"",sku:(null==e?void 0:e.sku)||"",merchantId:(null==e||null===(g=e.merchant)||void 0===g?void 0:g.id)||"",taxRatio:(null==e?void 0:e.taxVatRate)||""})),t(p.cq.getCampaignsPdpDashboard.trigger({product:e,userInfo:i,platform:"WebSite",appKey:"WebSite"})).catch((()=>{t(T.c.setPendingState("isGetCampaignsPdpDashboardPending",!1))})),t(p.cq.getDueDate.trigger({queryModels:[...(0,m.u)(e,null==e?void 0:e.listings,i)],...(0,m.HC)(i),merchantSortingEnabled:!0})))};return a().createElement("div",{className:B.Z.root},a().createElement(g.Z,{structuredData:z}),a().createElement(v.Z,{seoInfo:le,helmetClientChanged:()=>{le&&(document.title=le.title)}}),a().createElement(n.Fragment,null,(null==c?void 0:c.length)>0&&a().createElement(y.Z,{location:r,isSchemaStructuredActive:!1,itemConfigs:(0,A.t6)(c)}),null==G?void 0:G.map(((e,l)=>{var n,r,d,c;let v=null===N.lh||void 0===N.lh||null===(n=N.lh[`${null==e?void 0:e.type}${(null==e||null===(r=e.data)||void 0===r?void 0:r.displayType)||""}`])||void 0===n?void 0:n.component,E=null===N.lh||void 0===N.lh||null===(d=N.lh[`${null==e?void 0:e.type}${(null==e||null===(c=e.data)||void 0===c?void 0:c.displayType)||""}`])||void 0===d?void 0:d.propsMapper({orderedLayoutId:null==e?void 0:e.id,position:l+1,fragmentsMap:V,dispatch:t,product:u,pageTypeForDavinci:f.ps.PRODUCT_DETAIL_PAGE,isAdultProduct:C&&F,componentData:null==e?void 0:e.data,buyback:q,history:U,match:o,queryParams:s,userInfo:Y,flags:W,campaignDetail:K,pageFeatureToggleMap:b,popularKeyword:Z,isVasExists:J,isLoading:X,isAvailableProduct:ee,seoInformation:le,payments:ie,energyClassBadge:se,isLoadingPayments:ne,allListings:de,dueDate:re,deliveryTooltips:oe,isBot:ue,selectedVasProduct:Q,vas:ce,campaigns:ve,isGetCampaignsPdpDashboardPending:Ee,winnerCampaignName:ge,variants:_e,campaignEvaluateResult:ye});return v&&E&&(null==E?void 0:E.checker)&&a().createElement(v,(0,i.default)({key:e.id||l},E))}))),a().createElement(E.Z,{dispatch:t,product:u,isAddToCartPending:ae,isAvailableProduct:ee,activeVariant:j,selectedVasProduct:Q,fragmentsMap:V}),a().createElement(_.Z,{dispatch:t,flags:W,isAdultProduct:C,isAdultProductCookie:F,tabsModalIndex:k,tabsModalVisible:H}),(null==u||null===(l=u.categories)||void 0===l?void 0:l.length)>0&&a().createElement("div",{id:"dsa-category-id",style:{display:"none",contentVisibility:"auto"}},a().createElement("div",null,(0,m.It)(u))))}));G.fetchData=async(e,l)=>{var t,i,n,a;let r,o=[];const{queryParams:s,pathParams:u,cookies:c,isBot:v,pathname:E}=l;c.hb_adult&&"0"!==c.hb_adult||(r=e(p.cq.setAdultProductCookie.trigger(!0)));const g={serverSideRendering:!0,featureToggles:null,redirection:null,results:[],seoInfo:null},_=await(0,R.V)(e(D.cq.getMobileProductDetailFeatureToggles.trigger(L.x)));if(_.hasError)return g.isError=_.result,g;const y=(0,C.KV)(null==_||null===(t=_.result)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data);var h,T;null!=_&&null!==(n=_.result)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.data&&(g.featureToggles=null==_||null===(h=_.result)||void 0===h||null===(T=h.data)||void 0===T?void 0:T.data);return v||null!=y&&y.get(O._.SERVER_SIDE_RENDER_FOR_PWA_PRODUCT_DETAIL)||(g.serverSideRendering=!1),r=v||null!=y&&y.get(O._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_PRODUCT_DETAIL)?await(0,R.a)(Promise.all([(0,R.V)(e(p.cq.getProduct.trigger(null==u?void 0:u.productId,{name:u.productDetailUrlKeyword,...(null==s?void 0:s.magaza)&&{merchant:null==s?void 0:s.magaza},channel:"mweb",isBot:v},Boolean("p"!==(null==u?void 0:u.pdpPath)))))])).then((async l=>{var t,i,n,a,r,s;let[u]=l;const c=null==u||null===(t=u.result)||void 0===t||null===(i=t.data)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.product;if(g.seoInfo=null==u||null===(a=u.result)||void 0===a||null===(r=a.data)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.seoInformation,g.productId=null==c?void 0:c.productId,null!=u&&u.hasError)return u.statusCode===F.B.NOT_FOUND?(g.isNotFound=!0,g):(g.isError=!0,g);if(null==g||!g.redirection){var _;const e=(0,m.Jw)(null==u||null===(_=u.result)||void 0===_?void 0:_.data);if(null!=e&&e.url)return g.redirection=e,g}if((v||null!=y&&y.get(O._.DISPLAY_MFE_PRODUCT_DESCRIPTION))&&o.push({...M.x$[M.RB.PRODUCT_DESCRIPTION],paramater:{...M.x$[M.RB.PRODUCT_DESCRIPTION].paramater,sku:null==c?void 0:c.sku,barcode:null==c?void 0:c.barcode,brand:null==c?void 0:c.brandId,productId:null==c?void 0:c.productId}}),v){["item_page.mobile-rank1","item_page.mobile-rank2","item_page.mobile-rank3","item_page.mobile-rank4"].forEach((e=>{o.push({...M.x$[M.RB.RECOMMENDATION],onlyClientSide:!1,id:e,componentId:e,cacheStatus:!1,paramater:{mobileSlidesToShow:2.3,showAddToCartButton:!0,scrollableLayout:!0,type:e,productId:null==c?void 0:c.productId,skuList:null==c?void 0:c.sku,shouldLoadEagerly:!0,isBot:!0}})}))}return(v||null!=y&&y.get(O._.DISPLAY_MFE_BEST_REVIEW)&&(null==y||!y.get(O._.DISPLAY_COMMENTS_NEW_MWEB)))&&o.push({...M.x$[M.RB.BEST_REVIEW],timeout:v?2e3:300,paramater:{...M.x$[M.RB.BEST_REVIEW].paramater,sku:null==c?void 0:c.sku,platform:"mobile",hasOneVariant:null==c||!c.hasVariants||void 0}}),(v||null!=y&&y.get(O._.CALL_USER_CONTENT_SERVICE_ON_PRODUCT_DETAIL)&&null!=y&&y.get(O._.DISPLAY_COMMENTS_NEW_MWEB))&&o.push({...M.x$[M.RB.USER_CONTENT],timeout:v?2e3:300,paramater:{...M.x$[M.RB.USER_CONTENT].paramater,sku:null==c?void 0:c.sku,baseUrl:`${d().baseUrl}${E}`,isClientRender:"False",isRenderHtml:"False"}}),(v||null!=y&&y.get(O._.CALL_QUESTION_ANSWER_PWA)&&null!=y&&y.get(O._.CALL_QUESTION_ANSWER_TAB_SERVER_SIDE))&&o.push({...M.x$[M.RB.QUESTION_AND_ANSWER],paramater:{sku:null==c?void 0:c.sku,hasOneVariant:null==c||!c.hasVariants||void 0}}),(null==o?void 0:o.length)>0&&await(0,R.V)(e(I.c.getFragments.trigger(o))).then((e=>{var l;null!=e&&null!==(l=e.result)&&void 0!==l&&l.find((e=>!(null!=e&&e.result)))&&(g.isPartialContent=!0)})),g})).catch((()=>(g.isError=!0,g))):g,r};const V=(0,r.connect)((e=>{const{productState:{product:l,campaignDetail:t,breadcrumbs:i,isAdultProduct:n,isAdultProductCookie:a,orderedLayoutComponents:r,buyback:o,tabsModalVisible:s,tabsModalIndex:d,selectedVasProduct:u,popularKeyword:c,chatOptions:v,isVasExists:E,isLoading:g,productStructuredData:_,activeVariant:y,isAvailableProduct:p,seoInformation:D,webtrekkData:I,payments:h,isLoadingPayments:T,energyClassBadge:R,dueDate:P,deliveryTooltips:A,allListings:C,vas:m,campaigns:S,winnerCampaignName:L,variants:N,campaignEvaluateResult:O},voltranState:{fragmentsMap:f},featureToggleState:{pageFeatureToggleMap:M},modalState:{flags:F},pendingState:{isAddToCartPending:x,isGetCampaignsPdpDashboardPending:B}}=e;return{product:l,breadcrumbs:i,isAdultProduct:n,isAdultProductCookie:a,fragmentsMap:f,orderedLayoutComponents:r,pageFeatureToggleMap:M,buyback:o,tabsModalVisible:s,tabsModalIndex:d,flags:F,campaignDetail:t,selectedVasProduct:u,popularKeyword:c,chatOptions:v,isVasExists:E,isLoading:g,productStructuredData:_,activeVariant:y,isAvailableProduct:p,seoInformation:D,webtrekkData:I,payments:h,isLoadingPayments:T,isAddToCartPending:x,allListings:C,energyClassBadge:R,dueDate:P,deliveryTooltips:A,vas:m,campaigns:S,campaignEvaluateResult:O,isGetCampaignsPdpDashboardPending:B,winnerCampaignName:L,variants:N}}))((0,u.Z)((0,c.Z)(G))),b=(0,o.withRouter)(V)},56164:(e,l,t)=>{t.d(l,{default:()=>Ze});var i=t(13865),n=t(35610),a=t.n(n),r=t(17463),o=t.n(r),s=t(32192),d=t(7738),u=t(97181),c=t(6641),v=t(66727),E=t(15707),g=t.n(E),_=t(83346),y=t(14486),p=t.n(y),D=t(69822),I=t(56786),h=t(33871),T=t(82103),R=t(25877),P=t(63990),A=t(31060),C=t(24715),m=t(15787),S=t(95155),L=t(94180),N=t(56019),O=t(73453),f=t(5489),M=t(58956),F=t(14601),x=t(29424),B=t(17615),G=t(84762),V=t(86139),b=t(43422),w=t(12111),Y=t(48950),q=t(14053),H=t(73426),k=t(84713),U=t(86088),W=t(90065),K=t(12987),Z=t(46124),Q=t(39892),$=t(53971),J=t(56620),X=t(86782),z=t(16332),j=t(62099),ee=t(63570),le=t(27165),te=t(80243),ie=t(75792),ne=t(18162),ae=t(24005),re=t(72765),oe=t(81737),se=t(13674),de=t(71453),ue=t(89498),ce=t(17813),ve=t(59079),Ee=t(63132),ge=t(7282),_e=t(53933),ye=t(45470),pe=t(95594),De=t(61478),Ie=t(63503),he=t(69163),Te=t(78282),Re=t(82867),Pe=t(56789),Ae=t(56837),Ce=t(60810),me=t(37952),Se=t(39286),Le=t(16319);const Ne=(0,v.ZP)({resolved:{},chunkName:()=>"views-filter-management-panel-FilterManagementPanel",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,37492)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 37492}}),Oe=(0,v.ZP)({resolved:{},chunkName:()=>"partials-FilterBarWithSticky-FilterBarWithSticky",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,4017)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 4017}}),fe=(0,v.ZP)({resolved:{},chunkName:()=>"views-category-no-result-view-NoResultViewWithAnalytics",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,69752)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 69752}}),Me=(0,v.ZP)({resolved:{},chunkName:()=>"partials-NoResult-Delivery-NoResultDeliveryView",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,36251)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 36251}}),Fe=(0,v.ZP)({resolved:{},chunkName:()=>"views-filter-campaignfilter-CampaignFilter",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,27795)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 27795}}),xe=(0,_.Z)({on:["visible"]})(ye.Z),Be=(0,_.Z)({on:["visible"]})(fe),Ge="Search",Ve=[S._.DISPLAY_GLOBAL_CAMPAIGN_TEXT,S._.USE_ARWEN_FOR_SUGGESTIONS_ON_MOBILE,S._.PAGE_LIMIT_IN_LISTING_PAGES,S._.DISPLAY_ITEM_COUNT_ON_CART_SF,S._.DISPLAY_RECOMMENDATIONS,S._.PAGE_LIMIT_IN_SEARCH,S._.DISPLAY_FEEDBACK,S._.ENABLE_ENSIGHTEN,S._.DISPLAY_THIRD_PRICE_WITH_BASKET,S._.USE_HIGH_QUALITY_IMAGES,S._.DISPLAY_WHATSAPP_ICON,S._.DISPLAY_LIKE_BUTTON_ON_LISTING_PAGES,S._.USE_CHECKOUT_VOLTRAN_ADD_TO_CART_OTHER_PAGE,S._.DISPLAY_JET_DELIVERY_WIDGET,S._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING,S._.ENABLE_GTM,S._.DISPLAY_CAMPAIGN_FILTER,S._.SERVER_SIDE_RENDER_FOR_PWA_SEARCH_PAGE,S._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_SEARCH_PAGE,S._.HIDE_JS_FROM_GOOGLEBOT,S._.DISPLAY_NEXT_DAY_DELIVERY,S._.DISPLAY_EXPRESS_DELIVERY,S._.DISPLAY_HEPSIGLOBAL_MODAL,S._.DISPLAY_SPONSORED_BRAND_COMPONENT,S._.SHOW_QUICK_FILTER,S._.SHOW_JET_DELIVERY_IN_QUICK_FILTER,S._.LOAD_QUICK_FILTER_ON_CLIENT_SIDE,S._.USE_CLIENT_SIDE_ROUTE_PLP,S._.REMOVE_VOLTRAN_SCRIPTS_INITIAL_LOAD,S._.ENABLE_POSTBACK_ON_PLP_FILTER_SUBMIT,S._.SHOW_DEFAULT_FILTER_AND_SORTING_BOXES,S._.ONLY_SINGLE_PRODUCT_IMAGE,S._.IS_CRITICAL_CSS],be=async(e,l)=>{var t,i;let n,a=[];const{queryParams:r,cookies:o,isBot:s,isCollectionPage:d,friendlyUrl:u}=l,c={serverSideRendering:!0,featureToggles:null,redirection:null,results:[],seoInfo:null},v=(0,ne.o3)(null==o?void 0:o.location),E=await(0,Q.V)(e(D.cq.getMobileSearchFeatureToggles.trigger(Ve)));if(null!=E&&E.hasError)return c.isError=E.result,c;const g=(0,ee.KV)(E.result.data.data);var _,y;null!=E&&null!==(t=E.result)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.data&&(c.featureToggles=null==E||null===(_=E.result)||void 0===_||null===(y=_.data)||void 0===y?void 0:y.data);if(s||null!=g&&g.get(S._.SERVER_SIDE_RENDER_FOR_PWA_SEARCH_PAGE)||(c.serverSideRendering=!1),(0,$.aZ)(r[L.LG.PAGE],null==g?void 0:g.get(S._.PAGE_LIMIT_IN_SEARCH))||!(0,$.tc)(r))n=await He(l,c,r,d,u);else if(s||null!=g&&g.get(S._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_SEARCH_PAGE)){var p;const t=null==v||null===(p=v.town)||void 0===p?void 0:p.code,i=(0,K._G)({queryParams:r,receiverTownCode:t}),s=null==g?void 0:g.get(S._.LOAD_QUICK_FILTER_ON_CLIENT_SIDE),E=null==g?void 0:g.get(S._.SHOW_QUICK_FILTER),_=E&&(null==g?void 0:g.get(S._.SHOW_JET_DELIVERY_IN_QUICK_FILTER));if(!_&&(null==g?void 0:g.get(S._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==g?void 0:g.get(S._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING))){var T,P,A,m,N,O,f,F,G,V,b,Y,q,H,U,W,Z,J,X,z,j,le,ie,re;const t=await(0,Q.V)(e(h.cq.getDeliveryInfo.trigger({...r,...i,pageType:Ge,[M.M2.CATEGORY]:null,[M.M2.CITIES]:null==v||null===(T=v.city)||void 0===T?void 0:T.code,[M.M2.RECEIVER_CITY]:null==v||null===(P=v.city)||void 0===P?void 0:P.name,[M.M2.RECEIVER_TOWN]:null==v||null===(A=v.town)||void 0===A?void 0:A.name,[M.M2.RECEIVER_DISTRICT]:null==v||null===(m=v.district)||void 0===m?void 0:m.name},o))),n=null==t||null===(N=t.result)||void 0===N||null===(O=N.data)||void 0===O?void 0:O.data;(0,te.k_)(r,v,n,l,c,k.QA);const s=(null==n||null===(f=n.nextDayDelivery)||void 0===f||null===(F=f.values)||void 0===F?void 0:F.length)>0,d=null==n||null===(G=n.nextDayDelivery)||void 0===G||null===(V=G.selectedValues)||void 0===V?void 0:V[0],u=null==n||null===(b=n.nextDayDelivery)||void 0===b?void 0:b.hasProduct,E=null==n||null===(Y=n.nextDayDelivery)||void 0===Y?void 0:Y.insideCutoff,_=null==n||null===(q=n.nextDayDelivery)||void 0===q?void 0:q.isDisplayable,y=(null==n||null===(H=n.expressDelivery)||void 0===H||null===(U=H.values)||void 0===U?void 0:U.length)>0,p=null==n||null===(W=n.expressDelivery)||void 0===W||null===(Z=W.selectedValues)||void 0===Z?void 0:Z[0],D=null==n||null===(J=n.expressDelivery)||void 0===J?void 0:J.hasProduct,I=null==n||null===(X=n.expressDelivery)||void 0===X?void 0:X.insideCutoff,R=null==n||null===(z=n.expressDelivery)||void 0===z?void 0:z.isDisplayable,C=u&&E,L=D&&I;e(h.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(d),expressDeliverySelected:Boolean(p)})),a.push({...w.x$[w.RB.DELIVERY],paramater:{...w.x$[w.RB.DELIVERY].paramater,mobile:!0,selectorViewType:"bottom_sheet",nextDayDeliverySelected:Boolean(d),nextDayDeliveryDisabled:!(null!=v&&null!==(j=v.city)&&void 0!==j&&j.code)||!s||(null==v||null===(le=v.city)||void 0===le?void 0:le.code)&&!C&&!d,nextDayDeliveryInsideCutoff:Boolean(E),nextDayDeliveryHasProduct:Boolean(u),nextDayDeliveryVisible:(null==g?void 0:g.get(S._.DISPLAY_NEXT_DAY_DELIVERY))&&_,expressDeliverySelected:Boolean(p),expressDeliveryDisabled:!(null!=v&&null!==(ie=v.city)&&void 0!==ie&&ie.code)||!y||(null==v||null===(re=v.city)||void 0===re?void 0:re.code)&&!L&&!p,expressDeliveryInsideCutoff:Boolean(I),expressDeliveryVisible:(null==g?void 0:g.get(S._.DISPLAY_EXPRESS_DELIVERY))&&R,expressDeliveryHasProduct:D}})}if(E){const{url:t}=l,i=(0,oe.CJ)({url:t,locationCookie:v});if(i)return c.redirection={isInternal:!0,type:B.B.MOVED_PERMANENTLY,url:i},c;s||(a.push((0,ae.m)({url:t,locationCookie:v})),_&&(await(0,oe.Qu)({dispatch:e,queryParams:r,locationCookie:null==o?void 0:o.location}),a.push(w.x$[w.RB.SHIPPING_LOCATION])))}const y={collectionpage:d||!1,friendlyurl:u||""};n=await(0,Q.a)(Promise.all([(0,Q.V)(e(I.cq.getSearchProducts.trigger({...r,...i},o,y))),(null==g?void 0:g.get(S._.DISPLAY_CAMPAIGN_FILTER))&&(0,Q.V)(e(h.cq.getCampaignFilter.trigger({...r,pageType:Ge},o)))])).then((async l=>{var t,n,s,u,v,E,_,y,p,D,I,h;let[T]=l;if(null!=T&&T.hasError)return c.isError=null==T?void 0:T.result,c;const P=(null==T||null===(t=T.result)||void 0===t||null===(n=t.data)||void 0===n||null===(s=n.data)||void 0===s||null===(u=s.searchContext)||void 0===u?void 0:u.originalSearchTerm)||r[M.M2.QUERY];var A,m,L,N;null!=T&&null!==(v=T.result)&&void 0!==v&&null!==(E=v.data)&&void 0!==E&&E.data&&(null!=T&&null!==(A=T.result)&&void 0!==A&&null!==(m=A.data)&&void 0!==m&&null!==(L=m.data)&&void 0!==L&&L.products&&(null!=c&&c.redirection||(c.redirection=(0,$.UC)(null==T||null===(N=T.result)||void 0===N?void 0:N.data,{...r,[M.M2.QUERY]:P}))));c.seoInfo=null==T||null===(_=T.result)||void 0===_||null===(y=_.data)||void 0===y||null===(p=y.data)||void 0===p?void 0:p.seoInformation;const O=null==T||null===(D=T.result)||void 0===D||null===(I=D.data)||void 0===I||null===(h=I.data)||void 0===h?void 0:h.products;var f;(c.productList=null==O?void 0:O.map((e=>null==e?void 0:e.sku)),d)&&(null!=c&&null!==(f=c.seoInfo)&&void 0!==f&&f.utagData&&(c.seoInfo.utagData.page_value=P));return null!=g&&g.get(S._.DISPLAY_SPONSORED_BRAND_COMPONENT)&&a.push({...w.x$[w.RB.SPONSORED_BRAND_COMPONENT],paramater:{...r,[M.M2.QUERY]:P,isMobile:!0}}),await(0,Q.a)(Promise.all([(0,Q.V)(e(R.cq.getSearchBanners.trigger(x.E.SEARCH_RESULT_TOP,{keyword:P}))),we(e,"",{...r,...i},o),(null==a?void 0:a.length)>0&&await(0,Q.V)(e(C.c.getFragments.trigger(a)))])).then((async e=>{let[l,t]=e;if(null!=t&&t.hasError)return c.isError=null==t?void 0:t.result,c})),c}))}else n=c;return n},we=(e,l,t,i)=>{let n={};return(l||t[M.M2.QUERY])&&(n[M.M2.QUERY]=l||t[M.M2.QUERY]),t[M.M2.RATING]&&(n[M.M2.RATING]=t[M.M2.RATING]),t[M.M2.GENERIC_FILTERS]&&(n[M.M2.GENERIC_FILTERS]=t[M.M2.GENERIC_FILTERS]),t[M.M2.CATEGORY]&&(n[M.M2.CATEGORY]=t[M.M2.CATEGORY]),t[M.M2.BRAND]&&(n[M.M2.BRAND]=t[M.M2.BRAND]),t[M.M2.IGNORE_TOLKIEN]&&(n[M.M2.IGNORE_TOLKIEN]=t[M.M2.IGNORE_TOLKIEN]),t[M.M2.IGNORE_TYPO]&&(n[M.M2.IGNORE_TYPO]=t[M.M2.IGNORE_TYPO]),t[M.M2.IGNORE_CATEGORY]&&(n[M.M2.IGNORE_CATEGORY]=t[M.M2.IGNORE_CATEGORY]),t[M.M2.IGNORE_GENDER]&&(n[M.M2.IGNORE_GENDER]=t[M.M2.IGNORE_GENDER]),t[M.M2.IGNORE_COLOR]&&(n[M.M2.IGNORE_COLOR]=t[M.M2.IGNORE_COLOR]),t[M.M2.RECEIVER_TOWN_CODE]&&(n[M.M2.RECEIVER_TOWN_CODE]=t[M.M2.RECEIVER_TOWN_CODE]),(0,Q.V)(e(h.cq.getSearchFilters.trigger(n,i)))},Ye=function(e,l){return!((!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&Boolean(e[L.LG.SORT_BY])||l)},qe=e=>!(Boolean(e[L.LG.SORT_BY])||Boolean(e[L.LG.PAGE])),He=(e,l,t,i,n)=>{const a=t[M.M2.QUERY];return i?new Promise((e=>{l.redirection={type:B.B.MOVED_PERMANENTLY,url:n},e(l)})):null!=a&&a.length&&a.length>G.yq?new Promise(((i,n)=>{l.redirection={type:B.B.FOUND,url:(0,k.Yw)(e.pathname)+(0,k.T9)({...t,[L.LG.PAGE]:null})},i(l)})):new Promise(((e,t)=>{l.redirection={type:B.B.MOVED_PERMANENTLY,url:"/"},e(l)}))},ke=e=>{var l,t;const r=(0,W.D)(e),{dispatch:s,queryParams:d,userInfoPromise:v,searchProductArray:g,algKey:_,isFetching:y,pageFeatureToggleMap:m,deliveryLocation:B,location:ee,searchTermTypo:de,serverSideRendering:ue,routeChange:ge,ignoreTolkienForSearchFilters:_e,ignoreGender:ye,ignoreColor:fe,ignoreCategory:be,appliedFacetArray:He,userInfo:ke,totalSearchProductCount:Ue,fragmentsMap:We,deliveryInfo:Ke,hasAppliedFilters:Ze,searchBannersMap:Qe,filterApiQueryParams:$e,searchPageFilterQueryParams:Je,match:Xe,searchContext:ze,ignoreTolkien:je,townToTownEAD:el,searchContextForSearchFilters:ll,clickedClearAllFilters:tl,activeFacet:il,visibleSelectedFiltersByFacetMap:nl,isTolkienBrandFiltersApplied:al,productSuggestionExist:rl,productSuggestion:ol,facetList:sl,nextDayDelivery:dl,expressDelivery:ul,categoryId:cl,nextDayDeliveryCheckboxChecked:vl,expressDeliveryCheckboxChecked:El,history:gl,seoInfo:_l,searchSeoInfo:yl,isGetSearchProductsPending:pl,totalSearchPageNumber:Dl,searchProductPaginationParams:Il,filteredCategory:hl,selectedFiltersByFacetMap:Tl,searchShippingType:Rl,searchSearchPass:Pl,isTolkienBrandFiltersAppliedForSearchFilters:Al,isGetSplitProductVariantsPending:Cl,isBot:ml,isAddToCartPending:Sl,cartCandidateProduct:Ll,campaignFilters:Nl,nextDayDeliverySelected:Ol,expressDeliverySelected:fl,appliedSelectedAnyDeliveryValue:Ml,scoreFunctionName:Fl,fragmentsIsLoading:xl,isCollectionPage:Bl,friendlyUrl:Gl,quickFilterViewCount:Vl,sortValue:bl,selectedFilterCount:wl}=e;var Yl;!Bl||null!=d&&d.q||(d.q=(null==ze?void 0:ze.originalSearchTerm)||(null==Xe||null===(Yl=Xe.params)||void 0===Yl?void 0:Yl.collectionPageKeyword),null!=_l&&_l.utagData&&(_l.utagData.page_value=d.q));const[ql,Hl]=(0,n.useState)(!1),[kl,Ul]=(0,n.useState)(1===(d[L.LG.PAGE]||1)),[Wl,Kl]=(0,n.useState)(!1),[Zl,Ql]=(0,n.useState)(null),[$l,Jl]=(0,n.useState)(!0),[Xl,zl]=(0,n.useState)(!1),[jl,et]=(0,n.useState)(!1),[lt,tt]=(0,n.useState)({}),{showQuickFilter:it,showJetDeliveryInQuickFilter:nt,triggerQuickFilter:at}=(0,Ae.Z)({featureToggleMap:m}),rt=null==m?void 0:m.get(S._.DISPLAY_SPONSORED_BRAND_COMPONENT),ot=(0,n.useMemo)((()=>{var e;return null==B||null===(e=B.town)||void 0===e?void 0:e.code}),[B]),st=(0,n.useMemo)((()=>(0,K._G)({queryParams:d,receiverTownCode:ot})),[d,ot]),dt=(0,n.useMemo)((()=>{const e=(null==d?void 0:d.q)||"";return Bl?(0,re.Um)({searchParam:e}):[]}),[null==d?void 0:d.q]),ut=(0,n.useMemo)((()=>{const e=(null==d?void 0:d.q)||"";return Bl?(0,re.I8)({searchParam:e}):""}),[null==d?void 0:d.q]),ct=(0,n.useRef)(null),vt=(0,n.useRef)(Ke),Et=(0,n.useRef)(),gt=(0,n.useRef)(B),_t=(0,n.useRef)(d);Et.current={searchProductArray:g,deliveryLocation:B,queryParams:d,searchTermTypo:de,isComponentRender:Wl},(0,n.useEffect)((()=>{H.Z.handleDomLoaded(s,V.uF.SEARCH),bt(),Yt();const e=(0,j.b)("location"),l=(0,ne.o3)(e);return Vt(l),v.then((async()=>{m||(await(0,se.y)(),await(0,Q.V)(s(D.cq.getMobileSearchFeatureToggles.trigger(Ve)))),await yt()})),()=>{var e,l,t,i,n,a,r,o,d,u;s(h.cq.getSearchFilters.cancel()),s(h.cq.getNextSearchFilters.cancel()),s(I.cq.getSearchProducts.cancel()),s(I.cq.getNextSearchProducts.cancel()),s(D.cq.getMobileSearchFeatureToggles.cancel()),s(R.cq.getSearchBanners.cancel()),s(h.cq.getCampaignFilter.cancel()),null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.off(O.W9,wt),null===(t=window)||void 0===t||null===(i=t.HbEventBus)||void 0===i||i.off(f._A,qt),null===(n=window)||void 0===n||null===(a=n.HbEventBus)||void 0===a||a.emit(O.Th,!1),null===(r=window)||void 0===r||null===(o=r.HbEventBus)||void 0===o||o.emit(O.Zw,!1),null===(d=window)||void 0===d||null===(u=d.HbEventBus)||void 0===u||u.emit(O.bQ,{removeEventListener:!0}),Jl(!1)}}),[]);const yt=async()=>{const{searchProductArray:e,deliveryLocation:l,queryParams:t,searchTermTypo:i,isComponentRender:n}=Et.current;if(e)Tt(!0),H.Z.handlePageRendered(s),Bt(n);else{const e=(0,z.$1)();var a,r,o,d;if(null!=m&&m.get(S._.DISPLAY_JET_DELIVERY_WIDGET)&&null!=m&&m.get(S._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING)&&!nt)await(0,Q.V)(s(h.cq.getDeliveryInfo.trigger({...t,...st,pageType:Ge,[M.M2.CATEGORY]:null,[M.M2.CITIES]:null==l||null===(a=l.city)||void 0===a?void 0:a.code,[M.M2.RECEIVER_CITY]:null==l||null===(r=l.city)||void 0===r?void 0:r.name,[M.M2.RECEIVER_TOWN]:null==l||null===(o=l.town)||void 0===o?void 0:o.name,[M.M2.RECEIVER_DISTRICT]:null==l||null===(d=l.district)||void 0===d?void 0:d.name}))).then((e=>{var t,i,n,a,r,o,s,d,u,c,v,E,g,_,y,p,D,I,h,T;const R=null==e||null===(t=e.result)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data;vt.current=R;const P=(null==R||null===(n=R.nextDayDelivery)||void 0===n||null===(a=n.values)||void 0===a?void 0:a.length)>0,A=null==R||null===(r=R.nextDayDelivery)||void 0===r||null===(o=r.selectedValues)||void 0===o?void 0:o[0],C=null==R||null===(s=R.nextDayDelivery)||void 0===s?void 0:s.hasProduct,m=null==R||null===(d=R.nextDayDelivery)||void 0===d?void 0:d.insideCutoff,S=null==R||null===(u=R.nextDayDelivery)||void 0===u?void 0:u.isDisplayable,L=(null==R||null===(c=R.expressDelivery)||void 0===c||null===(v=c.values)||void 0===v?void 0:v.length)>0,N=null==R||null===(E=R.expressDelivery)||void 0===E||null===(g=E.selectedValues)||void 0===g?void 0:g[0],O=null==R||null===(_=R.expressDelivery)||void 0===_?void 0:_.hasProduct,f=null==R||null===(y=R.expressDelivery)||void 0===y?void 0:y.insideCutoff,M=null==R||null===(p=R.expressDelivery)||void 0===p?void 0:p.isDisplayable,F=C&&m,x=O&&f;Gt({nextDayDeliveryIsSelected:Boolean(A),nextDayDeliveryIsDisabled:!(null!=l&&null!==(D=l.city)&&void 0!==D&&D.code)||!P||(null==l||null===(I=l.city)||void 0===I?void 0:I.code)&&!F&&!A,nextDayDeliveryInsideCutoff:m,nextDayDeliveryHasProduct:C,nextDayDeliveryVisible:S,expressDeliveryIsSelected:Boolean(N),expressDeliveryIsDisabled:!(null!=l&&null!==(h=l.city)&&void 0!==h&&h.code)||!L||(null==l||null===(T=l.city)||void 0===T?void 0:T.code)&&!x&&!N,expressDeliveryInsideCutoff:f,expressDeliveryHasProduct:O,expressDeliveryVisible:M})}));if(nt){const e=(0,j.b)("location");await(0,oe.Qu)({dispatch:s,queryParams:t,locationCookie:e})}(0,Q.V)(s(I.cq.getSearchProducts.trigger({...t,...st},e,{collectionpage:Dt()||!1,friendlyurl:Gl||""}))).then((e=>{Lt(e.result.data),H.Z.handlePageRendered(s),Bt(n)}));const i=(null==ze?void 0:ze.originalSearchTerm)||(null==t?void 0:t[M.M2.QUERY]);we(s,i,t,e).then((()=>{null!=m&&m.get(S._.DISPLAY_CAMPAIGN_FILTER)&&(0,Q.V)(s(h.cq.getCampaignFilter.trigger({...t,pageType:Ge})))}))}Pt("create"),pt()};(0,U.S)((()=>{m&&yt()}),[m]),(0,U.S)((()=>{mt(r)}),[ee]),(0,U.S)((()=>{_t.current=d}),[d]),(0,U.S)((()=>{Rt()}),[g]),(0,U.S)((()=>{pt(),window.addEventListener("popstate",((e,l)=>{r.location.hash===O.ee&&window.location.hash!==r.location.hash&&(s(h.cq.resetActiveFacet()),s(h.cq.restorePreviousFilterState()),Ct())}))})),(0,n.useLayoutEffect)((()=>{H.Z.handlePageRenderStart(s,V.uF.SEARCH)}),[ee]);const pt=async()=>{const e=document.getElementById("headroom"),l=document.getElementById("headroomForCampaign"),t=document.getElementById("filterBar"),i=document.getElementById("campaignFilter");null!==e&&0!==e.offsetTop&&(await(0,se.y)(),Ql(l&&i&&t?l.offsetTop+i.offsetHeight:e.offsetTop+t.offsetHeight))},Dt=()=>{var e;return Boolean(!(null!=ee&&null!==(e=ee.pathname)&&void 0!==e&&e.includes(F._1[F.VT.MOBILE].SEARCH_PAGE)))},It=e=>{let{pageNumber:l}=e;const t=Bl&&Dt()?(0,re.Nc)({object:d,removedKey:L.LG.QUERY}):{...d,[L.LG.QUERY]:(null==ze?void 0:ze.originalSearchTerm)||(null==d?void 0:d[M.M2.QUERY])},i=(e=>{let{pageNumber:l}=e;return(0,k.T9)({...d,[L.LG.PAGE]:l>1?l:null,[L.LG.QUERY]:null,[M.M2.IGNORE_TOLKIEN]:_e?G.Ps.VALUE:null,[M.M2.IGNORE_GENDER]:ye?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe?G.oS.VALUE:null},{withPrefix:!1,encode:!1})})({pageNumber:l});return Bl&&Dt()?i:(0,k.ji)(i,t)},ht=function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=It({pageNumber:e}),i=Bl&&Dt()?F._1[F.VT.MOBILE].COLLECTION_PAGE:F._1[F.VT.MOBILE].SEARCH_PAGE;xt({pathname:(0,Z.RC)(i,Xe.params),search:t,state:{shouldAppendNewSearchProducts:l,preventScrollToTop:Bl}},{isReplace:!0})},Tt=e=>{const l=(0,X.oS)(d,He,Ue,Ue,e);(0,X.kp)(l,ke.isAuthenticated),s(T.cq.sendWebtrekkEvent.trigger(l))},Rt=()=>{H.Z.handleDomLoaded(s,V.uF.SEARCH),Tt(!0)},Pt=async e=>{var l;const t=(null==ze?void 0:ze.originalSearchTerm)||(null==d?void 0:d[M.M2.QUERY]),i=(null==r||null===(l=r.queryParams)||void 0===l?void 0:l[M.M2.QUERY])!==(null==d?void 0:d[M.M2.QUERY]);if((()=>{const e=[];if(null!=We&&We.get(w.x$[w.RB.FAVORITE].id.toString())||null==m||!m.get(S._.DISPLAY_LIKE_BUTTON_ON_LISTING_PAGES)||e.push(w.x$[w.RB.FAVORITE]),null!=We&&We.get(w.x$[w.RB.ADD_TO_CART].id.toString())||null==m||!m.get(S._.USE_CHECKOUT_VOLTRAN_ADD_TO_CART_OTHER_PAGE)||e.push(w.x$[w.RB.ADD_TO_CART]),(null==We||!We.get(w.x$[w.RB.DELIVERY].id.toString()))&&null!=m&&m.get(S._.DISPLAY_JET_DELIVERY_WIDGET)&&null!=m&&m.get(S._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING)&&!nt){var l,t,i,n,a,r,o,u,c,v,E,g,_,y,p,D,I,h,T,R,P,A,L,N,O,f,F,x;const s=(null==vt||null===(l=vt.current)||void 0===l||null===(t=l.nextDayDelivery)||void 0===t||null===(i=t.values)||void 0===i?void 0:i.length)>0,d=null==vt||null===(n=vt.current)||void 0===n||null===(a=n.nextDayDelivery)||void 0===a||null===(r=a.selectedValues)||void 0===r?void 0:r[0],C=null==vt||null===(o=vt.current)||void 0===o||null===(u=o.nextDayDelivery)||void 0===u?void 0:u.hasProduct,M=null==vt||null===(c=vt.current)||void 0===c||null===(v=c.nextDayDelivery)||void 0===v?void 0:v.insideCutoff,G=null==vt||null===(E=vt.current)||void 0===E||null===(g=E.nextDayDelivery)||void 0===g?void 0:g.isDisplayable,V=(null==vt||null===(_=vt.current)||void 0===_||null===(y=_.expressDelivery)||void 0===y||null===(p=y.values)||void 0===p?void 0:p.length)>0,b=null==vt||null===(D=vt.current)||void 0===D||null===(I=D.expressDelivery)||void 0===I||null===(h=I.selectedValues)||void 0===h?void 0:h[0],Y=null==vt||null===(T=vt.current)||void 0===T||null===(R=T.expressDelivery)||void 0===R?void 0:R.hasProduct,q=null==vt||null===(P=vt.current)||void 0===P||null===(A=P.expressDelivery)||void 0===A?void 0:A.insideCutoff,H=null==vt||null===(L=vt.current)||void 0===L||null===(N=L.expressDelivery)||void 0===N?void 0:N.isDisplayable,k=C&&M,U=Y&&q;e.push((G||H)&&{...w.x$[w.RB.DELIVERY],paramater:{...w.x$[w.RB.DELIVERY].paramater,mobile:!0,selectorViewType:"bottom_sheet",nextDayDeliverySelected:Boolean(d),nextDayDeliveryDisabled:!(null!=B&&null!==(O=B.city)&&void 0!==O&&O.code)||!s||(null==B||null===(f=B.city)||void 0===f?void 0:f.code)&&!k&&!d,nextDayDeliveryInsideCutoff:Boolean(M),nextDayDeliveryHasProduct:Boolean(C),nextDayDeliveryVisible:(null==m?void 0:m.get(S._.DISPLAY_NEXT_DAY_DELIVERY))&&G,expressDeliverySelected:Boolean(b),expressDeliveryDisabled:!(null!=B&&null!==(F=B.city)&&void 0!==F&&F.code)||!V||(null==B||null===(x=B.city)||void 0===x?void 0:x.code)&&!U&&!b,expressDeliveryInsideCutoff:Boolean(q),expressDeliveryHasProduct:Boolean(Y),expressDeliveryVisible:(null==m?void 0:m.get(S._.DISPLAY_EXPRESS_DELIVERY))&&H}})}if((null==We||!We.get(w.x$[w.RB.MORIA_LISTING].id.toString()))&&it){const l=(0,ne.o3)((0,j.b)("location")||"");e.push((0,ae.m)({url:`${null==ee?void 0:ee.pathname}${null==ee?void 0:ee.search}`,locationCookie:l})),null!=We&&We.get(w.x$[w.RB.SHIPPING_LOCATION].id.toString())||!nt||e.push(w.x$[w.RB.SHIPPING_LOCATION])}if((null==We||!We.get(w.x$[w.RB.SPONSORED_BRAND_COMPONENT].id.toString()))&&rt){const l=(null==ze?void 0:ze.originalSearchTerm)||(null==d?void 0:d[M.M2.QUERY]);e.push({...w.x$[w.RB.SPONSORED_BRAND_COMPONENT],paramater:{...d,[M.M2.QUERY]:l,isMobile:!0}})}if((null==e?void 0:e.length)>0){const l=null==e?void 0:e.filter((e=>e));(0,Q.V)(s(C.c.getFragments.trigger(l)))}})(),Qe&&"update"!==e||!Ye(d,Ze||Boolean(d.kategori))||(0,Q.V)(s(R.cq.getSearchBanners.trigger(x.E.SEARCH_RESULT_TOP,{keyword:t}))),i&&rt&&"update"===e){const e=[{...w.x$[w.RB.SPONSORED_BRAND_COMPONENT],paramater:{...d,[M.M2.QUERY]:t,isMobile:!0}}];s(C.c.getFragments.cancel()),await(0,Q.V)(s(C.c.getFragments.trigger(e)))}},At=async()=>{await(0,se.y)(),s(h.cq.openFilterManagementPanel()),await(0,se.y)(),Hl(!0)},Ct=async(e,l)=>{const t=null==m?void 0:m.get(S._.ENABLE_POSTBACK_ON_PLP_FILTER_SUBMIT);"submit"===l&&t||(await(0,se.y)(),s(h.cq.closeFilterManagementPanel()),requestAnimationFrame((()=>{setTimeout((()=>{Hl(!1)}),0)})))},mt=async e=>{const l=d[L.LG.CATEGORY],t=St(e),i=e.match.params.categoryId!==l,n=e.location.search===ee.search,a=e.queryParams[L.LG.PAGE]!==d[L.LG.PAGE],r=e.queryParams[L.LG.SORT_BY]!==d[L.LG.SORT_BY],o=e.queryParams[M.M2.QUERY]!==d[M.M2.QUERY],u=(0,k.bO)(window.location.hash),c=e.queryParams[M.M2.GENERIC_FILTERS]!==d[M.M2.GENERIC_FILTERS],v=e.queryParams[M.M2.BRAND]!==d[M.M2.BRAND],E=n||Boolean(window.location.hash),g=(0,re.jT)(ee.pathname),_=e.queryParams[L.LG.PAGE]&&!d[L.LG.PAGE];if((g&&!a||(_||!a||t)&&(c||v)&&it)&&!E){var y,p;const e=null==gt||null===(y=gt.current)||void 0===y?void 0:y.city,l=null==gt||null===(p=gt.current)||void 0===p?void 0:p.town,t=e&&l?{cityCode:null==e?void 0:e.code,receiverTownCode:null==l?void 0:l.code}:{};at({address:t})}if((o||t)&&null!=m&&m.get(S._.DISPLAY_JET_DELIVERY_WIDGET)&&null!=m&&m.get(S._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING)&&!nt){var D,I,T,R;if((0,te.YT)(d,B)){const e=(0,k.ji)((0,k.T9)({...(0,te.kw)(d,B),[M.M2.QUERY]:null},{withPrefix:!1,encode:!1},{isReplace:!0}),d);xt({pathname:(0,Z.RC)(F._1[F.VT.MOBILE].SEARCH_PAGE),search:e},{isReplace:!0})}(0,Q.V)(s(h.cq.getDeliveryInfo.trigger({...d,...st,pageType:Ge,[M.M2.QUERY]:d[M.M2.QUERY],[M.M2.CATEGORY]:null,[M.M2.CITIES]:null==B||null===(D=B.city)||void 0===D?void 0:D.code,[M.M2.RECEIVER_CITY]:null==B||null===(I=B.city)||void 0===I?void 0:I.name,[M.M2.RECEIVER_TOWN]:null==B||null===(T=B.town)||void 0===T?void 0:T.name,[M.M2.RECEIVER_DISTRICT]:null==B||null===(R=B.district)||void 0===R?void 0:R.name}))).then((e=>{var l,t,i,n,a,r,o,s,d,u,c,v,E,g,_,y,p,D,I,h;const T=null==e||null===(l=e.result)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data,R=(null==T||null===(i=T.nextDayDelivery)||void 0===i||null===(n=i.values)||void 0===n?void 0:n.length)>0,P=null==T||null===(a=T.nextDayDelivery)||void 0===a||null===(r=a.selectedValues)||void 0===r?void 0:r[0],A=null==T||null===(o=T.nextDayDelivery)||void 0===o?void 0:o.hasProduct,C=null==T||null===(s=T.nextDayDelivery)||void 0===s?void 0:s.insideCutoff,m=null==T||null===(d=T.nextDayDelivery)||void 0===d?void 0:d.isDisplayable,S=(null==T||null===(u=T.expressDelivery)||void 0===u||null===(c=u.values)||void 0===c?void 0:c.length)>0,L=null==T||null===(v=T.expressDelivery)||void 0===v||null===(E=v.selectedValues)||void 0===E?void 0:E[0],N=null==T||null===(g=T.expressDelivery)||void 0===g?void 0:g.hasProduct,O=null==T||null===(_=T.expressDelivery)||void 0===_?void 0:_.insideCutoff,f=null==T||null===(y=T.expressDelivery)||void 0===y?void 0:y.isDisplayable,M=A&&C,F=N&&O;Gt({nextDayDeliveryIsSelected:Boolean(P),nextDayDeliveryIsDisabled:!(null!=B&&null!==(p=B.city)&&void 0!==p&&p.code)||!R||(null==B||null===(D=B.city)||void 0===D?void 0:D.code)&&!M&&!P,nextDayDeliveryInsideCutoff:C,nextDayDeliveryHasProduct:A,nextDayDeliveryVisible:m,expressDeliveryIsSelected:Boolean(L),expressDeliveryIsDisabled:!(null!=B&&null!==(I=B.city)&&void 0!==I&&I.code)||!S||(null==B||null===(h=B.city)||void 0===h?void 0:h.code)&&!F&&!L,expressDeliveryInsideCutoff:O,expressDeliveryHasProduct:N,expressDeliveryVisible:f})}))}if((o||t)&&nt){const e=(0,j.b)("location");await(0,oe.Qu)({dispatch:s,queryParams:d,locationCookie:e})}(r||i||a||t||jl)&&Ot({areSelectedFiltersQueryParamsChanged:t}).then((e=>{s(P.cq.setNextSeoInfo(e.result)),Lt(e.result.data),H.Z.handlePageRendered(s),Bt(Wl)})),(r||a||t)&&Pt("update"),ft(i,t,a,r),ee.state&&(!ee.state||ee.state.shouldAppendNewSearchProducts)||u.sortId||ct.current.scrollToTop()},St=e=>{let l=!1;return(0,E.forEach)({...d,...e.queryParams},((t,i)=>{i!==L.LG.PAGE&&i!==L.LG.SORT_BY&&e.queryParams[i]!==d[i]&&(l=!0)})),l},Lt=e=>{const l=(0,$.UC)(e,d);if(l&&(null==l?void 0:l.url)!==window.location.href)if(l&&null!=l&&l.isInternal){const[e,t]=l.url.split(N.g);xt({pathname:e,search:t,state:{shouldPreserveInitialFilteredCategory:!0}},{isReplace:!0})}else window.location.replace(l.url)},Nt=async(e,l)=>{await(0,se.y)(),Ul(!1),ht(l,!1)},Ot=async e=>{let l,t,{areSelectedFiltersQueryParamsChanged:i,address:n,additionalQueryParams:a}=e,r=(0,z.$1)();const o={collectionpage:Dt()||!1,friendlyurl:Gl||""};l=i?{...d,...a,[M.M2.IGNORE_TOLKIEN]:_e&&d[M.M2.IGNORE_TOLKIEN]?G.Ps.VALUE:null,[M.M2.IGNORE_GENDER]:ye?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe?G.oS.VALUE:null}:{...d,...a,...$e,[M.M2.IGNORE_TOLKIEN]:_e&&d[M.M2.IGNORE_TOLKIEN]?G.Ps.VALUE:null,[M.M2.IGNORE_GENDER]:ye?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe?G.oS.VALUE:null},l={...l,[M.M2.CATEGORY]:d[M.M2.CATEGORY]};const{receiverTownCode:u}=null!=n&&n.receiverTownCode?n:st;return t=ee.state&&ee.state.shouldAppendNewSearchProducts?(0,Q.V)(s(await I.cq.getNextSearchProducts.trigger({...l,receiverTownCode:u},r,o))):(0,Q.V)(s(await I.cq.getSearchProducts.trigger({...l,receiverTownCode:u},r,o))),t},ft=(e,l)=>{const t=(0,z.$1)();if(l||e){let l;l=e?{...d,...$e,[L.LG.SORT_BY]:null,[L.LG.PAGE]:null,[M.M2.IGNORE_TOLKIEN]:_e&&d[M.M2.IGNORE_TOLKIEN]?G.Ps.VALUE:null,[M.M2.IGNORE_TYPO]:d[M.M2.IGNORE_TYPO]||null,[M.M2.IGNORE_CATEGORY]:d[M.M2.IGNORE_CATEGORY]||null,[M.M2.IGNORE_GENDER]:ye?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe?G.oS.VALUE:null}:{...d,[L.LG.SORT_BY]:null,[L.LG.PAGE]:null,[M.M2.IGNORE_TOLKIEN]:_e&&d[M.M2.IGNORE_TOLKIEN]?G.Ps.VALUE:null,[M.M2.IGNORE_TYPO]:d[M.M2.IGNORE_TYPO]||null,[M.M2.IGNORE_CATEGORY]:d[M.M2.IGNORE_CATEGORY]||null,[M.M2.IGNORE_GENDER]:ye?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe?G.oS.VALUE:null},l={...l,[M.M2.CATEGORY]:d[M.M2.CATEGORY]},(0,Q.V)(s(h.cq.getSearchFilters.trigger({...l,...st},t))),(0,Q.V)(s(h.cq.getCampaignFilter.trigger({...d,pageType:Ge})))}},Mt=()=>{let e;const l=(0,k.ji)((0,k.T9)({...d,...Je,[M.M2.QUERY]:null,[L.LG.PAGE]:null,[M.M2.IGNORE_TOLKIEN]:G.Ps.VALUE,[M.M2.IGNORE_GENDER]:G.ee.VALUE,[M.M2.IGNORE_COLOR]:G.oS.VALUE},{withPrefix:!1,encode:!1}),d);e=F._1[F.VT.MOBILE].SEARCH_PAGE,xt({pathname:(0,Z.RC)(e,{...Xe.params}),search:l,state:{shouldPreserveInitialFilteredCategory:!0}}),s(h.cq.closeFilterManagementPanel(!0))},Ft=()=>{let e,l;l=_e&&tl&&ze&&""!==ze.originalSearchTerm?ze.originalSearchTerm:_e&&ll&&""!==ll.originalSearchTerm||ye||fe?ll.originalSearchTerm:(null==ze?void 0:ze.originalSearchTerm)||(null==d?void 0:d[M.M2.QUERY]);const t=(0,k.ji)((0,k.T9)({...Je,[L.LG.CATEGORY]:d[L.LG.CATEGORY],[L.LG.SORT_BY]:bl||""===bl?bl:d[L.LG.SORT_BY],[M.M2.IGNORE_TOLKIEN]:_e?G.Ps.VALUE:null,[M.M2.IGNORE_TYPO]:d[M.M2.IGNORE_TYPO]||null,[M.M2.IGNORE_CATEGORY]:d[M.M2.IGNORE_CATEGORY]||null,[M.M2.IGNORE_GENDER]:ye||d[M.M2.IGNORE_GENDER]?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe||d[M.M2.IGNORE_COLOR]?G.oS.VALUE:null},{withPrefix:!1,encode:!1}),{...d,[M.M2.QUERY]:l});e=(0,Z.RC)(F._1[F.VT.MOBILE].SEARCH_PAGE,{...Je});const i={pathname:e,search:t,state:{shouldPreserveInitialFilteredCategory:!0}};(null==m?void 0:m.get(S._.ENABLE_POSTBACK_ON_PLP_FILTER_SUBMIT))?window.location.href=`${null==i?void 0:i.pathname}?${null==i?void 0:i.search}`:xt(i)},xt=function(e){let{isReplace:l=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(l?(0,c.gx)(e):(0,c.VF)(e)),H.Z.handlePageRenderStart(s,V.uF.SEARCH)},Bt=e=>{"complete"===document.readyState&&(s(A.c.pageRenderEnd()),e||Kl(!0))},Gt=e=>{var l,t,i,n,a,r;const o={...lt,...e};null===(l=window)||void 0===l||null===(t=l.HbEventBus)||void 0===t||t.emit(O.Yh,{nextDayDeliveryIsDisabled:o.nextDayDeliveryIsDisabled,expressDeliveryIsDisabled:o.expressDeliveryIsDisabled,nextDayDeliveryInsideCutoff:o.nextDayDeliveryInsideCutoff,expressDeliveryInsideCutoff:o.expressDeliveryInsideCutoff,nextDayDeliveryHasProduct:o.nextDayDeliveryHasProduct,expressDeliveryHasProduct:o.expressDeliveryHasProduct}),null===(i=window)||void 0===i||null===(n=i.HbEventBus)||void 0===n||n.emit(O.Th,{nextDayDeliveryIsSelected:o.nextDayDeliveryIsSelected&&!o.nextDayDeliveryIsDisabled,expressDeliveryIsSelected:o.expressDeliveryIsSelected&&!o.expressDeliveryIsDisabled}),null===(a=window)||void 0===a||null===(r=a.HbEventBus)||void 0===r||r.emit(O.Zw,{nextDayDeliveryVisible:(null==m?void 0:m.get(S._.DISPLAY_NEXT_DAY_DELIVERY))&&o.nextDayDeliveryVisible,expressDeliveryVisible:(null==m?void 0:m.get(S._.DISPLAY_EXPRESS_DELIVERY))&&o.expressDeliveryVisible}),s(h.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(o.nextDayDeliveryIsSelected&&!o.nextDayDeliveryIsDisabled),expressDeliverySelected:Boolean(o.expressDeliveryIsSelected&&!o.expressDeliveryIsDisabled)})),tt(o)},Vt=async e=>{const l=!nt&&(null==m?void 0:m.get(S._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==m?void 0:m.get(S._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING));gt.current=e,l&&(await(0,se.y)(),s(h.cq.setDeliveryLocation(e)))},bt=()=>{var e,l;null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.on(O.W9,wt)},wt=e=>{var l;let t,i,n,a,r=null==sl?void 0:sl.find((l=>l.customFacetId===e.clickedCheckboxType));var o;((null==e?void 0:e.clickedCheckbox)===O.yi?(t=null==dl?void 0:dl.selectedValues,i=null==dl?void 0:dl.hasProduct,n=null==dl?void 0:dl.insideCutoff,a=i&&n):(null==e?void 0:e.clickedCheckboxType)===O.XJ&&(t=null==ul?void 0:ul.selectedValues,i=null==ul?void 0:ul.hasProduct,n=null==ul?void 0:ul.insideCutoff,a=i&&n),a||(null==e?void 0:e.clickedCheckboxType)!==O.yi||null===(l=t)||void 0===l||!l.length)?r&&s(h.cq.getUpdateFilterSelection.trigger(null==r?void 0:r.id,null==r||null===(o=r.filterList)||void 0===o?void 0:o.first(),{isSingleSelection:!0})).then((()=>{var l;s(h.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(e.nextDayDeliverySelected),expressDeliverySelected:Boolean(e.expressDeliverySelected)})),s(T.cq.sendFilterFacetClick.trigger((0,J.fv)(r,null==r||null===(l=r.filterList)||void 0===l?void 0:l.first(),null,cl,V.ps.SEARCH,{target:{checked:(null==e?void 0:e.clickedCheckboxType)===O.yi?Boolean(e.nextDayDeliverySelected):Boolean(e.expressDeliverySelected)}},!1,"top"))),Ht()})):gl.push((0,ie.V)(ee))},Yt=async()=>{var e,l;if(null!=m&&m.get(S._.DISPLAY_JET_DELIVERY_WIDGET)&&null!=m&&m.get(S._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING)&&!nt)null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.on(f._A,qt);else if(nt){var t,i;const e=(0,j.b)("location");await(0,oe.Qu)({dispatch:s,queryParams:null==_t?void 0:_t.current,locationCookie:e}),null===(t=window)||void 0===t||null===(i=t.HbEventBus)||void 0===i||i.on(f._A,(e=>{var l,t,i,n,a,r;const o=(null==gt||null===(l=gt.current)||void 0===l||null===(t=l.city)||void 0===t?void 0:t.code)===(null==e||null===(i=e.city)||void 0===i?void 0:i.code)&&(null==gt||null===(n=gt.current)||void 0===n||null===(a=n.town)||void 0===a?void 0:a.code)!==(null==e||null===(r=e.town)||void 0===r?void 0:r.code),d=null===oe.ew||void 0===oe.ew?void 0:oe.ew.some((e=>{var l,t;return null==_t||null===(l=_t.current)||void 0===l||null===(t=l.filtreler)||void 0===t?void 0:t.includes(e)}));var u;o&&d&&((e,l)=>{Ot({address:{receiverTownCode:e||""},additionalQueryParams:l}).then((e=>{s(P.cq.setNextSeoInfo(e.result)),Lt(e.result.data),H.Z.handlePageRendered(s),Bt(Wl)}))})(null==e||null===(u=e.town)||void 0===u?void 0:u.code,_t.current);Vt(e)}))}},qt=l=>{var t,i,n,a;const{categoryId:r}=Xe.params;Vt(l),l||Gt({nextDayDeliveryIsSelected:!1,nextDayDeliveryIsDisabled:!1,nextDayDeliveryInsideCutoff:!1,nextDayDeliveryHasProduct:!1,expressDeliveryIsSelected:!1,expressDeliveryIsDisabled:!1,expressDeliveryInsideCutoff:!1,expressDeliveryHasProduct:!1}),s(h.cq.getDeliveryInfo.trigger({...!e.appliedSelectedAnyDeliveryValue&&e.filterApiQueryParams,...st,pageType:Ge,[M.M2.CATEGORY]:r,[M.M2.QUERY]:d[M.M2.QUERY],[M.M2.CITIES]:null==l||null===(t=l.city)||void 0===t?void 0:t.code,[M.M2.RECEIVER_CITY]:null==l||null===(i=l.city)||void 0===i?void 0:i.name,[M.M2.RECEIVER_TOWN]:null==l||null===(n=l.town)||void 0===n?void 0:n.name,[M.M2.RECEIVER_DISTRICT]:null==l||null===(a=l.district)||void 0===a?void 0:a.name})).then((async e=>{var t,i,n,a,r,o,d,u,c,v,E,g,_,y,p;const D=null==e||null===(t=e.data)||void 0===t?void 0:t.data,I=(null==D||null===(i=D.nextDayDelivery)||void 0===i||null===(n=i.values)||void 0===n?void 0:n.length)>0,T=null==D||null===(a=D.nextDayDelivery)||void 0===a||null===(r=a.selectedValues)||void 0===r?void 0:r[0],R=null==D||null===(o=D.nextDayDelivery)||void 0===o?void 0:o.hasProduct,P=null==D||null===(d=D.nextDayDelivery)||void 0===d?void 0:d.insideCutoff,A=null==D||null===(u=D.nextDayDelivery)||void 0===u?void 0:u.isDisplayable,C=(null==D||null===(c=D.expressDelivery)||void 0===c||null===(v=c.values)||void 0===v?void 0:v.length)>0,m=null==D||null===(E=D.expressDelivery)||void 0===E||null===(g=E.selectedValues)||void 0===g?void 0:g[0],S=null==D||null===(_=D.expressDelivery)||void 0===_?void 0:_.hasProduct,L=null==D||null===(y=D.expressDelivery)||void 0===y?void 0:y.insideCutoff,N=null==D||null===(p=D.expressDelivery)||void 0===p?void 0:p.isDisplayable,f=R&&P,M=S&&L;var F,x,B,G;vl||Gt({nextDayDeliveryIsSelected:Boolean(T),nextDayDeliveryIsDisabled:!(null!=l&&null!==(F=l.city)&&void 0!==F&&F.code)||!I||(null==l||null===(x=l.city)||void 0===x?void 0:x.code)&&!f&&!T,nextDayDeliveryInsideCutoff:P,nextDayDeliveryHasProduct:R,nextDayDeliveryVisible:A});El||Gt({expressDeliveryIsSelected:Boolean(m),expressDeliveryIsDisabled:!(null!=l&&null!==(B=l.city)&&void 0!==B&&B.code)||!C||(null==l||null===(G=l.city)||void 0===G?void 0:G.code)&&!M&&!m,expressDeliveryInsideCutoff:L,expressDeliveryHasProduct:S,expressDeliveryVisible:N});if(!l&&vl){let e=null==sl?void 0:sl.find((e=>e.customFacetId===O.yi));var V;if(e)await s(h.cq.getUpdateFilterSelection.trigger(null==e?void 0:e.id,null==e||null===(V=e.filterList)||void 0===V?void 0:V.first(),{isSingleSelection:!0}))}if(!l&&El){let e=null==sl?void 0:sl.find((e=>e.customFacetId===O.XJ));var b;if(e)await s(h.cq.getUpdateFilterSelection.trigger(null==e?void 0:e.id,null==e||null===(b=e.filterList)||void 0===b?void 0:b.first(),{isSingleSelection:!0}))}Ht()}))},Ht=()=>{Ft()},kt=qe(d,Ze||Boolean(d.kategori),!1,!0);let Ut;Qe&&(Ut=Qe.get(x.E.SEARCH_RESULT_TOP));const Wt=!!m&&m.get(S._.DISPLAY_GLOBAL_CAMPAIGN_TEXT);let Kt=Wt?p().campaignTextOnProduct:p().categoryPageStaticCampaignText;const Zt={shouldNotifyDavinci:!0,imgSize:G.x6,imageHeightSize:"443",imageWidthSize:"300",displayCampaignText:Wt,campaignText:Kt},Qt=rl&&ol.suggestions&&ol.suggestions.length>0,$t=(0,le.yP)(d,kl),Jt=!d[M.M2.GENERIC_FILTERS]&&!d[L.LG.SORT_BY]&&(!d[L.LG.PAGE]||d[L.LG.PAGE]&&"1"===d[L.LG.PAGE]),Xt=ge||!ue,zt={[w.RB.DELIVERY]:null==We?void 0:We.get(w.x$[w.RB.DELIVERY].id.toString()),[w.RB.SPONSORED_BRAND_COMPONENT]:null==We?void 0:We.get(w.x$[w.RB.SPONSORED_BRAND_COMPONENT].id.toString()),[w.RB.MORIA_LISTING]:Y.Z.getMobileComponents(We,q.Oe.QUICK_FILTER),[w.RB.SHIPPING_LOCATION]:null==We?void 0:We.get(w.x$[w.RB.SHIPPING_LOCATION].id.toString())},jt=zt[w.RB.MORIA_LISTING],ei=it&&(null===jt||jt&&!(null!=jt&&jt.isEmpty)),li=null==m?void 0:m.get(S._.SHOW_DEFAULT_FILTER_AND_SORTING_BOXES),ti=0!==(null==g?void 0:g.length),ii=null===oe.ew||void 0===oe.ew?void 0:oe.ew.some((e=>{var l,t;return null==_t||null===(l=_t.current)||void 0===l||null===(t=l.filtreler)||void 0===t?void 0:t.includes(e)}));return a().createElement("div",{className:Le.Z.root},Wl&&a().createElement(Te.Z,{afterPageLoadSend:()=>{Kl(!1)}}),$l&&a().createElement(Re.Z,{pageType:b.$4}),a().createElement(De.Z,{seoInfo:_l,helmetClientChanged:(e=>{e&&(document.title=e.title)})(_l)}),pl&&a().createElement(ve.Z,{show:!0}),a().createElement(Ee.Z,{ref:ct},Bl&&a().createElement(me.a,{isSchemaStructuredActive:!0,items:dt,forceRedirect:!0}),Bl&&a().createElement(Se.Z,{title:ut,count:""}),kt&&(null===(l=Ut)||void 0===l?void 0:l.length)>0&&!Qt&&!pl&&a().createElement(Ie.Z,{data:Ut,limit:"all",pageType:V.ps.SEARCH,className:"topBanner",eventName:"SearchResultBanner",height:16,name:"/m/header/"}),g&&0!==g.length&&a().createElement(pe.Z,{pageTypeForDavinci:V.ps.SEARCH,queryParams:d,searchKeyword:d[M.M2.QUERY],searchTermTypo:de,typoEnabled:Jt,sortBy:d[L.LG.SORT_BY],totalSearchProductCount:Ue,autoAppliedRemove:Mt,searchSeoInfo:yl,isTolkienBrandFiltersApplied:Al,searchContext:ze,appliedFacetArray:He,searchPass:Pl}),li&&!ei&&ti&&a().createElement(Oe,{dispatch:s,isSearchPage:!0,pageTypeForDavinci:V.ps.SEARCH,pageValueForDavinci:d[M.M2.QUERY],hasAppliedFilters:Ze,sortType:d[L.LG.SORT_BY],initialFilterHeight:Zl,onSortTypeChange:(e,l)=>{let t;t=F._1[F.VT.MOBILE].SEARCH_PAGE;const i=(0,k.ji)((0,k.T9)({...d,[L.LG.QUERY]:null,[L.LG.SORT_BY]:l,[L.LG.PAGE]:null,[M.M2.IGNORE_TOLKIEN]:_e?G.Ps.VALUE:null,[M.M2.IGNORE_GENDER]:ye?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe?G.oS.VALUE:null},{withPrefix:!1,encode:!1}),{...d,[L.LG.QUERY]:(null==ze?void 0:ze.originalSearchTerm)||(null==d?void 0:d[M.M2.QUERY])});xt({pathname:(0,Z.RC)(t,{...Xe.params}),search:i,state:{shouldPreserveInitialFilteredCategory:!0}})},onFilterClick:At}),(null==Nl||null===(t=Nl.items)||void 0===t?void 0:t.length)>0&&a().createElement(Fe,{campaigns:Nl,pageTypeForDavinci:V.ps.SEARCH,pageValueForDavinci:d[M.M2.QUERY],onViewProducts:Ft,isAmoungProduct:!1,queryParams:d}),(ei||!li)&&ti&&a().createElement(Ce.Z,{fragments:zt,renderMethodClientSide:Xt,selectedFilterCount:wl,hasAppliedFilters:Ze,quickFilterViewCount:Vl,onClick:At}),zt[w.RB.DELIVERY]&&!nt&&a().createElement("div",{className:o()(Le.Z.deliveryContainer,{[Le.Z.hasQuickFilter]:ei})},a().createElement(Pe.Z,{fragmentInfo:zt[w.RB.DELIVERY],options:w.x$[w.RB.DELIVERY],renderMethodClientSide:Xt})),g&&g.length>0&&a().createElement(ce.Z,{category:hl,products:g,algKey:_,deliveryLocation:B,deliveryInfo:null==vt?void 0:vt.current,history:gl,isFetching:y,townToTownEAD:el,currentPageNumber:Il.pageNumber,totalPageNumber:Dl,seoInfo:yl,totalProductCount:Ue,isInfiniteScroll:kl,isPending:pl,itemProps:Zt,canDisplayPlaceholder:!0,pageTypeForDavinci:V.ps.SEARCH,selectedFiltersByFacetMap:Tl,isListingPage:!0,isSearchPage:!0,shippingType:Rl,searchContext:ze,scoreFunctionName:Fl,pageValueForDavinci:null!=ze&&ze.originalSearchTerm?ze.originalSearchTerm:d[M.M2.QUERY],queryParams:d,facetList:sl,searchPass:Pl,location:ee,pathname:ee.pathname,onPageChange:Nt,onListEnd:e=>{let{currentPageNumber:l,isPending:t,hasMoreItems:i,isDownwards:n}=e;kl&&!t&&i&&l<L.FT&&n&&ht(l+1,!0)},isProductActionsPending:Cl||Sl,pendingProductIds:Ll?[Ll.productId]:[],shouldImageLoadEagerly:!1,isBot:ml,onViewProducts:Ft,forcePreloadFirstImage:!0,fragments:zt,fragmentsIsLoading:xl,isQuickFilterJetDeliveryChecked:ei&&ii,campaignFilters:Nl}),a().createElement(Ne,{isActive:ql,pageTypeForDavinci:V.ps.SEARCH,pageValueForDavinci:d[M.M2.QUERY],categoryId:cl,queryParams:d,hasAppliedFilters:Ze,searchContext:ze,autoAppliedRemove:Mt,searchTermTypo:de,onClose:Ct,onCategoryFilterChange:(e,l,t)=>{let i=!1;t.categoryName===M._J.ALL_CATEGORIES&&(delete d[L.LG.CATEGORY],i=!0,zl(!0));const n=(0,k.ji)((0,k.T9)({...Je,[L.LG.CATEGORY]:t.idHierarchy,[L.LG.SORT_BY]:d[L.LG.SORT_BY],[M.M2.IGNORE_TOLKIEN]:_e?G.Ps.VALUE:null,[M.M2.IGNORE_TYPO]:d[M.M2.IGNORE_TYPO]||null,[M.M2.IGNORE_CATEGORY]:Xl||i?G.Ps.VALUE:null,[M.M2.IGNORE_GENDER]:ye?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe?G.oS.VALUE:null},{withPrefix:!1,encode:!1}),d);xt({pathname:(0,Z.RC)(F._1[F.VT.MOBILE].SEARCH_PAGE),search:n,state:{shouldPreserveInitialFilteredCategory:!0}})},onViewProducts:Ft,onClearAllFiltersButtonClick:async()=>{const e=(0,z.$1)();await(0,se.y)(),et(!0);var l,t,i,n,a,r,o,c;!nt&&(null==m?void 0:m.get(S._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==m?void 0:m.get(S._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING))&&(await(0,se.y)(),s(h.cq.getDeliveryInfo.trigger({...(0,K.Mi)(nl.set(null==vt||null===(l=vt.current)||void 0===l||null===(t=l.nextDayDelivery)||void 0===t?void 0:t.key,(0,u.Map)()),nl.set(null==vt||null===(i=vt.current)||void 0===i||null===(n=i.expressDelivery)||void 0===n?void 0:n.key,(0,u.Map)())),...st,pageType:Ge,[M.M2.QUERY]:d[M.M2.QUERY],[M.M2.CATEGORY]:null,[M.M2.CITIES]:null==B||null===(a=B.city)||void 0===a?void 0:a.code,[M.M2.RECEIVER_CITY]:null==B||null===(r=B.city)||void 0===r?void 0:r.name,[M.M2.RECEIVER_TOWN]:null==B||null===(o=B.town)||void 0===o?void 0:o.name,[M.M2.RECEIVER_DISTRICT]:null==B||null===(c=B.district)||void 0===c?void 0:c.name})));if(nt){const e=(0,j.b)("location");await(0,oe.Qu)({dispatch:s,queryParams:d,locationCookie:e})}const v=(0,k.ji)((0,k.T9)({...d,[L.LG.CATEGORY]:null,[L.LG.QUERY]:null,[M.M2.BRAND]:null,[M.M2.GENERIC_FILTERS]:null,[M.M2.IGNORE_CATEGORY]:G.Ps.VALUE,[M.M2.IGNORE_TOLKIEN]:_e||d[M.M2.IGNORE_TOLKIEN]?G.Ps.VALUE:null,[M.M2.IGNORE_GENDER]:G.ee.VALUE,[M.M2.IGNORE_COLOR]:G.oS.VALUE},{withPrefix:!1,encode:!1}),d);await(0,se.y)(),s(h.cq.clearAllFilters()),s(h.cq.setAllFiltersClicked(!0)),await(0,se.y)(),(0,Q.V)(s(h.cq.getSearchFilters.trigger({...st,[M.M2.QUERY]:d[M.M2.QUERY],[L.LG.CATEGORY]:null,[M.M2.GENERIC_FILTERS]:null,[M.M2.IGNORE_TOLKIEN]:al||_e||d[M.M2.IGNORE_TOLKIEN]?G.Ps.VALUE:null,[M.M2.IGNORE_TYPO]:d[M.M2.IGNORE_TYPO]||null,[M.M2.IGNORE_CATEGORY]:G.Ps.VALUE,[M.M2.IGNORE_GENDER]:G.ee.VALUE,[M.M2.IGNORE_COLOR]:G.oS.VALUE},e))),xt({pathname:(0,Z.RC)(F._1[F.VT.MOBILE].SEARCH_PAGE),search:v,state:{shouldPreserveInitialFilteredCategory:!0}})},onClearFacetFiltersButtonClick:async()=>{var e,l,t;const i=(0,z.$1)(),n=1===He.length&&0===(null===(e=He[0])||void 0===e||null===(l=e.rawFacet)||void 0===l||null===(t=l.items)||void 0===t?void 0:t.filter((e=>!e.isAutoApplied)).length),a=il.id===M.vv.CATEGORY||d[M.M2.IGNORE_CATEGORY];await(0,se.y)(),il.id===M.vv.BRAND?(0,Q.V)(s(h.cq.getSearchFilters.trigger({...(0,K.Mi)(nl.set(il.id,(0,u.Map)())),...st,[L.LG.CATEGORY]:a?null:d[L.LG.CATEGORY],[M.M2.QUERY]:!n&&ze&&ze.trimmedSearchTerm?ze.trimmedSearchTerm:d[M.M2.QUERY],[M.M2.IGNORE_TOLKIEN]:al||d[M.M2.IGNORE_TOLKIEN]?G.Ps.VALUE:null,[M.M2.IGNORE_TYPO]:d[M.M2.IGNORE_TYPO]||null,[M.M2.IGNORE_CATEGORY]:a?G.Ps.VALUE:null},i))):(0,Q.V)(s(h.cq.getSearchFilters.trigger({...(0,K.eY)(nl.set(il.id,(0,u.Map)())),...st,[L.LG.CATEGORY]:a?null:d[L.LG.CATEGORY],[M.M2.QUERY]:d[M.M2.QUERY],[M.M2.IGNORE_TOLKIEN]:_e||d[M.M2.IGNORE_TOLKIEN]?G.Ps.VALUE:null,[M.M2.IGNORE_TYPO]:d[M.M2.IGNORE_TYPO]||null,[M.M2.IGNORE_CATEGORY]:a?G.Ps.VALUE:null,[M.M2.IGNORE_GENDER]:ye?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe?G.oS.VALUE:null},i)));const r=(0,k.ji)((0,k.T9)({...d,[L.LG.CATEGORY]:a?null:d[L.LG.CATEGORY],[L.LG.SORT_BY]:d[L.LG.SORT_BY],[L.LG.QUERY]:void 0,[M.M2.IGNORE_TOLKIEN]:_e||d[M.M2.IGNORE_TOLKIEN]?G.Ps.VALUE:null,[M.M2.IGNORE_CATEGORY]:a?G.Ps.VALUE:null,[M.M2.IGNORE_GENDER]:ye?G.ee.VALUE:null,[M.M2.IGNORE_COLOR]:fe?G.oS.VALUE:null},{withPrefix:!1,encode:!1}),d);xt({pathname:(0,Z.RC)(F._1[F.VT.MOBILE].SEARCH_PAGE),search:r,state:{shouldPreserveInitialFilteredCategory:!0}}),await(0,se.y)(),s(h.cq.clearActiveFacetFilters())},showQuickFilterArea:ei}),Qt&&a().createElement(he.Z,{pageTypeForDavinci:V.ps.SEARCH_COMBINATION,pageValueForDavinci:d[M.M2.QUERY],productSuggestion:ol,category:hl,history:gl,seoInfo:yl,isPending:pl,itemProps:Zt,canDisplayPlaceholder:!0,selectedFiltersByFacetMap:Tl,isListingPage:!0,isSearchPage:!0,shippingType:Rl,searchContext:ze,queryParams:d,facetList:sl,searchPass:Pl,pathname:ee.pathname,onPageChange:Nt,shouldImageLoadEagerly:!1}),0===(null==g?void 0:g.length)&&!Qt&&a().createElement(Be,(0,i.default)({},Ml&&{NoResultComponent:Me,deliveryLocation:B,nextDayDeliverySelected:Ol,expressDeliverySelected:fl,deliveryInfo:null==vt?void 0:vt.current,category:hl,appliedFacetArray:He},{dispatch:s,isListingPage:!0,isSearchPage:!0,products:g,currentPageNumber:Il.pageNumber,category:hl,pageTypeForDavinci:V.ps.SEARCH,pageValueForDavinci:d[M.M2.QUERY],location:ee,apliedFacet:ee,queryParams:d,searchPass:Pl,shippingType:Rl,facetList:sl,scoreFunctionName:Fl,selectedFiltersByFacetMap:Tl,totalProductCount:Ue,seoInfo:yl})),$t&&a().createElement(xe,null)))},Ue=e=>{const{loadState:{serverSideRendering:l},accountState:{userInfo:t,quickFilterViewCount:i},searchState:{searchProductArray:n,algKey:a,isFetching:r,searchProductPaginationParams:o,searchSeoInfo:s,totalSearchProductCount:d,searchShippingType:u,searchSearchPass:c,searchContext:v,isTolkienBrandFiltersApplied:E,ignoreTolkien:g,townToTownEAD:_,productSuggestionExist:y,productSuggestion:p,searchTermTypo:D,scoreFunctionName:I},experimentState:{appExperimentMap:h},seoState:{seoInfo:T},filterState:{filteredCategory:R,facetMap:P,initialFilteredCategory:A,isFilterManagementPanelActive:C,activeFacet:m,visibleSelectedFiltersByFacetMap:S,selectedFiltersByFacetMap:L,appliedFacetArray:N,isTolkienBrandFiltersAppliedForSearchFilters:O,ignoreTolkienForSearchFilters:f,ignoreGender:M,ignoreColor:F,searchContextForSearchFilters:x,clickedClearAllFilters:B,campaignFilters:G,deliveryInfo:V,deliveryLocation:b,nextDayDeliverySelected:w,expressDeliverySelected:Y,appliedSelectedAnyDeliveryValue:q,sortValue:H,selectedFilterCount:k},featureToggleState:{pageFeatureToggleMap:U},pendingState:{isGetSearchProductsPending:W,isAddToCartPending:K,isGetSplitProductVariantsPending:Z},bannerState:{searchBannersMap:Q},voltranState:{isLoading:$,fragmentsMap:J},cartState:{cartCandidateProduct:X},userAgentState:{isCollectionPage:z,friendlyUrl:j,isBot:ee}}=e;return{activeFacet:m,appliedFacetArray:N,filteredCategory:R,pageFeatureToggleMap:U,userInfo:t,appExperimentMap:h,seoInfo:T,searchShippingType:u,initialFilteredCategory:A,isFilterManagementPanelActive:C,isGetSearchProductsPending:W,searchProductArray:n,algKey:a,isBot:ee,serverSideRendering:l,searchProductPaginationParams:o,filterApiQueryParams:(0,ue.ju)(e),filterApiQueryParamsString:(0,ue.LM)(e),hasAppliedFilters:(0,ue.sy)(e),searchPageFilterQueryParams:(0,de.l)(e),totalSearchPageNumber:(0,de.R)(e),searchSeoInfo:s,visibleSelectedFiltersByFacetMap:S,searchBannersMap:Q,totalSearchProductCount:d,selectedFiltersByFacetMap:L,searchSearchPass:c,facetMap:P,facetList:(0,ue.Uj)(e),searchContext:v,isTolkienBrandFiltersApplied:E,ignoreTolkien:g,townToTownEAD:_,isTolkienBrandFiltersAppliedForSearchFilters:O,ignoreTolkienForSearchFilters:f,ignoreGender:M,ignoreColor:F,searchContextForSearchFilters:x,clickedClearAllFilters:B,productSuggestionExist:y,productSuggestion:p,fragmentsMap:J,fragmentsIsLoading:$,searchTermTypo:D,isAddToCartPending:K,isGetSplitProductVariantsPending:Z,cartCandidateProduct:X,campaignFilters:G,deliveryInfo:V,deliveryLocation:b,nextDayDeliverySelected:w,expressDeliverySelected:Y,appliedSelectedAnyDeliveryValue:q,scoreFunctionName:I,isFetching:r,isCollectionPage:z,friendlyUrl:j,quickFilterViewCount:i,sortValue:H,selectedFilterCount:k}};ke.fetchData=be;const We=(0,s.connect)(Ue)((0,ge.Z)((0,_e.Z)(ke))),Ke=(0,d.withRouter)(We),Ze=Ke},17231:(e,l,t)=>{t.d(l,{default:()=>E});var i=t(35610),n=t.n(i),a=t(31583),r=t(84295),o=t(62379),s=t(96374),d=t(86527),u=t(98877),c=t(60156),v=t(64481);const E=()=>{const{isVisible:e,close:l}=(0,d.w)();return(0,i.useEffect)((()=>{v.Z.sendShoppingAssistantViewEvent()}),[]),n().createElement(n().Fragment,null,n().createElement("div",{className:u.Z.root},n().createElement(o.Z,null),n().createElement(a.Z,{messages:c.K,isError:!0}),n().createElement(r.Z,null)),n().createElement(s.Z,{modalVisible:e,onClose:l}))}},61058:(e,l,t)=>{t.d(l,{default:()=>Ye});var i=t(13865),n=t(51298),a=t(35610),r=t.n(a),o=t(17463),s=t.n(o),d=t(32192),u=t(7738),c=t(6641),v=t(97181),E=t(66727),g=t(15707),_=t.n(g),y=t(14486),p=t.n(y),D=t(69822),I=t(87802),h=t(33871),T=t(63990),R=t(25877),P=t(97910),A=t(82103),C=t(24715),m=t(23990),S=t(73426),L=t(39892),N=t(23939),O=t(84713),f=t(46124),M=t(12987),F=t(53042),x=t(63838),B=t(56620),G=t(86782),V=t(63570),b=t(27165),w=t(80243),Y=t(75792),q=t(18162),H=t(82867),k=t(24005),U=t(6039),W=t(81737),K=t(62099),Z=t(16332),Q=t(86139),$=t(85625),J=t(94180),X=t(95155),z=t(17615),j=t(73453),ee=t(5489),le=t(58956),te=t(14601),ie=t(29424),ne=t(56019),ae=t(43422),re=t(12111),oe=t(23920),se=t(48950),de=t(14053),ue=t(19799),ce=t(89498),ve=t(17813),Ee=t(78282),ge=t(37492),_e=t(27795),ye=t(63132),pe=t(59079),De=t(45470),Ie=t(61478),he=t(39286),Te=t(97898),Re=t(4017),Pe=t(7282),Ae=t(53933),Ce=t(56789),me=t(92372),Se=t(60810),Le=t(14998),Ne=t(91957);const Oe=(0,E.ZP)({resolved:{},chunkName:()=>"views-category-no-result-view-NoResultViewWithAnalytics",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,69752)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 69752}}),fe=(0,E.ZP)({resolved:{},chunkName:()=>"partials-NoResult-Delivery-NoResultDeliveryView",isReady(e){const l=this.resolve(e);return!0===this.resolved[l]&&!!t.m[l]},importAsync:()=>Promise.resolve().then(t.bind(t,36251)),requireAsync(e){const l=this.resolve(e);return this.resolved[l]=!1,this.importAsync(e).then((e=>(this.resolved[l]=!0,e)))},requireSync(e){const l=this.resolve(e);return t(l)},resolve(){return 36251}}),Me="Tag",Fe=2,xe=[X._.DISPLAY_GLOBAL_CAMPAIGN_TEXT,X._.USE_ARWEN_FOR_SUGGESTIONS_ON_MOBILE,X._.PAGE_LIMIT_IN_LISTING_PAGES,X._.DISPLAY_ITEM_COUNT_ON_CART_SF,X._.DISPLAY_RECOMMENDATIONS,X._.DISPLAY_FEEDBACK,X._.DISPLAY_THIRD_PRICE_WITH_BASKET,X._.USE_HIGH_QUALITY_IMAGES,X._.ENABLE_ENSIGHTEN,X._.ENABLE_ABTEST,X._.SERVER_SIDE_RENDER_FOR_PWA_OTHER_PAGE,X._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_OTHER_PAGE,X._.DISPLAY_WHATSAPP_ICON,X._.DISPLAY_LIKE_BUTTON_ON_LISTING_PAGES,X._.USE_CHECKOUT_VOLTRAN_ADD_TO_CART_OTHER_PAGE,X._.DISPLAY_JET_DELIVERY_WIDGET,X._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING,X._.ENABLE_GTM,X._.DISPLAY_CAMPAIGN_FILTER,X._.SERVER_SIDE_RENDER_FOR_PWA_TAG_PAGE,X._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_TAG_PAGE,X._.HIDE_JS_FROM_GOOGLEBOT,X._.DISPLAY_NEXT_DAY_DELIVERY,X._.DISPLAY_EXPRESS_DELIVERY,X._.DISPLAY_HEPSIGLOBAL_MODAL,X._.DISPLAY_BANNER_ENABLED_FOR_TAG_PAGE,X._.SHOW_QUICK_FILTER,X._.SHOW_JET_DELIVERY_IN_QUICK_FILTER,X._.USE_CLIENT_SIDE_ROUTE_PLP,X._.REMOVE_VOLTRAN_SCRIPTS_INITIAL_LOAD,X._.IS_CRITICAL_CSS],Be=["yurt-disindan-urunler"];class Ge extends a.PureComponent{static redirectAsynchronously(e,l,t){return new Promise(((i,n)=>{l.redirection={type:z.B.FOUND,url:(0,O.Yw)(e.pathname)+(0,O.T9)({...t,[J.LG.PAGE]:null})},i(l)}))}static async fetchData(e,l){var t,i,n,a;let r,o=[];const{queryParams:s,pathParams:d,isBot:u,cookies:c}=l,{tagId:v}=d,E={serverSideRendering:!0,redirection:null,results:[],seoInfo:null},g=(0,q.o3)(null==c?void 0:c.location),_=await(0,L.V)(e(D.cq.getMobileTagPageFeatureToggles.trigger(xe)));if(null!=_&&_.hasError)return E.isError=null==_?void 0:_.result,E;const y=Be.includes(v),p=(0,V.KV)(null==_||null===(t=_.result)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.data);var T,R;null!=_&&null!==(n=_.result)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.data&&(E.featureToggles=null===(T=_.result)||void 0===T||null===(R=T.data)||void 0===R?void 0:R.data);if(u||null!=p&&p.get(X._.SERVER_SIDE_RENDER_FOR_PWA_TAG_PAGE)||(E.serverSideRendering=!1),(0,N.tB)(s[J.LG.PAGE],null==p?void 0:p.get(X._.PAGE_LIMIT_IN_LISTING_PAGES)))r=await Ge.redirectAsynchronously(l,E,s);else if(u||null!=p&&p.get(X._.SERVER_TO_CLIENT_SEND_INITIAL_DATA_FOR_PWA_TAG_PAGE)){var A;const t=null==g||null===(A=g.town)||void 0===A?void 0:A.code,i=(0,M._G)({queryParams:s,receiverTownCode:t}),n=null==p?void 0:p.get(X._.SHOW_QUICK_FILTER),a=n&&(null==p?void 0:p.get(X._.SHOW_JET_DELIVERY_IN_QUICK_FILTER));if(!a&&(null==p?void 0:p.get(X._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==p?void 0:p.get(X._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING))&&!y){var S,f,F,x,B,G,b,Y,H,K,Z,Q,$,j,ee,te,ie,ne,ae,oe,se,de;const t=await(0,L.V)(e(h.cq.getDeliveryInfo.trigger({...s,...i,pageType:Me,[le.M2.TAG_ID]:v,[le.M2.CITIES]:null==g||null===(S=g.city)||void 0===S?void 0:S.code,[le.M2.RECEIVER_CITY]:null==g||null===(f=g.city)||void 0===f?void 0:f.name,[le.M2.RECEIVER_TOWN]:null==g||null===(F=g.town)||void 0===F?void 0:F.name,[le.M2.RECEIVER_DISTRICT]:null==g||null===(x=g.district)||void 0===x?void 0:x.name},c))),n=null==t||null===(B=t.result)||void 0===B||null===(G=B.data)||void 0===G?void 0:G.data;(0,w.k_)(s,g,n,l,E,O.QA);const a=(null==n||null===(b=n.nextDayDelivery)||void 0===b||null===(Y=b.values)||void 0===Y?void 0:Y.length)>0,r=null==n||null===(H=n.nextDayDelivery)||void 0===H||null===(K=H.selectedValues)||void 0===K?void 0:K[0],d=null==n||null===(Z=n.nextDayDelivery)||void 0===Z?void 0:Z.hasProduct,u=null==n||null===(Q=n.nextDayDelivery)||void 0===Q?void 0:Q.insideCutoff,_=null==n||null===($=n.nextDayDelivery)||void 0===$?void 0:$.isDisplayable,y=(null==n||null===(j=n.expressDelivery)||void 0===j||null===(ee=j.values)||void 0===ee?void 0:ee.length)>0,D=null==n||null===(te=n.expressDelivery)||void 0===te||null===(ie=te.selectedValues)||void 0===ie?void 0:ie[0],I=null==n?void 0:n.expressDelivery.hasProduct,T=null==n?void 0:n.expressDelivery.insideCutoff,R=null==n||null===(ne=n.expressDelivery)||void 0===ne?void 0:ne.isDisplayable,P=d&&u,A=I&&T;e(h.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(r),expressDeliverySelected:Boolean(D)})),o.push({...re.x$[re.RB.DELIVERY],paramater:{...re.x$[re.RB.DELIVERY].paramater,mobile:!0,selectorViewType:"bottom_sheet",nextDayDeliverySelected:Boolean(r),nextDayDeliveryDisabled:!(null!=g&&null!==(ae=g.city)&&void 0!==ae&&ae.code)||!a||(null==g||null===(oe=g.city)||void 0===oe?void 0:oe.code)&&!P&&!r,nextDayDeliveryInsideCutoff:Boolean(u),nextDayDeliveryHasProduct:Boolean(d),nextDayDeliveryVisible:(null==p?void 0:p.get(X._.DISPLAY_NEXT_DAY_DELIVERY))&&_,expressDeliverySelected:Boolean(D),expressDeliveryDisabled:!(null!=g&&null!==(se=g.city)&&void 0!==se&&se.code)||!y||(null==g||null===(de=g.city)||void 0===de?void 0:de.code)&&!A&&!D,expressDeliveryInsideCutoff:Boolean(T),expressDeliveryHasProduct:Boolean(I),expressDeliveryVisible:(null==p?void 0:p.get(X._.DISPLAY_EXPRESS_DELIVERY))&&R}})}if(n){const{url:t}=l,i=(0,W.CJ)({url:t,locationCookie:g});if(i)return E.redirection={isInternal:!0,type:z.B.MOVED_PERMANENTLY,url:i},E;o.push((0,k.m)({url:t,locationCookie:g})),a&&(await(0,W.Qu)({dispatch:e,queryParams:s,locationCookie:null==c?void 0:c.location}),o.push(re.x$[re.RB.SHIPPING_LOCATION]))}if(null!=p&&p.get(X._.DISPLAY_BANNER_ENABLED_FOR_TAG_PAGE)){var ue,ce,ve,Ee;let l=await(0,L.V)(e(I.cq.getTagPageSeo.trigger({url:v}))),t=(null==l||null===(ue=l.result)||void 0===ue||null===(ce=ue.data)||void 0===ce||null===(ve=ce.data)||void 0===ve?void 0:ve.rewriteUrl)||v;(null===(Ee=Object.keys(s))||void 0===Ee?void 0:Ee.length)>0||await(0,L.V)(e(m.cq.getCmsComponent.trigger([{tagId:t,disableRetinaSupport:!u,...U.J}])))}r=await(0,L.a)(Promise.all([(0,L.V)(e(I.cq.getTagProducts.trigger({...s,...i,[le.M2.TAG_ID]:v},c))),Ge.fetchInitialFilters(e,{...s,...i},v,c),(null==p?void 0:p.get(X._.ENABLE_ABTEST))&&(0,L.V)(e(P.c.getAbTest.trigger())),(null==o?void 0:o.length)>0&&(0,L.V)(e(C.c.getFragments.trigger(o))),(null==p?void 0:p.get(X._.DISPLAY_CAMPAIGN_FILTER))&&(0,L.V)(e(h.cq.getCampaignFilter.trigger({...s,pageType:Me,[le.M2.TAG_ID]:v},c)))])).then((e=>{var l,t,i,n,a,r,o,d,u;let[c,g]=e;var _;((null!=c&&c.hasError||null!=g&&g.hasError)&&(E.isError=c.result||g.result),null!=c&&null!==(l=c.result)&&void 0!==l&&null!==(t=l.data)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.products)&&(E.redirection||(E.redirection=(0,N.JM)({tagResponseData:null==c||null===(_=c.result)||void 0===_?void 0:_.data,tagId:v,queryParams:s,isServerSide:!0})));E.seoInfo=null==c||null===(n=c.result)||void 0===n||null===(a=n.data)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.seoInformation;const y=null==c||null===(o=c.result)||void 0===o||null===(d=o.data)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.products;return E.productList=null==y?void 0:y.map((e=>null==e?void 0:e.sku)),E}))}else r=E;return r}static fetchInitialFilters(e,l,t,i){let n={[le.M2.TAG_ID]:t};return l[le.M2.RATING]&&(n[le.M2.RATING]=l[le.M2.RATING]),l[le.M2.GENERIC_FILTERS]&&(n[le.M2.GENERIC_FILTERS]=l[le.M2.GENERIC_FILTERS]),l[le.M2.WORD]&&(n[le.M2.WORD]=l[le.M2.WORD]),l[le.M2.CATEGORY]&&(n[le.M2.CATEGORY]=l[le.M2.CATEGORY]),l[le.M2.BRAND]&&(n[le.M2.BRAND]=l[le.M2.BRAND]),l[le.M2.RECEIVER_TOWN_CODE]&&(n[le.M2.RECEIVER_TOWN_CODE]=l[le.M2.RECEIVER_TOWN_CODE]),(0,L.V)(e(h.cq.getTagFilters.trigger(n,i)))}constructor(e){var l;super(e),l=this,(0,n.default)(this,"setFilterHeight",(()=>{const e=document.getElementById("headroom"),l=document.getElementById("headroomForCampaign"),t=document.getElementById("filterBar"),i=document.getElementById("campaignFilter");null!==e&&0!==e.offsetTop&&this.setState({initialFilterHeight:l&&i&&t?l.offsetTop+i.offsetHeight:e.offsetTop+t.offsetHeight}),null!==l&&0!==l.offsetTop&&this.setState({initialCampaignFilterHeight:l.offsetTop+i.offsetHeight})})),(0,n.default)(this,"redirectIfNecessary",(e=>{const{match:l,queryParams:t,visibleSelectedFiltersByFacetMap:i,deliveryInfo:n}=this.props,{tagId:a}=l.params,r=(0,N.JM)({tagResponseData:e,tagId:a,queryParams:t,visibleSelectedFiltersByFacetMap:i,deliveryInfo:n});if(r&&(null==r?void 0:r.url)!==window.location.href)if(r&&r.isInternal){const[e,l]=r.url.split(ne.g);this.updateLocation({pathname:e,search:l,state:{shouldPreserveInitialFilteredCategory:!0}},{isReplace:!0})}else window.location.replace(r.url)})),(0,n.default)(this,"fetchCMSBanner",(()=>{const{dispatch:e,queryParams:l,tagRewriteUrl:t,match:{params:{tagId:i}},hasAppliedFilters:n,cmsComponentsMap:a,initialPageNumber:r,pageFeatureToggleMap:o}=this.props,s=(null==t?void 0:t.rewriteUrl)||i,d=null==o?void 0:o.get(X._.DISPLAY_BANNER_ENABLED_FOR_TAG_PAGE),u=null==a?void 0:a.get(s),c=Ge.isAdditionalContentEnabled(l,n||Boolean(l[le.M2.CATEGORY]),r);return d&&!u&&c?(0,L.V)(e(m.cq.getCmsComponent.trigger([{tagId:s,disableRetinaSupport:!isBot,...U.J}]))):Promise.resolve()})),(0,n.default)(this,"executeAnalyticsLogic",(()=>{const{dispatch:e}=this.props;S.Z.handleDomLoaded(e,Q.uF.TAG),this.sendWebtrekkData()})),(0,n.default)(this,"fetchNewTagProducts",(e=>{var l;let{areSelectedFiltersQueryParamsChanged:t,address:i}=e;const{dispatch:n,queryParams:a,filterApiQueryParams:r,location:o,deliveryLocation:s,match:d}=this.props,{tagId:u}=d.params,c=null==s||null===(l=s.town)||void 0===l?void 0:l.code,v=(null==i?void 0:i.receiverTownCode)||(0,M._G)({queryParams:a,receiverTownCode:c}),E=(0,Z.$1)();let g,_;return g=t?{...a,[le.M2.TAG_ID]:u}:{...a,...r,[le.M2.TAG_ID]:u},_=o.state&&o.state.shouldAppendNewTagProducts?(0,L.V)(n(I.cq.getNextTagProducts.trigger({...g,...v},E))):(0,L.V)(n(I.cq.getTagProducts.trigger({...g,...v},E))),_})),(0,n.default)(this,"handleProductListViewLoadMore",(e=>{let{currentPageNumber:l,isPending:t,hasMoreItems:i,isDownwards:n}=e;const{isLoadMoreModeEnabled:a}=this.state;a&&!t&&i&&l<J.FT&&n&&this.updateLocationForNewPage(l+1,!0)})),(0,n.default)(this,"handleProductListViewPageChange",((e,l)=>{this.setState({isLoadMoreModeEnabled:!1},(()=>{this.updateLocationForNewPage(l,!1)}))})),(0,n.default)(this,"updateLocation",(function(e){let{isReplace:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{dispatch:i}=l.props;i(t?(0,c.gx)(e):(0,c.VF)(e)),S.Z.handlePageRenderStart(i,Q.uF.TAG)})),(0,n.default)(this,"handleSortTypeChange",((e,l)=>{const{match:t,queryParams:i}=this.props,n=te._1[te.VT.MOBILE].TAG_PAGE;this.updateLocation({pathname:(0,f.RC)(n,{...t.params}),search:(0,O.T9)({...i,[J.LG.SORT_BY]:l,[J.LG.PAGE]:null}),state:{shouldPreserveInitialFilteredCategory:!0}})})),(0,n.default)(this,"handleFilterButtonClick",(()=>{this.handledFiltersPanelOpen()})),(0,n.default)(this,"handledFiltersPanelOpen",(()=>{const{dispatch:e}=this.props;e(h.cq.openFilterManagementPanel())})),(0,n.default)(this,"handleCategoryFilterChange",((e,l,t)=>{const{queryParams:i,match:n,tagPageFilterQueryParams:a}=this.props,{tagId:r}=n.params,o=(0,O.T9)({...a,[J.LG.CATEGORY]:t.idHierarchy,[J.LG.SORT_BY]:i[J.LG.SORT_BY]},{withPrefix:!1,encode:!1});this.updateLocation({pathname:(0,f.RC)(te._1[te.VT.MOBILE].TAG_PAGE,{tagId:r}),search:o,state:{shouldPreserveInitialFilteredCategory:!0}})})),(0,n.default)(this,"handleViewProducts",(()=>{const{tagPageFilterQueryParams:e,queryParams:l,match:t,sortValue:i}=this.props,{tagId:n}=t.params;let a;const r=(0,O.T9)({...e,[J.LG.SORT_BY]:i||""===i?i:l[J.LG.SORT_BY]},{withPrefix:!1,encode:!1});a=(0,f.RC)(te._1[te.VT.MOBILE].TAG_PAGE,{...r,tagId:n}),this.updateLocation({pathname:a,search:r,state:{shouldPreserveInitialFilteredCategory:!0}})})),(0,n.default)(this,"handleFiltersPanelClose",(()=>{const{dispatch:e}=this.props;e(h.cq.closeFilterManagementPanel())})),(0,n.default)(this,"handleClearAllFiltersButtonClick",(async()=>{var e;const{dispatch:l,location:t,match:i,queryParams:n,initialFilteredCategory:a,visibleSelectedFiltersByFacetMap:r,deliveryInfo:o,deliveryLocation:s,pageFeatureToggleMap:d}=this.props,{tagId:u}=i.params,c=null==s||null===(e=s.town)||void 0===e?void 0:e.code,E=(0,M._G)({queryParams:n,receiverTownCode:c}),g=(null==d?void 0:d.get(X._.SHOW_QUICK_FILTER))&&(null==d?void 0:d.get(X._.SHOW_JET_DELIVERY_IN_QUICK_FILTER));var _,y,p,D;!g&&(null==d?void 0:d.get(X._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==d?void 0:d.get(X._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING))&&!isJetDeliveryExcludedTag&&l(h.cq.getDeliveryInfo.trigger({pageType:Me,...(0,M.Mi)(r.set(o.nextDayDelivery.key,(0,v.Map)()),r.set(o.expressDelivery.key,(0,v.Map)())),...E,[le.M2.TAG_ID]:u,[le.M2.CITIES]:null==s||null===(_=s.city)||void 0===_?void 0:_.code,[le.M2.RECEIVER_CITY]:null==s||null===(y=s.city)||void 0===y?void 0:y.name,[le.M2.RECEIVER_TOWN]:null==s||null===(p=s.town)||void 0===p?void 0:p.name,[le.M2.RECEIVER_DISTRICT]:null==s||null===(D=s.district)||void 0===D?void 0:D.name}));if(g){const e=(0,K.b)("location");await(0,W.Qu)({dispatch:l,queryParams:n,locationCookie:e})}const I=(0,O.T9)({...n,[J.LG.CATEGORY]:a.idHierarchy},{withPrefix:!1,encode:!1}),T=(0,Z.$1)();l(h.cq.clearAllFilters());const R=void 0===a.idHierarchy?(0,O.mn)(le.M2.CATEGORY):t.search;t.pathname+ne.g+I===t.pathname+R?l(h.cq.getTagFilters.trigger({[J.LG.CATEGORY]:a.idHierarchy?a.idHierarchy:null,[le.M2.TAG_ID]:u,...E},T)):this.updateLocation({pathname:(0,f.RC)(te._1[te.VT.MOBILE].TAG_PAGE,{tagId:u}),search:I,state:{shouldPreserveInitialFilteredCategory:!0}})})),(0,n.default)(this,"handleClearFacetFiltersButtonClick",(()=>{const{dispatch:e,match:l,queryParams:t,activeFacet:i,visibleSelectedFiltersByFacetMap:n,initialFilteredCategory:a,deliveryLocation:r}=this.props,{tagId:o}=l.params;if(i.id===le.vv.CATEGORY){const e=(0,O.T9)({...t,[J.LG.CATEGORY]:a.idHierarchy,[J.LG.SORT_BY]:t[J.LG.SORT_BY],[J.LG.QUERY]:void 0},{withPrefix:!1,encode:!1});this.updateLocation({pathname:(0,f.RC)(te._1[te.VT.MOBILE].TAG_PAGE,{tagId:o}),search:e,state:{shouldPreserveInitialFilteredCategory:!0}})}else{var s;const l=null==r||null===(s=r.town)||void 0===s?void 0:s.code,a=(0,M._G)({queryParams:t,receiverTownCode:l}),d=(0,Z.$1)();(0,L.V)(e(h.cq.getTagFilters.trigger({...(0,M.Mi)(n.set(i.id,(0,v.Map)())),[le.M2.TAG_ID]:o,...a},d)))}e(h.cq.clearActiveFacetFilters())})),(0,n.default)(this,"verticalScrollViewRefCallback",(e=>{this.verticalScrollViewRef=e})),(0,n.default)(this,"updateLocationForNewPage",(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{match:i,queryParams:n}=l.props,a=(0,O.T9)({...n,[J.LG.PAGE]:e>1?e:null,[J.LG.QUERY]:null},{withPrefix:!1,encode:!1}),r=te._1[te.VT.MOBILE].TAG_PAGE;l.updateLocation({pathname:(0,f.RC)(r,i.params),search:a,state:{shouldAppendNewTagProducts:t}},{isReplace:!0})})),(0,n.default)(this,"setSeoInfo",(e=>{e&&(document.title=e.title)})),(0,n.default)(this,"handlePageRendered",(()=>{if("complete"===document.readyState){const{isComponentRender:e}=this.state;e||this.setState({isComponentRender:!0})}})),(0,n.default)(this,"sendPageLoadCallback",(()=>{this.setState({isComponentRender:!1})})),(0,n.default)(this,"fetchVoltranFragment",(()=>{const{fragmentsMap:e,dispatch:l,pageFeatureToggleMap:t,match:i,deliveryInfo:n,deliveryLocation:a}=this.props,{tagId:r}=i.params,o=Be.includes(r),s=[],d=null==t?void 0:t.get(X._.SHOW_QUICK_FILTER),u=d&&(null==t?void 0:t.get(X._.SHOW_JET_DELIVERY_IN_QUICK_FILTER)),c=!u&&(null==t?void 0:t.get(X._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==t?void 0:t.get(X._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING))&&!o;if(null!=e&&e.get(re.x$[re.RB.FAVORITE].id.toString())||null==t||!t.get(X._.DISPLAY_LIKE_BUTTON_ON_LISTING_PAGES)||s.push(re.x$[re.RB.FAVORITE]),null!=e&&e.get(re.x$[re.RB.ADD_TO_CART].id.toString())||null==t||!t.get(X._.USE_CHECKOUT_VOLTRAN_ADD_TO_CART_OTHER_PAGE)||s.push(re.x$[re.RB.ADD_TO_CART]),(null==e||!e.get(re.x$[re.RB.DELIVERY].id.toString()))&&c){var v,E,g,_,y,p,D,I,h,T,R,P,A,m,S,N,O,f;const e=(null==n||null===(v=n.nextDayDelivery)||void 0===v||null===(E=v.values)||void 0===E?void 0:E.length)>0,l=null==n||null===(g=n.nextDayDelivery)||void 0===g||null===(_=g.selectedValues)||void 0===_?void 0:_[0],i=null==n||null===(y=n.nextDayDelivery)||void 0===y?void 0:y.hasProduct,r=null==n||null===(p=n.nextDayDelivery)||void 0===p?void 0:p.insideCutoff,o=null==n||null===(D=n.nextDayDelivery)||void 0===D?void 0:D.isDisplayable,d=(null==n||null===(I=n.expressDelivery)||void 0===I||null===(h=I.values)||void 0===h?void 0:h.length)>0,u=null==n||null===(T=n.expressDelivery)||void 0===T||null===(R=T.selectedValues)||void 0===R?void 0:R[0],c=null==n||null===(P=n.expressDelivery)||void 0===P?void 0:P.hasProduct,C=null==n||null===(A=n.expressDelivery)||void 0===A?void 0:A.insideCutoff,L=null==n||null===(m=n.expressDelivery)||void 0===m?void 0:m.isDisplayable,M=i&&r,F=c&&C;s.push({...re.x$[re.RB.DELIVERY],paramater:{...re.x$[re.RB.DELIVERY].paramater,mobile:!0,selectorViewType:"bottom_sheet",nextDayDeliverySelected:Boolean(l),nextDayDeliveryDisabled:!(null!=a&&null!==(S=a.city)&&void 0!==S&&S.code)||!e||(null==a||null===(N=a.city)||void 0===N?void 0:N.code)&&!M&&!l,nextDayDeliveryInsideCutoff:Boolean(r),nextDayDeliveryVisible:(null==t?void 0:t.get(X._.DISPLAY_NEXT_DAY_DELIVERY))&&o,expressDeliverySelected:Boolean(u),expressDeliveryDisabled:!(null!=a&&null!==(O=a.city)&&void 0!==O&&O.code)||!d||(null==a||null===(f=a.city)||void 0===f?void 0:f.code)&&!F&&!u,expressDeliveryInsideCutoff:Boolean(C),expressDeliveryVisible:(null==t?void 0:t.get(X._.DISPLAY_EXPRESS_DELIVERY))&&L}})}var M,F;null!=e&&e.get(re.x$[re.RB.MORIA_LISTING].id.toString())||!d||(s.push((0,k.m)({url:`${null===(M=location)||void 0===M?void 0:M.pathname}${null===(F=location)||void 0===F?void 0:F.search}`})),null!=e&&e.get(re.x$[re.RB.SHIPPING_LOCATION].id.toString())||!u||s.push(re.x$[re.RB.SHIPPING_LOCATION]));if((null==s?void 0:s.length)>0){const e=null==s?void 0:s.filter((e=>e));(0,L.V)(l(C.c.getFragments.trigger(e)))}})),(0,n.default)(this,"setCheckboxStatus",(e=>{var l,t,i,n,a,r;const{dispatch:o,pageFeatureToggleMap:s}=this.props;let d={...this.state.previousDeliveryData,...e};null===(l=window)||void 0===l||null===(t=l.HbEventBus)||void 0===t||t.emit(j.Yh,{nextDayDeliveryIsDisabled:d.nextDayDeliveryIsDisabled,expressDeliveryIsDisabled:d.expressDeliveryIsDisabled,nextDayDeliveryInsideCutoff:d.nextDayDeliveryInsideCutoff,expressDeliveryInsideCutoff:d.expressDeliveryInsideCutoff,nextDayDeliveryHasProduct:d.nextDayDeliveryHasProduct,expressDeliveryHasProduct:d.expressDeliveryHasProduct}),null===(i=window)||void 0===i||null===(n=i.HbEventBus)||void 0===n||n.emit(j.Th,{nextDayDeliveryIsSelected:d.nextDayDeliveryIsSelected&&!d.nextDayDeliveryIsDisabled,expressDeliveryIsSelected:d.expressDeliveryIsSelected&&!d.expressDeliveryIsDisabled}),null===(a=window)||void 0===a||null===(r=a.HbEventBus)||void 0===r||r.emit(j.Zw,{nextDayDeliveryVisible:(null==s?void 0:s.get(X._.DISPLAY_NEXT_DAY_DELIVERY))&&d.nextDayDeliveryVisible,expressDeliveryVisible:(null==s?void 0:s.get(X._.DISPLAY_EXPRESS_DELIVERY))&&d.expressDeliveryVisible}),o(h.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(d.nextDayDeliveryIsSelected&&!d.nextDayDeliveryIsDisabled),expressDeliverySelected:Boolean(d.expressDeliveryIsSelected&&!d.expressDeliveryIsDisabled)})),this.setState({previousDeliveryData:d})})),(0,n.default)(this,"setLocation",(e=>{const{dispatch:l}=this.props;l(h.cq.setDeliveryLocation(e))})),(0,n.default)(this,"deliveryCheckboxChangeEventListener",(()=>{var e,l;null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.on(j.W9,this.deliveryCheckBoxChange)})),(0,n.default)(this,"deliveryCheckBoxChange",(e=>{var l;const{dispatch:t,history:i,facetList:n,nextDayDelivery:a,expressDelivery:r}=this.props,{categoryId:o}=this.props;let s,d,u,c,v=null==n?void 0:n.find((l=>l.customFacetId===e.clickedCheckboxType));var E;((null==e?void 0:e.clickedCheckboxType)===j.yi?(s=null==a?void 0:a.selectedValues,d=null==a?void 0:a.hasProduct,u=null==a?void 0:a.insideCutoff,c=d&&u):(null==e?void 0:e.clickedCheckboxType)===j.XJ&&(s=null==r?void 0:r.selectedValues,d=null==r?void 0:r.hasProduct,u=null==r?void 0:r.insideCutoff,c=d&&u),c||(null==e?void 0:e.clickedCheckboxType)!==j.yi||null===(l=s)||void 0===l||!l.length)?v&&t(h.cq.getUpdateFilterSelection.trigger(null==v?void 0:v.id,null==v||null===(E=v.filterList)||void 0===E?void 0:E.first(),{isSingleSelection:!0})).then((()=>{var l;t(h.cq.setDeliveryCheckboxSettings({nextDayDeliverySelected:Boolean(e.nextDayDeliverySelected),expressDeliverySelected:Boolean(e.expressDeliverySelected)})),t(A.cq.sendFilterFacetClick.trigger((0,B.fv)(v,null==v||null===(l=v.filterList)||void 0===l?void 0:l.first(),null,o,Q.ps.TAG,{target:{checked:(null==e?void 0:e.clickedCheckboxType)===j.yi?Boolean(e.nextDayDeliverySelected):Boolean(e.expressDeliverySelected)}},!1,"top"))),this.fetch24hProducts()})):i.push((0,Y.V)(location))})),(0,n.default)(this,"deliveryLocationChangeEventListener",(()=>{const{pageFeatureToggleMap:e,deliveryLocation:l,dispatch:t,queryParams:i}=this.props,n=(null==e?void 0:e.get(X._.SHOW_QUICK_FILTER))&&(null==e?void 0:e.get(X._.SHOW_JET_DELIVERY_IN_QUICK_FILTER));var a,r;if(!n&&(null==e?void 0:e.get(X._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==e?void 0:e.get(X._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING))&&!isJetDeliveryExcludedTag)null===(a=window)||void 0===a||null===(r=a.HbEventBus)||void 0===r||r.on(ee._A,this.deliveryLocationChange);else if(n){var o,s;null===(o=window)||void 0===o||null===(s=o.HbEventBus)||void 0===s||s.on(ee._A,(async e=>{var n,a,r,o;const s=(0,K.b)("location");await(0,W.Qu)({dispatch:t,queryParams:i,locationCookie:s});var d;(null==l||null===(n=l.city)||void 0===n?void 0:n.code)===(null==e||null===(a=e.city)||void 0===a?void 0:a.code)&&(null==l||null===(r=l.town)||void 0===r?void 0:r.code)!==(null==e||null===(o=e.town)||void 0===o?void 0:o.code)&&this.handleOnTownChanged(null==e||null===(d=e.town)||void 0===d?void 0:d.code);this.setLocation(e)}))}})),(0,n.default)(this,"deliveryLocationChange",(e=>{var l,t,i,n;const{dispatch:a,match:r,facetList:o,nextDayDeliveryCheckboxChecked:s,expressDeliveryCheckboxChecked:d}=this.props,{tagId:u}=r.params;this.setLocation(e),e||this.setCheckboxStatus({nextDayDeliveryIsSelected:!1,nextDayDeliveryIsDisabled:!1,nextDayDeliveryInsideCutoff:!1,nextDayDeliveryHasProduct:!1,expressDeliveryIsSelected:!1,expressDeliveryIsDisabled:!1,expressDeliveryInsideCutoff:!1,expressDeliveryHasProduct:!1}),a(h.cq.getDeliveryInfo.trigger({...!this.props.appliedSelectedAnyDeliveryValue&&this.props.filterApiQueryParams,pageType:Me,[le.M2.TAG_ID]:u,[le.M2.CITIES]:null==e||null===(l=e.city)||void 0===l?void 0:l.code,[le.M2.RECEIVER_CITY]:null==e||null===(t=e.city)||void 0===t?void 0:t.name,[le.M2.RECEIVER_TOWN]:null==e||null===(i=e.town)||void 0===i?void 0:i.name,[le.M2.RECEIVER_DISTRICT]:null==e||null===(n=e.district)||void 0===n?void 0:n.name})).then((async l=>{var t,i,n,r,u,c,v,E,g,_,y,p,D,I,T;const R=null==l||null===(t=l.data)||void 0===t?void 0:t.data,P=(null==R||null===(i=R.nextDayDelivery)||void 0===i||null===(n=i.values)||void 0===n?void 0:n.length)>0,A=null==R||null===(r=R.nextDayDelivery)||void 0===r||null===(u=r.selectedValues)||void 0===u?void 0:u[0],C=null==R||null===(c=R.nextDayDelivery)||void 0===c?void 0:c.hasProduct,m=null==R||null===(v=R.nextDayDelivery)||void 0===v?void 0:v.insideCutoff,S=null==R||null===(E=R.nextDayDelivery)||void 0===E?void 0:E.isDisplayable,L=(null==R||null===(g=R.expressDelivery)||void 0===g||null===(_=g.values)||void 0===_?void 0:_.length)>0,N=null==R||null===(y=R.expressDelivery)||void 0===y||null===(p=y.selectedValues)||void 0===p?void 0:p[0],O=null==R||null===(D=R.expressDelivery)||void 0===D?void 0:D.hasProduct,f=null==R||null===(I=R.expressDelivery)||void 0===I?void 0:I.insideCutoff,M=null==R||null===(T=R.expressDelivery)||void 0===T?void 0:T.isDisplayable,F=C&&m,x=O&&f;var B,G,V,b;s||this.setCheckboxStatus({nextDayDeliveryIsSelected:Boolean(A),nextDayDeliveryIsDisabled:!(null!=e&&null!==(B=e.city)&&void 0!==B&&B.code)||!P||(null==e||null===(G=e.city)||void 0===G?void 0:G.code)&&!F&&!A,nextDayDeliveryInsideCutoff:m,nextDayDeliveryHasProduct:C,expressDeliveryVisible:M,nextDayDeliveryVisible:S});d||this.setCheckboxStatus({expressDeliveryIsSelected:Boolean(N),expressDeliveryIsDisabled:!(null!=e&&null!==(V=e.city)&&void 0!==V&&V.code)||!L||(null==e||null===(b=e.city)||void 0===b?void 0:b.code)&&!x&&!N,expressDeliveryInsideCutoff:f,expressDeliveryHasProduct:O,expressDeliveryVisible:M});if(!e&&s){let e=null==o?void 0:o.find((e=>e.customFacetId===j.yi));var w;if(e)await a(h.cq.getUpdateFilterSelection.trigger(null==e?void 0:e.id,null==e||null===(w=e.filterList)||void 0===w?void 0:w.first(),{isSingleSelection:!0}))}if(!e&&d){let e=null==o?void 0:o.find((e=>e.customFacetId===j.XJ));var Y;if(e)await a(h.cq.getUpdateFilterSelection.trigger(null==e?void 0:e.id,null==e||null===(Y=e.filterList)||void 0===Y?void 0:Y.first(),{isSingleSelection:!0}))}this.fetch24hProducts()}))})),(0,n.default)(this,"fetch24hProducts",(()=>{this.handleViewProducts()}));const{dispatch:t,queryParams:i}=this.props;S.Z.handlePageRenderStart(t,Q.uF.TAG),this.verticalScrollViewRef=null,this.state={isLoadMoreModeEnabled:1===(i[J.LG.PAGE]||1),initialFilterHeight:null,isComponentRender:!1,isOptimizeScriptLoad:!0,previousDeliveryData:{}}}componentWillUnmount(){var e,l,t,i,n,a,r,o,s,d;const{dispatch:u}=this.props;u(D.cq.getMobileTagPageFeatureToggles.cancel()),u(h.cq.getNextTagFilters.cancel()),u(h.cq.getTagFilters.cancel()),u(I.cq.getTagProducts.cancel()),u(I.cq.getNextTagProducts.cancel()),u(P.c.getAbTest.cancel()),u(h.cq.getCampaignFilter.cancel()),null===(e=window)||void 0===e||null===(l=e.HbEventBus)||void 0===l||l.off(j.W9,this.deliveryCheckBoxChange),null===(t=window)||void 0===t||null===(i=t.HbEventBus)||void 0===i||i.off(ee._A,this.deliveryLocationChange),null===(n=window)||void 0===n||null===(a=n.HbEventBus)||void 0===a||a.emit(j.Th,!1),null===(r=window)||void 0===r||null===(o=r.HbEventBus)||void 0===o||o.emit(j.Zw,!1),null===(s=window)||void 0===s||null===(d=s.HbEventBus)||void 0===d||d.emit(j.bQ,{removeEventListener:!0}),this.setState({isOptimizeScriptLoad:!1})}UNSAFE_componentWillUpdate(e){const{dispatch:l,location:t}=this.props,i=t.pathname+t.search;i!==e.location.pathname+e.location.search&&(window.ref=window.location.origin+i,S.Z.handlePageRenderStart(l,Q.uF.TAG))}componentDidMount(){const{userInfoPromise:e,cmsComponentsMap:l}=this.props;this.deliveryCheckboxChangeEventListener(),this.deliveryLocationChangeEventListener(),e.then((async()=>{const{dispatch:e,queryParams:l,tagProductArray:t,pageFeatureToggleMap:i,match:{params:{tagId:n}}}=this.props;if(i||await(0,L.V)(e(D.cq.getMobileTagPageFeatureToggles.trigger(xe))),t)S.Z.handlePageRendered(e),this.sendWebtrekkData(),this.handlePageRendered();else{var a;const{pageFeatureToggleMap:t,deliveryLocation:i}=this.props,u=null==i||null===(a=i.town)||void 0===a?void 0:a.code,c=(0,M._G)({queryParams:l,receiverTownCode:u}),v=Be.includes(n),E=(null==t?void 0:t.get(X._.SHOW_QUICK_FILTER))&&(null==t?void 0:t.get(X._.SHOW_JET_DELIVERY_IN_QUICK_FILTER)),g=!E&&(null==t?void 0:t.get(X._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==t?void 0:t.get(X._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING))&&!v,_=(0,Z.$1)();var r,o,s,d;if(g)await(0,L.V)(e(h.cq.getDeliveryInfo.trigger({...l,...c,pageType:Me,[le.M2.TAG_ID]:n,[le.M2.CITIES]:null==i||null===(r=i.city)||void 0===r?void 0:r.code,[le.M2.RECEIVER_CITY]:null==i||null===(o=i.city)||void 0===o?void 0:o.name,[le.M2.RECEIVER_TOWN]:null==i||null===(s=i.town)||void 0===s?void 0:s.name,[le.M2.RECEIVER_DISTRICT]:null==i||null===(d=i.district)||void 0===d?void 0:d.name}))).then((e=>{var l,t,n,a,r,o,s,d,u,c,v,E,g,_,y,p,D,I,h,T;const R=null==e||null===(l=e.result)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data,P=(null==R||null===(n=R.nextDayDelivery)||void 0===n||null===(a=n.values)||void 0===a?void 0:a.length)>0,A=null==R||null===(r=R.nextDayDelivery)||void 0===r||null===(o=r.selectedValues)||void 0===o?void 0:o[0],C=null==R||null===(s=R.nextDayDelivery)||void 0===s?void 0:s.hasProduct,m=null==R||null===(d=R.nextDayDelivery)||void 0===d?void 0:d.insideCutoff,S=null==R||null===(u=R.nextDayDelivery)||void 0===u?void 0:u.isDisplayable,L=(null==R||null===(c=R.expressDelivery)||void 0===c||null===(v=c.values)||void 0===v?void 0:v.length)>0,N=null==R||null===(E=R.expressDelivery)||void 0===E||null===(g=E.selectedValues)||void 0===g?void 0:g[0],O=null==R||null===(_=R.expressDelivery)||void 0===_?void 0:_.hasProduct,f=null==R||null===(y=R.expressDelivery)||void 0===y?void 0:y.insideCutoff,M=null==R||null===(p=R.expressDelivery)||void 0===p?void 0:p.isDisplayable,F=C&&m,x=O&&f;this.setCheckboxStatus({nextDayDeliveryIsSelected:Boolean(A),nextDayDeliveryIsDisabled:!(null!=i&&null!==(D=i.city)&&void 0!==D&&D.code)||!P||(null==i||null===(I=i.city)||void 0===I?void 0:I.code)&&!F&&!A,nextDayDeliveryInsideCutoff:m,nextDayDeliveryHasProduct:C,nextDayDeliveryVisible:S,expressDeliveryIsSelected:Boolean(N),expressDeliveryIsDisabled:!(null!=i&&null!==(h=i.city)&&void 0!==h&&h.code)||!L||(null==i||null===(T=i.city)||void 0===T?void 0:T.code)&&!x&&!N,expressDeliveryInsideCutoff:f,expressDeliveryHasProduct:O,expressDeliveryVisible:M})}));if(E){const t=(0,K.b)("location");await(0,W.Qu)({dispatch:e,queryParams:l,locationCookie:t})}Ge.fetchInitialFilters(e,{...l,...c},n,_).then((()=>{null!=t&&t.get(X._.DISPLAY_CAMPAIGN_FILTER)&&(0,L.V)(e(h.cq.getCampaignFilter.trigger({...l,pageType:Me,[le.M2.TAG_ID]:n})))})),(0,L.V)(e(I.cq.getTagProducts.trigger({...l,...c,[le.M2.TAG_ID]:n},_))).then((l=>{S.Z.handlePageRendered(e),this.redirectIfNecessary(l.result.data),this.handlePageRendered()}))}this.handleTagDependentLogic("create"),window.history.scrollRestoration="manual",setTimeout((()=>{(0,F.LP)()}),oe.U4),this.setFilterHeight()}))}handleTagDependentLogic(){this.fetchVoltranFragment(),this.fetchCMSBanner()}componentDidUpdate(e){const{dispatch:l,location:t,tagProductArray:i,hasAppliedFilters:n}=this.props;e.location!==t&&this.handleLocationChange(e),(null==e?void 0:e.hasAppliedFilters)!==n&&this.fetchCMSBanner(),e.tagProductArray!==i&&this.executeAnalyticsLogic(),this.setFilterHeight(),window.addEventListener("popstate",((t,i)=>{e.location.hash===j.ee&&window.location.hash!==e.location.hash&&(l(h.cq.resetActiveFacet()),l(h.cq.restorePreviousFilterState()),this.handleFiltersPanelClose())}))}checkForFilterQueryParamsChange(e){const{queryParams:l}=this.props;let t=!1;return(0,g.forEach)({...l,...e.queryParams},((i,n)=>{n!==J.LG.PAGE&&n!==J.LG.SORT_BY&&e.queryParams[n]!==l[n]&&(t=!0)})),t}handleOnTownChanged(e){const{dispatch:l}=this.props;this.fetchNewTagProducts({address:{receiverTownCode:e||""}}).then((e=>{S.Z.handlePageRendered(l),l(T.cq.setNextSeoInfo(e.result)),this.redirectIfNecessary(e.result.data),this.handlePageRendered()}))}async handleLocationChange(e){var l;const{dispatch:t,queryParams:i,location:n,match:a,pageFeatureToggleMap:r,deliveryLocation:o}=this.props,{tagId:s}=a.params,d=i[J.LG.CATEGORY],u=this.checkForFilterQueryParamsChange(e),c=e.match.params.categoryId!==d,v=e.location.search===n.search,E=e.queryParams[J.LG.PAGE]!==i[J.LG.PAGE],g=e.queryParams[J.LG.SORT_BY]!==i[J.LG.SORT_BY],_=e.match.params.tagId!==s,y=Be.includes(s),p=null==o||null===(l=o.town)||void 0===l?void 0:l.code,D=(0,M._G)({queryParams:i,receiverTownCode:p}),I=e.queryParams[le.M2.GENERIC_FILTERS]!==i[le.M2.GENERIC_FILTERS],R=e.queryParams[le.M2.BRAND]!==i[le.M2.BRAND],P=v||Boolean(window.location.hash),A=null==r?void 0:r.get(X._.SHOW_QUICK_FILTER),C=A&&(null==r?void 0:r.get(X._.SHOW_JET_DELIVERY_IN_QUICK_FILTER)),m=!C&&(null==r?void 0:r.get(X._.DISPLAY_JET_DELIVERY_WIDGET))&&(null==r?void 0:r.get(X._.ENABLE_JET_DELIVERY_ON_PWA_MOBILE_LISTING))&&!y;if((e.queryParams[J.LG.PAGE]&&!i[J.LG.PAGE]||!E||u)&&(I||R)&&A&&(P||window.HbEventBus.emit(j.bQ,{})),(_||u)&&m){var N,F,x,B,G;if((0,w.YT)(i,null==o||null===(N=o.city)||void 0===N?void 0:N.code)){var V;const e=(0,O.T9)({...(0,w.kw)(i,null==o||null===(V=o.city)||void 0===V?void 0:V.code)});this.updateLocation({pathname:(0,f.RC)(te._1[te.VT.MOBILE].TAG_PAGE,{tagId:s}),search:e},{isReplace:!0})}(0,L.V)(t(h.cq.getDeliveryInfo.trigger({...i,...D,pageType:Me,[le.M2.TAG_ID]:s,[le.M2.CITIES]:null==o||null===(F=o.city)||void 0===F?void 0:F.code,[le.M2.RECEIVER_CITY]:null==o||null===(x=o.city)||void 0===x?void 0:x.name,[le.M2.RECEIVER_TOWN]:null==o||null===(B=o.town)||void 0===B?void 0:B.name,[le.M2.RECEIVER_DISTRICT]:null==o||null===(G=o.district)||void 0===G?void 0:G.name}))).then((e=>{var l,t,i,n,a,r,s,d,u,c,v,E,g,_,y,p,D,I,h,T;const R=null==e||null===(l=e.result)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.data,P=(null==R||null===(i=R.nextDayDelivery)||void 0===i||null===(n=i.values)||void 0===n?void 0:n.length)>0,A=null==R||null===(a=R.nextDayDelivery)||void 0===a||null===(r=a.selectedValues)||void 0===r?void 0:r[0],C=null==R||null===(s=R.nextDayDelivery)||void 0===s?void 0:s.hasProduct,m=null==R||null===(d=R.nextDayDelivery)||void 0===d?void 0:d.insideCutoff,S=null==R||null===(u=R.nextDayDelivery)||void 0===u?void 0:u.isDisplayable,L=(null==R||null===(c=R.expressDelivery)||void 0===c||null===(v=c.values)||void 0===v?void 0:v.length)>0,N=null==R||null===(E=R.expressDelivery)||void 0===E||null===(g=E.selectedValues)||void 0===g?void 0:g[0],O=null==R||null===(_=R.expressDelivery)||void 0===_?void 0:_.hasProduct,f=null==R||null===(y=R.expressDelivery)||void 0===y?void 0:y.insideCutoff,M=null==R||null===(p=R.expressDelivery)||void 0===p?void 0:p.isDisplayable,F=C&&m,x=O&&f;this.setCheckboxStatus({nextDayDeliveryIsSelected:Boolean(A),nextDayDeliveryIsDisabled:!(null!=o&&null!==(D=o.city)&&void 0!==D&&D.code)||!P||(null==o||null===(I=o.city)||void 0===I?void 0:I.code)&&!F&&!A,nextDayDeliveryInsideCutoff:m,nextDayDeliveryHasProduct:C,nextDayDeliveryVisible:S,expressDeliveryIsSelected:Boolean(N),expressDeliveryIsDisabled:!(null!=o&&null!==(h=o.city)&&void 0!==h&&h.code)||!L||(null==o||null===(T=o.city)||void 0===T?void 0:T.code)&&!x&&!N,expressDeliveryInsideCutoff:f,expressDeliveryHasProduct:O,expressDeliveryVisible:M})}))}if((_||u)&&C){const e=(0,K.b)("location");await(0,W.Qu)({dispatch:t,queryParams:i,locationCookie:e})}(g||E||u)&&this.handleTagDependentLogic("update"),(g||c||E||u)&&this.fetchNewTagProducts({areSelectedFiltersQueryParamsChanged:u}).then((e=>{S.Z.handlePageRendered(t),t(T.cq.setNextSeoInfo(e.result)),this.redirectIfNecessary(e.result.data),this.handlePageRendered()})),this.fetchNewFiltersIfNecessary(c,u,E,g),(!n.state||n.state&&!n.state.shouldAppendNewTagProducts)&&this.verticalScrollViewRef.scrollToTop()}fetchNewFiltersIfNecessary(e,l){const{dispatch:t,match:i,queryParams:n,filterApiQueryParams:a,deliveryLocation:r}=this.props,{tagId:o}=i.params;if(l||e){var s;let l;const i=null==r||null===(s=r.town)||void 0===s?void 0:s.code,d=(0,M._G)({queryParams:n,receiverTownCode:i}),u=(0,Z.$1)();l=e?{...n,...a,[le.M2.TAG_ID]:o,[J.LG.SORT_BY]:null,[J.LG.PAGE]:null}:{...n,[J.LG.SORT_BY]:null,[J.LG.PAGE]:null,[le.M2.TAG_ID]:o},(0,L.V)(t(h.cq.getTagFilters.trigger({...l,...d},u))),(0,L.V)(t(h.cq.getCampaignFilter.trigger({...n,pageType:Me,[le.M2.TAG_ID]:o})))}}sendWebtrekkData(){const{dispatch:e,appliedFacetArray:l,userInfo:t,queryParams:i,totalTagProductCount:n}=this.props,a=window.utagData?window.utagData.page_value:"",r=(0,G.Oe)(i,l,n,n,a);(0,G.kp)(r,t.isAuthenticated),e(A.cq.sendWebtrekkEvent.trigger(r))}render(){var e,l;const{match:{params:{categoryId:t,tagId:n}},history:a,queryParams:o,location:d,seoInfo:u,tagProductArray:c,isFetching:v,tagSeoInfo:E,isGetTagProductsPending:g,tagPageBreadCrumbConfigArray:_,isFilterManagementPanelActive:y,pageFeatureToggleMap:D,totalTagPageNumber:I,tagProductPaginationParams:h,totalTagProductCount:T,filteredCategory:R,hasAppliedFilters:P,isBot:A,selectedFiltersByFacetMap:C,initialPageNumber:m,tagShippingType:S,dispatch:L,facetList:N,tagSearchPass:O,fragmentsMap:f,isGetSplitProductVariantsPending:M,isAddToCartPending:F,cartCandidateProduct:x,campaignFilters:B,deliveryInfo:G,deliveryLocation:V,appliedSelectedAnyDeliveryValue:w,nextDayDeliverySelected:Y,expressDeliverySelected:q,appliedFacetArray:k,routeChange:U,serverSideRendering:K,cmsComponentsMap:Z,tagRewriteUrl:z,townToTownEAD:j,quickFilterViewCount:ee,selectedFilterCount:te,algKey:ie}=this.props,{isLoadMoreModeEnabled:ne,isComponentRender:oe,initialFilterHeight:ue,isOptimizeScriptLoad:ce}=this.state,Pe=Ge.isAdditionalContentEnabled(o,P||Boolean(o[le.M2.CATEGORY]),m),Ae=!!D&&D.get(X._.DISPLAY_GLOBAL_CAMPAIGN_TEXT);let Me=Ae?p().campaignTextOnProduct:p().categoryPageStaticCampaignText;const Fe=(0,b.yP)(o,ne)&&Ge.isSeoContentAdditionalContentEnabled(o,P,m);let xe;const Ve=Be.includes(n),be=null==D?void 0:D.get(X._.SHOW_JET_DELIVERY_IN_QUICK_FILTER);!Ve&&be&&(xe={[re.RB.DELIVERY]:null==f?void 0:f.get(re.x$[re.RB.DELIVERY].id.toString())}),xe={...xe,[re.RB.MORIA_LISTING]:se.Z.getMobileComponents(f,de.Oe.QUICK_FILTER),[re.RB.SHIPPING_LOCATION]:null==f?void 0:f.get(re.x$[re.RB.SHIPPING_LOCATION].id.toString())};const we=U||!K,Ye=(null==z?void 0:z.rewriteUrl)||n,qe=xe[re.RB.MORIA_LISTING],He=(null==D?void 0:D.get(X._.SHOW_QUICK_FILTER))&&(null===qe||qe&&!(null!=qe&&qe.isEmpty)),ke=He&&be,Ue=(null==c?void 0:c.length)>0,We=null==Z?void 0:Z.get(Ye),Ke=We&&!(null!=We&&We.isEmpty),Ze=(null==D?void 0:D.get(X._.DISPLAY_BANNER_ENABLED_FOR_TAG_PAGE))&&Ke&&Pe,Qe=null===W.ew||void 0===W.ew?void 0:W.ew.some((e=>{var l;return null==o||null===(l=o.filtreler)||void 0===l?void 0:l.includes(e)}));return r().createElement("div",{className:Ne.Z.root},r().createElement(Le.Z,{bannerFragment:We,isBannerActive:Ze,preloadRetinaImages:A}),ce&&r().createElement(H.Z,{pageType:ae.h6}),r().createElement(Ie.Z,{seoInfo:u,helmetClientChanged:this.setSeoInfo(u)}),oe&&r().createElement(Ee.Z,{afterPageLoadSend:this.sendPageLoadCallback}),g&&r().createElement(pe.Z,{show:!0}),r().createElement(ye.Z,{ref:this.verticalScrollViewRefCallback},_&&_.length>0&&r().createElement(Te.Z,{location:d,isSchemaStructuredActive:!0,itemConfigs:_}),E&&E.h1&&c&&c.length>0&&r().createElement(he.Z,{title:E.h1,count:T}),Ze&&r().createElement("div",{className:Ne.Z.bannerContainer},r().createElement(me.Z,{componentInfo:We,scriptsOptions:{scriptRenderMethodClientSide:we}})),!He&&Ue&&r().createElement(Re.default,{dispatch:L,pageTypeForDavinci:Q.ps.TAG,pageValueForDavinci:n,hasAppliedFilters:P,sortType:o[J.LG.SORT_BY],initialFilterHeight:ue,onSortTypeChange:this.handleSortTypeChange,onFilterClick:this.handleFilterButtonClick}),(null==B||null===(e=B.items)||void 0===e?void 0:e.length)>0&&r().createElement(_e.default,{campaigns:B,pageTypeForDavinci:Q.ps.TAG,pageValueForDavinci:n,onViewProducts:this.handleViewProducts,isAmoungProduct:!1,queryParams:o}),He&&Ue&&r().createElement(Se.Z,{fragments:xe,renderMethodClientSide:we,selectedFilterCount:te,hasAppliedFilters:P,quickFilterViewCount:ee,onClick:this.handleFilterButtonClick}),(null===(l=xe)||void 0===l?void 0:l[re.RB.DELIVERY])&&!ke&&r().createElement("div",{className:s()(Ne.Z.deliveryContainer,{[Ne.Z.hasQuickFilter]:He})},r().createElement(Ce.Z,{fragmentInfo:xe[re.RB.DELIVERY],options:re.x$[re.RB.DELIVERY],renderMethodClientSide:we})),c&&c.length>0&&r().createElement(ve.Z,{className:Ne.Z.hbProducts,category:R,products:c,algKey:ie,deliveryLocation:V,deliveryInfo:G,currentPageNumber:h.pageNumber,totalPageNumber:I,seoInfo:E,history:a,isFetching:v,townToTownEAD:j,totalProductCount:T,isInfiniteScroll:ne,isPending:g,itemProps:{shouldNotifyDavinci:!0,imgSize:$.MA,imageHeightSize:"443",imageWidthSize:"300",displayCampaignText:Ae,campaignText:Me},canDisplayPlaceholder:!0,facetList:N,shippingType:S,pageTypeForDavinci:Q.ps.TAG,selectedFiltersByFacetMap:C,isListingPage:!0,isTagPage:!0,pageValueForDavinci:n,queryParams:o,location:d,pathname:d.pathname,searchPass:O,isBot:A,onPageChange:this.handleProductListViewPageChange,onListEnd:this.handleProductListViewLoadMore,isProductActionsPending:M||F,pendingProductIds:x?[x.productId]:[],breadCrumbItems:_,onViewProducts:this.handleViewProducts,forcePreloadFirstImage:!Ze,isQuickFilterJetDeliveryChecked:He&&Qe,campaignFilters:B}),r().createElement(ge.default,{isActive:y,categoryId:t,queryParams:o,hasAppliedFilters:P,pageTypeForDavinci:Q.ps.TAG,pageValueForDavinci:n,pathname:d.pathname,onClose:this.handleFiltersPanelClose,onCategoryFilterChange:this.handleCategoryFilterChange,onViewProducts:this.handleViewProducts,onClearAllFiltersButtonClick:this.handleClearAllFiltersButtonClick,onClearFacetFiltersButtonClick:this.handleClearFacetFiltersButtonClick,showQuickFilterArea:He}),c&&0===c.length&&r().createElement(Oe,(0,i.default)({},w&&{NoResultComponent:fe,deliveryLocation:V,nextDayDeliverySelected:Y,expressDeliverySelected:q,deliveryInfo:G,category:R,appliedFacetArray:k},{dispatch:L,isListingPage:!0,products:c,currentPageNumber:h.pageNumber,category:R,pageTypeForDavinci:Q.ps.TAG,pageValueForDavinci:n,location:d,queryParams:o,searchPass:O,shippingType:S,facetList:N,selectedFiltersByFacetMap:C,totalProductCount:T,seoInfo:E})),Fe&&r().createElement(De.Z,null)))}}(0,n.default)(Ge,"isSeoContentAdditionalContentEnabled",((e,l)=>!(Boolean(e[J.LG.SORT_BY])||l))),(0,n.default)(Ge,"isAdditionalContentEnabled",((e,l,t)=>!(Boolean(e[J.LG.SORT_BY])||l||(0,x.v)(t)>=Fe)));const Ve=e=>{const{accountState:{userInfo:l,quickFilterViewCount:t},tagState:{tagProductArray:i,algKey:n,isFetching:a,tagProductPaginationParams:r,tagSeoInfo:o,totalTagProductCount:s,tagShippingType:d,initialPageNumber:u,townToTownEAD:c},pendingState:{isGetTagProductsPending:v,isAddToCartPending:E,isGetSplitProductVariantsPending:g},seoState:{seoInfo:_},filterState:{filteredCategory:y,facetMap:p,initialFilteredCategory:D,isFilterManagementPanelActive:I,activeFacet:h,visibleSelectedFiltersByFacetMap:T,selectedFiltersByFacetMap:R,appliedFacetArray:P,campaignFilters:A,deliveryInfo:C,deliveryLocation:m,nextDayDeliverySelected:S,expressDeliverySelected:L,appliedSelectedAnyDeliveryValue:N,sortValue:O,selectedFilterCount:f},featureToggleState:{pageFeatureToggleMap:M},voltranState:{fragmentsMap:F},cartState:{cartCandidateProduct:x},cmsComponentState:{cmsComponentsMap:B,tagRewriteUrl:G},userAgentState:{isBot:V}}=e;return{activeFacet:h,appliedFacetArray:P,filteredCategory:y,pageFeatureToggleMap:M,userInfo:l,seoInfo:_,initialFilteredCategory:D,isFilterManagementPanelActive:I,tagProductArray:i,algKey:n,tagProductPaginationParams:r,tagShippingType:d,tagSeoInfo:o,isBot:V,initialPageNumber:u,totalTagProductCount:s,filterApiQueryParams:(0,ce.ju)(e),filterApiQueryParamsString:(0,ce.LM)(e),tagPageBreadCrumbConfigArray:(0,ue._N)(e),hasAppliedFilters:(0,ce.sy)(e),tagPageFilterQueryParams:(0,ue.zM)(e),totalTagPageNumber:(0,ue.Dq)(e),tagIdsMatchParam:(0,ce.Ax)(e),visibleSelectedFiltersByFacetMap:T,selectedFiltersByFacetMap:R,isGetTagProductsPending:v,facetMap:p,facetList:(0,ce.Uj)(e),fragmentsMap:F,isAddToCartPending:E,isGetSplitProductVariantsPending:g,cartCandidateProduct:x,campaignFilters:A,deliveryInfo:C,deliveryLocation:m,nextDayDeliverySelected:S,expressDeliverySelected:L,appliedSelectedAnyDeliveryValue:N,cmsComponentsMap:B,tagRewriteUrl:G,isFetching:a,townToTownEAD:c,quickFilterViewCount:t,sortValue:O,selectedFilterCount:f}},be=(0,d.connect)(Ve)((0,Pe.Z)((0,Ae.Z)(Ge))),we=(0,u.withRouter)(be),Ye=we},6039:(e,l,t)=>{t.d(l,{g4:()=>s,kS:()=>i,pD:()=>n,YN:()=>r,J:()=>o});const i=[{labelText:"Anasayfa",url:"/",isRoot:!0}],n=5,a={autoRotate:!0,showArrowsOnlyOnHover:!0,shouldLoadEagerly:!0},r={...a},o={...a,sliderDots:!1},s=["2147483636"]}}]);
//# sourceMappingURL=4860-52f0e055beabbbca5f8d.js.map